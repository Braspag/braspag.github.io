<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Split de Pagamentos - Agenda Financeira / Conciliação &middot; Braspag Developers - Manuais
        
    </title>

    <link rel="shortcut icon" href="https://braspag.github.io//assets/favicon.png">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <script src="https://use.fontawesome.com/3ae06f1030.js"></script>
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/poole.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/syntax.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/hyde.css">

    <link rel="stylesheet" href="https://braspag.github.io//assets/css/bootstrap.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery.tocify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery-ui.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/prettify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/custom.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/braspag.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://braspag.github.io//manual/split-pagamentos-api-agenda-conciliacao" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://braspag.github.io//en/manual/split-pagamentos-api-agenda-conciliacao" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://braspag.github.io//atom.xml">
</head>

    <body>
        
            <div class="content-container no-dark-box">
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="http://www.braspag.com.br/suporte/" class="help">Ajuda</a>

                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://braspag.github.io//manual/split-pagamentos-api-agenda-conciliacao">Split de Pagamentos - Agenda Financeira / Conciliação</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="introdução">Introdução</h1>

<p>O objetivo desta documentação é orientar o desenvolvedor sobre como integrar sua plataforma à API do Split de Pagamentos, descrevendo os serviços disponíveis com exemplos de requisição e resposta.</p>

<p>O Split de Pagamentos se divide em <strong>Transacional</strong> e <strong>Agenda Financeira / Conciliação</strong>.</p>

<h2 id="transacional">Transacional</h2>

<p>As operações transacionais serão responsáveis pela criação de novas transações e manipulação, permitindo que sejam capturas, canceladas ou estornadas de acordo com seus prazos.<br />
Possuímos duas maneiras de integração com as API transacionais, são elas:</p>

<blockquote>
  <p><a href="https://braspag.github.io//manual/split-de-pagamentos-pagador"><strong>Pagador Braspag</strong></a><br />
<a href="https://braspag.github.io//manual/split-de-pagamentos-cielo-e-commerce"><strong>Cielo 3.0</strong></a></p>
</blockquote>

<h2 id="agenda-financeira--conciliação">Agenda Financeira / Conciliação</h2>

<p>As operações de gerenciamento do Split de Pagamentos serão exploradas nessa documentação. Elas lhe permitem acessar serviços como:</p>

<ul>
  <li>Pós Transacional</li>
  <li>Agenda Financeira</li>
  <li>Chargeback (Divisão)</li>
  <li>Liquidação (Trava)</li>
  <li>Antecipação (Liberação)</li>
</ul>

<h2 id="ambientes">Ambientes</h2>

<p>Existem dois ambientes distintos para a integração com a API: o ambiente <strong>Sandbox</strong> e o ambiente de <strong>Produção</strong>.<br />
No ambiente Sandbox, podem ser realizados a homologação e os testes de sua integração. Já no ambiente de Produção, são realizadas as transações reais.</p>

<p><br />Para executar uma operação:</p>

<ol>
  <li>Combine a <strong>base</strong> da URL do ambiente com o <strong><em>endpoint</em></strong> da operação desejada. Ex.: https://split.braspag.com.br/<em>oauth2/token</em>.</li>
  <li>Envie a requisição para a URL utilizando o método HTTP (GET, POST ou PUT) adequado à operação.</li>
</ol>

<h3 id="sandbox">Sandbox</h3>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>URL Base</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>API Split</strong></td>
      <td>https://splitsandbox.braspag.com.br/</td>
      <td>Para requisições de agenda financeira, chargeback, liquidação e antecipação.</td>
    </tr>
    <tr>
      <td><strong>Braspag OAUTH2 Server</strong></td>
      <td>https://authsandbox.braspag.com.br/</td>
      <td>Para requisição de autenticação.</td>
    </tr>
  </tbody>
</table>

<p><strong>Nota:</strong> Solicite suas credenciais para o ambiente de teste em nosso <a href="https://suporte.braspag.com.br">Portal de Suporte</a> ou pelo telefone <strong>3003-6554</strong>.</p>

<h3 id="produção">Produção</h3>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>URL Base</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>API Split</strong></td>
      <td>https://split.braspag.com.br/</td>
      <td>Para requisições de agenda financeira, chargeback, liquidação e antecipação.</td>
    </tr>
    <tr>
      <td><strong>Braspag OAUTH2 Server</strong></td>
      <td>https://auth.braspag.com.br/</td>
      <td>Para requisição de autenticação.</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Credenciais de acesso são utilizadas para autenticar todas as requisições feitas para os endpoints da API.</aside>
<aside class="warning">Por segurança, essas credenciais não devem ser indevidamente compartilhadas ou expostas.</aside>

<h2 id="autenticação">Autenticação</h2>

<p>O Split de Pagamentos utiliza como segurança o protocolo <a href="https://oauth.net/2/">OAUTH2</a>. É necessário primeiramente obter um token de acesso, utilizando suas credenciais. O token deverá posteriormente ser enviado à API do Split.</p>

<p>Para obter um token de acesso:</p>

<ol>
  <li>Concatene o ClientId e ClientSecret: <code class="language-plaintext highlighter-rouge">ClientId:ClientSecret</code>.</li>
  <li>Codifique o resultado da concatenação em Base64.</li>
  <li>Realize uma requisição ao servidor de autorização utilizando o código alfanumérico gerado.</li>
</ol>

<p>Segue exemplo de requisição a ser enviada:</p>

<h3 id="requisição">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/oauth2/token</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x-www-form-urlencoded
<span class="nt">--header</span> <span class="s2">"Authorization: Basic {base64}"</span>  
<span class="nt">--header</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>  
<span class="nv">grant_type</span><span class="o">=</span>client_credentials
</code></pre></div></div>

<h3 id="resposta">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbG.....WE1igNAQRuHAs"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Nota:</strong> O ClientId é o identificador dentro da Braspag, conhecido também como MerchantId. O ClientSecret é a chave utilizada na autenticação.</p>

<p>O token retornado (<code class="language-plaintext highlighter-rouge">access_token</code>) deverá ser utilizado em toda requisição à API Split como uma chave de autorização. O mesmo possui uma validade de 20 minutos, sendo necessário obter um novo token toda vez que ele expirar.</p>

<h1 id="agenda-financeira">Agenda Financeira</h1>

<p>No Split de Pagamentos, o responsável por realizar o repasse dos valores (liquidação) a cada um dos participantes de uma venda é a Braspag (Facilitador).<br />
A Braspag irá gerar uma agenda financeira que poderá ser consultada a qualquer momento pelo Marketplace e/ou Subordinados.
Essa agenda é composta por eventos de Crédito e Débito que são gerados de acordo com as operações efetuadas e o regime de pagamento acordado.</p>

<p>Em uma consulta ou ajuste na agenda, os seguintes valores podem ser retornados no campo <code class="language-plaintext highlighter-rouge">Schedules.EventDescription</code>, em resposta à requisição:</p>

<p>Eventos de <strong>Crédito</strong>:</p>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Evento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><code class="language-plaintext highlighter-rouge">Credit</code></td>
      <td>Lançamento de crédito das parcelas de uma transação.</td>
    </tr>
    <tr>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">FeeCredit</code></td>
      <td>Lançamento de crédito da tarifa fixa acordada entre o Marketplace e a Braspag (Facilitador).</td>
    </tr>
    <tr>
      <td>5</td>
      <td><code class="language-plaintext highlighter-rouge">RefundCredit</code></td>
      <td>Lançamento de crédito devido a um cancelamento.</td>
    </tr>
    <tr>
      <td>7</td>
      <td><code class="language-plaintext highlighter-rouge">ChargebackCredit</code></td>
      <td>Lançamento de crédito devido a um chargeback.</td>
    </tr>
    <tr>
      <td>9</td>
      <td><code class="language-plaintext highlighter-rouge">UndoChargebackCredit</code></td>
      <td>Lançamento de crédito para reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>11</td>
      <td><code class="language-plaintext highlighter-rouge">AntiFraudFeeCredit</code></td>
      <td>Lançamento de crédito referente à transação de antifraude.</td>
    </tr>
    <tr>
      <td>13</td>
      <td><code class="language-plaintext highlighter-rouge">AntiFraudFeeWithReviewCredit</code></td>
      <td>Lançamento de crédito referente à transação de antifraude com revisão manual.</td>
    </tr>
    <tr>
      <td>15</td>
      <td><code class="language-plaintext highlighter-rouge">AdjustmentCredit</code></td>
      <td>Lançamento de um crédito como ajuste.</td>
    </tr>
    <tr>
      <td>17</td>
      <td><code class="language-plaintext highlighter-rouge">ChargebackReversalCredit</code></td>
      <td>Lançamento de crédito referente à reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>19</td>
      <td><code class="language-plaintext highlighter-rouge">AnticipationCredit</code></td>
      <td>Lançamento de crédito referente a antecipação.</td>
    </tr>
    <tr>
      <td>20</td>
      <td><code class="language-plaintext highlighter-rouge">AnticipationCommissionCredit</code></td>
      <td>Lançamento de crédito referente à comissão de uma antecipação.</td>
    </tr>
  </tbody>
</table>

<p>Eventos de <strong>Débito</strong>:</p>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Evento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2</td>
      <td><code class="language-plaintext highlighter-rouge">Debit</code></td>
      <td>Lançamento de débito das parcelas de uma transação.</td>
    </tr>
    <tr>
      <td>4</td>
      <td><code class="language-plaintext highlighter-rouge">FeeDebit</code></td>
      <td>Lançamento de débito da tarifa fixa acordada entre o Marketplace e a Braspag (Facilitador).</td>
    </tr>
    <tr>
      <td>6</td>
      <td><code class="language-plaintext highlighter-rouge">RefundDebit</code></td>
      <td>Lançamento de débito devido a um cancelamento.</td>
    </tr>
    <tr>
      <td>8</td>
      <td><code class="language-plaintext highlighter-rouge">ChargebackDebit</code></td>
      <td>Lançamento de débito devido a um chargeback.</td>
    </tr>
    <tr>
      <td>10</td>
      <td><code class="language-plaintext highlighter-rouge">UndoChargebackDebit</code></td>
      <td>Lançamento de débito para reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>12</td>
      <td><code class="language-plaintext highlighter-rouge">AntiFraudFeeDebit</code></td>
      <td>Lançamento de débito referente à transação de antifraude.</td>
    </tr>
    <tr>
      <td>14</td>
      <td><code class="language-plaintext highlighter-rouge">AntiFraudFeeWithReviewDebit</code></td>
      <td>Lançamento de débito referente à transação de antifraude com revisão manual.</td>
    </tr>
    <tr>
      <td>16</td>
      <td><code class="language-plaintext highlighter-rouge">AdjustmentDebit</code></td>
      <td>Lançamento de um débito como ajuste.</td>
    </tr>
    <tr>
      <td>18</td>
      <td><code class="language-plaintext highlighter-rouge">ChargebackReversalDebit</code></td>
      <td>Lançamento de débito referente à reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>22</td>
      <td><code class="language-plaintext highlighter-rouge">AnticipationCommissionDebit</code></td>
      <td>Lançamento de débito referente à comissão de uma antecipação.</td>
    </tr>
  </tbody>
</table>

<p>Um evento poderá estar em um dos seguintes status na agenda financeira:</p>

<ul>
  <li><strong>Scheduled</strong>: Agendado.</li>
  <li><strong>Pending</strong>: Aguardando confirmação de liquidação.</li>
  <li><strong>Settled</strong>: Liquidado.</li>
  <li><strong>Error</strong>: Erro de liquidação na instituição financeira.</li>
  <li><strong>WaitingForAdjustmentDebit</strong>: Aguardando liquidação do ajuste de débito associado.</li>
  <li><strong>Anticipated</strong>: Evento antecipado.</li>
</ul>

<h2 id="consultar-eventos">Consultar Eventos</h2>

<p>A API Split permite consultar o que uma loja tem a receber dentro de um intervalo de datas, de acordo com o seguinte padrão de requisição:</p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/schedule-api/events?initialForecastedDate={initialDate}&amp;finalForecastedDate={finalDate}&amp;pageIndex={pageIndex}&amp;pageSize={pageSize}&amp;eventStatus={eventStatus}&amp;merchantIds={merchantId}</span></aside>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Formato</th>
      <th>Obrigatório</th>
      <th>Valor Padrão</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InitialForecastedDate</code></td>
      <td>Data de pagamento prevista inicial a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>CurrentDate</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FinalForecastedDate</code></td>
      <td>Data de pagamento prevista final a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>InitialForecastedDate</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InitialPaymentDate</code></td>
      <td>Data de pagamento inicial a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FinalPaymentDate</code></td>
      <td>Data de pagamento final a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>InitialPaymentDate</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageIndex</code></td>
      <td>Página a ser consultada.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageSize</code></td>
      <td>Tamanho da página. Valores possíveis: 25, 50, 100.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EventStatus</code></td>
      <td>Status do evento [Scheduled - Pending - Settled - Error - WaitingForAdjustmentDebit - Anticipated].</td>
      <td>String</td>
      <td>-</td>
      <td>Não</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IncludeAllSubordinates</code></td>
      <td>Inclui todos os subordinados na consulta.</td>
      <td>Boolean</td>
      <td>-</td>
      <td>Não</td>
      <td>false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantIds</code></td>
      <td>Lojas a serem consideradas na consulta.</td>
      <td>Guid</td>
      <td>-</td>
      <td>Não</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="requisições">Requisições</h3>

<h4 id="por-data-prevista-de-pagamento">Por Data Prevista de Pagamento</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/schedule-api/events?initialForecastedDate=2017-12-01&amp;finalForecastedDate=2018-12-31&amp;merchantIds=e4db3e1b-985f-4e33-80cf-a19d559f0f60&amp;merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<h4 id="por-data-de-pagamento">Por Data de Pagamento</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/schedule-api/events?initialPaymentDate=2018-08-22&amp;finalPaymentDate=2018-08-31&amp;merchantIds=e4db3e1b-985f-4e33-80cf-a19d559f0f60&amp;merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x-www-form-urlencoded
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer {access_token}"</span>
</code></pre></div></div>

<h3 id="resposta-1">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Schedules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b579fafb-8271-4a1d-a657-00e5fd9b9f83"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f110f0d-82c9-4a1f-8df5-08203348d160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01d9b78f-b287-4376-a5e4-12d91cde1938"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e30760d7-01e2-4b2b-9a43-2b252fcfbd84"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9262</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90ea1e11-568f-49ee-bc3f-7ab2a225a1e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].Id</code></td>
      <td>Identificador do evento na agenda financeira.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].PaymentId</code></td>
      <td>Identificador da transação.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].MerchantId</code></td>
      <td>Identificador da loja.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].PaymentDate</code></td>
      <td>Data de liquidação. Retornada somente quando pagamento realizado (EventStatus = Settled).</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].ForecastedDate</code></td>
      <td>Data de liquidação prevista.</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].Installments</code></td>
      <td>Número de parcelas da transação.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].InstallmentAmount</code></td>
      <td>Valor, em centavos, da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].InstallmentNumber</code></td>
      <td>Número da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].Event</code></td>
      <td>Identificador do evento.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].EventDescription</code></td>
      <td>Descrição do evento. Consulte os tipos de <a href="#agenda-financeira">eventos de débito e crédito</a>.</td>
      <td>String</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Schedules[].EventStatus</code></td>
      <td>Status do evento [Scheduled - Pending - Settled - Error - WaitingForAdjustmentDebit].</td>
      <td>String</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h2 id="consultar-transações">Consultar Transações</h2>

<p>O Split de Pagamentos permite consultar a agenda financeira de várias transações ou de uma transação específica, de acordo com o seguinte padrão de requisição:</p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/schedule-api/transactions?initialCaptureDate={initialDate}&amp;finalCaptureDate={finalDate}&amp;pageIndex={pageIndex}&amp;pageSize={pageSize}&amp;eventStatus={eventStatus}&amp;merchantIds={merchantId}</span></aside>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Formato</th>
      <th>Obrigatório</th>
      <th>Valor Padrão</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InitialCaptureDate</code></td>
      <td>Data inicial a ser consultada, considerando a data de captura das transações.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>CurrentDate</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FinalCaptureDate</code></td>
      <td>Data final a ser consultada, considerando a data de captura das transações.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>InitialCaptureDate</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageIndex</code></td>
      <td>Página a ser consultada.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageSize</code></td>
      <td>Tamanho da página.  Valores possíveis: 25, 50, 100.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EventStatus</code></td>
      <td>Status do evento [Scheduled - Pending - Settled - Error - Anticipated].</td>
      <td>String</td>
      <td>-</td>
      <td>Não</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IncludeAllSubordinates</code></td>
      <td>Inclui todos os subordinados na consulta.</td>
      <td>Boolean</td>
      <td>-</td>
      <td>Não</td>
      <td>false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantIds</code></td>
      <td>Lojas a serem consideradas na consulta.</td>
      <td>Guid</td>
      <td>-</td>
      <td>Não</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p><strong>Nota:</strong> Para informar várias lojas na consulta, basta repetir o parâmetro “merchantIds”. Caso não seja informada nenhuma loja, será considerada a loja utilizada na autenticação à API Split.</p>

<h3 id="requisições-1">Requisições</h3>

<h4 id="para-várias-transações">Para Várias Transações</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/schedule-api/transactions?initialCaptureDate=2017-12-01&amp;finalCaptureDate=2017-12-31&amp;merchantIds=e4db3e1b-985f-4e33-80cf-a19d559f0f60&amp;merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x-www-form-urlencoded
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer {access_token}"</span>  
</code></pre></div></div>

<h4 id="resposta-2">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24afaaaf-f2a1-40a5-bb25-f914fa623c4c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Schedules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24357</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1450</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">38480</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeeDebit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeeDebit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].PaymentId</code></td>
      <td>Identificador da transação.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].CaptureDate</code></td>
      <td>Data de captura da transação.</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].MerchantId</code></td>
      <td>Identificador da loja.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].PaymentDate</code></td>
      <td>Data de liquidação. Retornada somente quando pagamento realizado (EventStatus = Settled).</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].ForecastedDate</code></td>
      <td>Data de liquidação prevista.</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].Installments</code></td>
      <td>Número de parcelas a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].InstallmentsAmount</code></td>
      <td>Valor, em centavos, da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].InstallmentNumber</code></td>
      <td>Número da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].Event</code></td>
      <td>Identificador do evento.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].EventDescription</code></td>
      <td>Descrição do evento.  Consulte os tipos de <a href="#agenda-financeira">eventos de débito e crédito</a>.</td>
      <td>String</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Transactions[].Schedules[].EventStatus</code></td>
      <td>Status do evento [Scheduled - Pending - Settled - Error - Anticipated].</td>
      <td>String</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h4 id="para-uma-transação-específica">Para Uma Transação Específica</h4>

<p>Para consultar a agenda de uma transação específica, basta informar o identificador da transação (<code class="language-plaintext highlighter-rouge">PaymentId</code>) na requisição.<br />
Neste caso, poderão ser utilizados os filtros <code class="language-plaintext highlighter-rouge">MerchantIds</code> e <code class="language-plaintext highlighter-rouge">EventStatus</code>.</p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/schedule-api/transactions/{PaymentId}?merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x-www-form-urlencoded
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer {access_token}"</span>
</code></pre></div></div>

<h4 id="resposta-3">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd2309d3-3fec-4816-aec7-bcb6d51a0988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Schedules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-11"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5790</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-11"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3790</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="ajustes">Ajustes</h2>

<p>O Split de Pagamentos permite que sejam lançados ajustes a crédito e a débito nas agendas dos Subordinados.</p>

<p>Um ajuste somente será efetivamente liquidado para os envolvidos caso o participante a ser debitado possua saldo positivo na data prevista informada para efetivação do ajuste. Caso contrário, a liquidação do ajuste será postergada, para ambos os envolvidos, até que o participante a ser debitado tenha saldo positivo para cobrir o valor do ajuste.</p>

<p><strong>Ex:</strong> Marketplace lança um ajuste a débito de R$100,00 para o Subordinado “A” com data prevista de cobrança em 17/10/2018.</p>

<p><strong>Caso 1)</strong> Subordinado possui saldo positivo na data prevista informada.</p>

<p><img src="https://braspag.github.io/images/braspag/split/adjustment001.png" alt="SplitSampleadjustment001" /></p>

<p>Os valores até o dia 16/10/2018 foram liquidados normalmente.<br />
Como o subordinado tinha R$150,00 para receber no dia 17/10/2018, o ajuste foi lançado na agenda financeira na data prevista informada e o mesmo receberá R$50,00 devido ao débito do ajuste.<br />
O participante a ser creditado terá a efetivação do crédito na mesma data de efetivação do débito, ou seja, receberá R$150,00 no dia 17/10/2018.</p>

<p><strong>Caso 2)</strong> Subordinado não possui saldo positivo na data prevista informada.</p>

<p><img src="https://braspag.github.io/images/braspag/split/adjustment002.png" alt="SplitSampleadjustment002" /></p>

<p>Os valores até o dia 16/10/2018 foram liquidados normalmente.<br />
O Subordinado tinha a receber apenas R$60,00 no dia 17/10/2018, o que não cobre o valore do ajuste a ser debitado do mesmo.<br />
Neste cenário, os pagamentos do subordinado serão retidos até que o mesmo tenha saldo para cobrir o ajuste, o que ocorre no dia 19/10/2018, onde o acumulado retido é de R$130,00. Com isso, o subordinado receberá R$30,00. <br />
O participante a ser creditado terá a efetivação do crédito na mesma data de efetivação do débito, ou seja, receberá R$150,00 no dia 19/10/2018.</p>

<h3 id="criar-ajuste">Criar Ajuste</h3>

<p>A criação de um novo ajuste na agenda financeira deve ser realizado como no exemplo abaixo:</p>

<h4 id="requisição-1">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/adjustment-api/adjustments/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Accept: application/json"</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"merchantIdToDebit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EA4DB25A-F981-4849-87FF-026897E006C6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchantIdToCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44F68284-27CF-43CB-9D14-1B1EE3F36838"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Multa por não cumprimento do prazo de entrega no pedido XYZ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"717A0BD0-3D92-43DB-9D1E-9B82DFAFA392"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchantIdToDebit</code></td>
      <td>Merchant do qual o valor será debitado.</td>
      <td>GUID</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchantIdToCredit</code></td>
      <td>Merchant para o qual o valor será creditado.</td>
      <td>GUID</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">forecastedDate</code></td>
      <td>Data prevista para lançamento do ajuste na agenda financeira.</td>
      <td>String</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td>Valor em centavos do ajuste.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">description</code></td>
      <td>Descrição do ajuste.</td>
      <td>String</td>
      <td>500</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">transactionId</code></td>
      <td>Identificador da transação para qual o ajuste está sendo lançado.</td>
      <td>Guid</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Ao associar o ajuste a uma transação, os envolvidos devem ser participantes da transação.</aside>

<h4 id="resposta-4">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--</span><span class="w"> </span><span class="mi">201</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">Created</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68465ddd-451a-4194-abca-be1ed71fb2ea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchantIdToDebit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EA4DB25A-F981-4849-87FF-026897E006C6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchantIdToCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44F68284-27CF-43CB-9D14-1B1EE3F36838"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-19"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Multa por não cumprimento do prazo de entrega no pedido"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"717A0BD0-3D92-43DB-9D1E-9B82DFAFA392"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">id</code></td>
      <td>Identificador do ajuste.</td>
      <td>Guid</td>
      <td>36</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Status do ajuste [Created - Scheduled - Processed - Cancelled ].</td>
      <td>String</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta-de-ajustes">Consulta de Ajustes</h3>

<p>É possível realizar consulta de ajustes com base em um período.</p>

<h4 id="requisição-2">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/adjustment-api/adjustments/?Status=Created&amp;InitialCreationDate=2020-08-20&amp;Page=1&amp;PageSize=25</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x-www-form-urlencoded
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer {access_token}"</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status do ajuste [Created, Scheduled, Processed, Cancelled].</td>
      <td>String</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InitialCreationDate</code></td>
      <td>Data de criação do ajuste.</td>
      <td>YYYY-MM-DD</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Page</code></td>
      <td>Índice da página.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageSize</code></td>
      <td>Quantidade total de itens por página.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-5">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currentPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastPage"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61166084-eaa0-4b7f-9e48-0cf14653c872"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-19 15:18:18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"249c0073-94ac-4a1e-9931-8ca4efba8907"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"merchantIdToDebit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"249c0073-94ac-4a1e-9931-8ca4efba8907"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"merchantIdToCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f5d3eeab-9fc8-4a6e-ba66-d676d5c1a5cb"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"forecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fa6633aa-ee0f-4b14-a558-0e15f2df2388"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bonificação"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Pagination.Total</code></td>
      <td>Total de páginas.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Pagination.PageSize</code></td>
      <td>Quantidade total de itens por página.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Pagination.CurrentPage</code></td>
      <td>Página atual.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Pagination.PageCount</code></td>
      <td>Quantidade de itens na página atual.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Pagination.LastPage</code></td>
      <td>Última página.</td>
      <td>Booleano</td>
      <td>-</td>
      <td><code class="language-plaintext highlighter-rouge">true</code> ou <code class="language-plaintext highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Id</code></td>
      <td>Id do ajuste.</td>
      <td>GUID</td>
      <td>-</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].CreatedAt</code></td>
      <td>Data de criação.</td>
      <td>String</td>
      <td>-</td>
      <td>yyyy-MM-dd hh:mm:ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].MerchantIdToDebit</code></td>
      <td>Merchant do qual o valor será debitado.</td>
      <td>GUID</td>
      <td>-</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].MerchantIdToCredit</code></td>
      <td>Merchant para o qual o valor será creditado.</td>
      <td>GUID</td>
      <td>-</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].ForecastedDate</code></td>
      <td>Data de previsão.</td>
      <td>String</td>
      <td>-</td>
      <td>yyyy-MM-dd</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Amount</code></td>
      <td>Valor do ajuste em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].TransactionId</code></td>
      <td>Id da transação.</td>
      <td>GUID</td>
      <td>-</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Description</code></td>
      <td>Descrição do ajuste.</td>
      <td>String</td>
      <td>500</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h1 id="chargeback">Chargeback</h1>

<p>No Split de Pagamentos, o Marketplace pode definir se assumirá o chargeback ou se o repassará para seus Subordinados, desde que acordado previamente entre as partes.</p>

<p>Se o Marketplace optar por repassar para os Subordinados, o <strong>Chargeback Total</strong> é sensibilizado automaticamente na agenda dos mesmos. Caso contrário, o chargeback será sensibilizado automaticamente na agenda do Marketplace, como acontece com um <strong>Chargeback Parcial</strong>.</p>

<p>O Marketplace pode decidir ainda repassar o chargeback para seus subordinados. Para isso, a API Split disponibiliza um serviço onde o Marketplace pode informar como dividir o valor do chargeback entre os subordinados, caso seja um Chargeback Parcial.</p>

<aside class="notice">É possível solicitar que todo chargeback seja repassado para o subordinado por padrão, mediante abertura de chamado.</aside>

<p>No exemplo abaixo, ocorreu um Chargeback Parcial no valor de R$60,00 de uma transação com valor capturado de R$100,00.</p>

<h2 id="requisição-3">Requisição</h2>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/api/chargebacks/{ChargebackId}/splits</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SubordinateMerchantId</code></td>
      <td>Identificador do Subordinado.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ChargebackAmount</code></td>
      <td>Valor do chargeback que deverá ser repassado ao Subordinado, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h2 id="resposta-6">Resposta</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"ChargebackSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3780</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">220</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1912</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">88</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<aside class="warning">O Marketplace tem 1 dia, contado a partir da data de efetivação do chargeback, para informar como deseja repassar os valores aos subordinados.</aside>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ChargebackSplitPayments.ChargebackSplits</code></td>
      <td>Lista contendo a divisão do chargeback para cada participante.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
  </tbody>
</table>

<h1 id="liquidação">Liquidação</h1>

<p>A plataforma permite que o Master bloqueie temporariamente a liquidação para um Subordinado, para garantia da entrega do produto/serviço. Essa funcionalidade é conhecida como “Escrow”.</p>

<h2 id="trava">Trava</h2>

<p>Este bloqueio, conhecido como custódia, pode durar até 180 dias. Após este prazo, a Braspag liquidará o valor para o subordinado independentemente do bloqueio.<br />
Segue exemplo de requisição:</p>

<h3 id="requisição-4">Requisição</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/api/transactions/{paymentid}/settlements</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9140ca78-3955-44a5-bd44-793370afef94"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kc">true</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="kc">false</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f2d6eb34-2c6b-4948-8fff-51facdd2a28f"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kc">true</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="kc">false</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SubordinateMerchantId</code></td>
      <td>Identificador do subordinado.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Locked</code></td>
      <td>Identifica se a liquidação será travada para o subordinado ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h1 id="antecipação">Antecipação</h1>

<p>No Split de Pagamentos, para os clientes que estejam habilitados e optem por fazer uso de antecipações, existe a possibilidade de determinar quais transações podem participar de operações de antecipação.</p>

<p>O comportamento padrão é que todas as transações possam fazer parte de operações de antecipação, porém o Master pode determinar quais transações estarão disponíveis e quando.</p>

<p>Existem 4 momentos em que se pode liberar uma transação para participar de operações de antecipação:</p>

<ol>
  <li>Na criação da transação, usando valor pré-configurado;</li>
  <li>Na criação da transação, usando valor passado através do request (API Transacional);</li>
  <li>Na redivisão pós transacional da transação;</li>
  <li>Através de endpoint específico para liberação de transação para antecipação.</li>
</ol>

<aside class="warning">Uma vez que a transação está liberada para participar de operações de antecipação, a mesma não pode mais ser bloqueada!</aside>

<h2 id="valor-configurado">Valor Configurado</h2>

<p>Entre em contato com o suporte para criar, atualizar ou remover a configuração com o estado (liberado ou bloqueado) com o qual a transação deve ser criada caso nenhum valor seja passado no request.</p>

<h2 id="configuração-no-transacional">Configuração no Transacional</h2>

<p>Incluir o campo <code class="language-plaintext highlighter-rouge">Payment.SplitTransaction.ReleasedToAnticipation</code> na API transacional, tanto Cielo 3.0 quanto Pagador Braspag.</p>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>true</strong></td>
      <td>A transação ficará liberada para antecipação e não poderá mais ser bloqueada.</td>
    </tr>
    <tr>
      <td><strong>false</strong></td>
      <td>A transação estará bloqueada para ser usada em operações de antecipação e poderá ser liberada em um momento posterior.</td>
    </tr>
  </tbody>
</table>

<h2 id="configuração-no-pós-transacional">Configuração no Pós Transacional</h2>

<h3 id="requisição-5">Requisição</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/api/transactions/{PaymentId}/split?releasedToAnticipation=true</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h3 id="resposta-7">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c96bf94c-b213-44a7-9ea3-0ee2865dc57e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MasterRateDiscountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sale"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReleasedToAnticipation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5670</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">330</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="endpoint-de-liberação">Endpoint de Liberação</h2>

<h3 id="requisição-6">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/anticipation-api/{PaymentId}/release-to-anticipation</span></aside>

<h3 id="resposta-8">Resposta</h3>

<p><code class="language-plaintext highlighter-rouge">HTTP Status Code 200 OK</code></p>

<h1 id="anexos">Anexos</h1>

<h2 id="lista-de-http-status-code">Lista de HTTP Status Code</h2>

<table>
  <thead>
    <tr>
      <th>HTTP Status Code</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Resource Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
  </tbody>
</table>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://braspag.github.io//assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="http://www.braspag.com.br/fale-conosco/">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://braspag.github.io/">
        <img src="https://braspag.github.io//assets/images/logo.png" alt="Braspag Developers - Manuais">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="http://www.braspag.com.br/fale-conosco/">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/Braspag">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://braspag.github.io//assets/js/jquery.min.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="https://braspag.github.io//assets/js/bootstrap.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery.tocify.js"></script>
        <script src="https://braspag.github.io//assets/js/prettify.js"></script>
        <script>
        $(function() {
            var openedHeader = null;

            $("#toc").tocify({
                
                selectors: "h1,h2,h3,h4,h5,h6",
                
                hashGenerator: "pretty",
                ignoreSelector: ".no-toc",
                scrollTo: 100,
                smoothScroll: false,
                showEffect: "none"
            }).data("toc-tocify");

            $('ul').prev('li').addClass('has-subitens');
            $(window).scroll(function () {
                if ($('li.active').closest('.tocify-header') !== openedHeader) {
                    $('li.is-open').removeClass('is-open');

                    openedHeader = $('li.active').closest('.tocify-header');
                }

                openedHeader.find('ul:visible').prev('li').addClass('is-open');
            });

            $('.hamburger').click(function() {
                $('body').toggleClass('sidebar-closed');
            });

            $('.code-menu').click(function() {
                $('body').toggleClass('code-menu-closed');
            });

            prettyPrint();
        });
        </script>

        
        <script src="https://braspag.github.io//assets/js/jquery.highlight.js"></script>
        <script src="https://braspag.github.io//assets/js/lunr.js"></script>
        <script src="https://braspag.github.io//assets/js/search.js"></script>
        

        

        <!-- Hotjar Tracking Code for https://braspag.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2191438,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
