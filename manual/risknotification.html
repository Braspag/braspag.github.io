<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Risk Notification - Manual de integração &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://braspag.github.io//assets/favicon.png">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <script src="https://use.fontawesome.com/3ae06f1030.js"></script>
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/poole.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/syntax.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/hyde.css">

    <link rel="stylesheet" href="https://braspag.github.io//assets/css/bootstrap.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery.tocify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery-ui.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/prettify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/custom.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/braspag.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://braspag.github.io//manual/risknotification" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://braspag.github.io//en/manual/risknotification" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://braspag.github.io//atom.xml">
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='html'>HTML</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="http://www.braspag.com.br/suporte/" class="help">Ajuda</a>

                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://braspag.github.io//manual/risknotification">Risk Notification - Manual de integração</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="visão-geral">Visão Geral</h1>

<p>Risk Notification API foi desenvolvida pelo time de Risco da Braspag para os que clientes possam consultar alertas de fraudes, chargebacks, realizar envio de arquivos para contestação de chargebacks e acatar chargebacks.</p>

<p>A API é baseada em arquitetura REST, que trocam dados em formato JSON seguindo fluxos de autorização definidos pelo protocolo OAuth 2, onde todos os padrões são amplamente utilizados pelo mercado e suportado pelas comunidades técnicas.</p>

<blockquote>
  <p>Para saber mais sobre OAuth 2, consulte <a href="https://oauth.net/2/">https://oauth.net/2/</a></p>
</blockquote>

<h1 id="objetivo">Objetivo</h1>

<p>O objetivo desta documentação é orientar o desenvolvedor sobre como integrar com a Risk Notification API, descrevendo as operações disponíveis com exemplos de requisições e respostas.</p>

<p>Para executar uma operação, combine o endpoint base do ambiente com o endpoint da operação desejada e envie utilizando o VERBO HTTP conforme descrito na operação.</p>

<h1 id="hosts">Hosts</h1>

<h2 id="braspagauth-api">BraspagAuth API</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Ambiente</th>
      <th style="text-align: left">URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Sandbox</code></td>
      <td style="text-align: left">https://authsandbox.braspag.com.br/</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Produção</code></td>
      <td style="text-align: left">https://auth.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h2 id="risk-notification-api">Risk Notification API</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Ambiente</th>
      <th style="text-align: left">URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Sandbox</code></td>
      <td style="text-align: left">https://risknotificationsandbox.braspag.com.br/</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Produção</code></td>
      <td style="text-align: left">https://risknotification.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h1 id="autenticação">Autenticação</h1>

<h2 id="tokens-de-acesso">Tokens de Acesso</h2>

<p>A Risk Notification API utiliza o protocolo padrão de mercado OAuth 2.0 para autorização de acesso a seus recursos específicos por ambientes, que são: <strong>Sandbox</strong> e <strong>Produção</strong>.</p>

<p>Esta sessão descreve o fluxo necessário para que aplicações cliente obtenham tokens de acesso válidos para uso na API.</p>

<h2 id="obtenção-do-token-de-acesso">Obtenção do token de acesso</h2>

<p>O token de acesso é obtido através do fluxo oauth <strong>client_credentials</strong>. O diagrama abaixo, ilustra, em ordem cronológica, a comunicação que se dá entre a <strong>Aplicação Cliente</strong>, a <strong>API BraspagAuth</strong> e a <strong>Risk Notification API</strong>.</p>

<ol>
  <li>
    <p>A <strong>Aplicação Cliente</strong>, informa à API <strong>BraspagAuth</strong> sua credencial.</p>
  </li>
  <li>
    <p>O <strong>BraspagAuth</strong> valida a credencial recebida. Se for válida, retorna o token de acesso para a <strong>Aplicação Cliente</strong>.</p>
  </li>
  <li>
    <p>A <strong>Aplicação Cliente</strong> informa o token de acesso no cabeçalho das requisições HTTP feitas à <strong>Risk Notification API</strong>.</p>
  </li>
  <li>
    <p>Se o token de acesso for válido, a requisição é processada e os dados são retornados para a <strong>Aplicação Cliente</strong>.</p>
  </li>
</ol>

<blockquote>
  <p>Solicite uma credencial abrindo um ticket através da nossa ferramenta de suporte, enviando o(s) IP(s) de saída dos seus servidores de homologação e produção.
<a href="https://suporte.braspag.com.br/hc/pt-br">Suporte Braspag</a></p>
</blockquote>

<h2 id="como-obter-o-token">Como obter o token</h2>

<p>Uma vez em posse da credencial, será necessário “codificá-la” em Base64, utilizando a convenção <strong>client_id:client_secret</strong>, e enviar o resultado no cabeçalho através do campo <strong>Authorization</strong>.</p>

<p>Exemplo:</p>
<ul>
  <li>client_id: <strong>braspagtestes</strong></li>
  <li>client_secret: <strong>1q2w3e4r5t6y7u8i9o0p0q9w8e7r6t5y4u3i2o1p</strong></li>
  <li>String a ser codificada em Base64: <strong>braspagtestes:1q2w3e4r5t6y7u8i9o0p0q9w8e7r6t5y4u3i2o1p</strong></li>
  <li>Resultado após a codificação: <strong>YnJhc3BhZ3Rlc3RlczoxcTJ3M2U0cg==</strong></li>
</ul>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">oauth2/token</span></aside>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/x-www-form-urlencoded</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Basic YnJhc3BhZ3Rlc3RlczoxcTJ3M2U0cg==</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no corpo (Body)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">scope</code></td>
      <td style="text-align: left">Chargeback</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">grant_type</code></td>
      <td style="text-align: left">client_credentials</td>
    </tr>
  </tbody>
</table>

<h3 id="response">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">599</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no corpo (Body)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">access_token</code></td>
      <td style="text-align: left">O token de acesso solicitado. O aplicativo pode usar esse token para se autenticar no recurso protegido, no caso a Risk Notification API</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">token_type</code></td>
      <td style="text-align: left">Indica o valor do tipo de token</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">expires_in</code></td>
      <td style="text-align: left">Expiração do o token de acesso, em segundos <br />O token quando expirar, é necessário obter um novo</td>
    </tr>
  </tbody>
</table>

<h1 id="aceitação">Aceitação</h1>

<h2 id="aceitando-um-chargeback">Aceitando um chargeback</h2>

<aside class="request"><span class="method post">POST</span><span class="endpoint">acceptance/{CaseNumber}</span></aside>

<h3 id="request-1">Request</h3>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">condicional</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">condicional</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso relacionado ao chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h3 id="response-1">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AcceptedByMerchant"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">200 OK</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">Status do chargeback - <a href="https://braspag.github.io/manual/chargeback#tabela-4-status">Tabela 3 - Chargebacks{n}.Status</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">StatusDescription</code></td>
      <td style="text-align: left">Descrição do status do chargeback</td>
    </tr>
  </tbody>
</table>

<h2 id="aceitando-um-chargeback-inexistente">Aceitando um chargeback inexistente</h2>

<aside class="request"><span class="method post">POST</span><span class="endpoint">acceptance/{CaseNumber}</span></aside>

<h3 id="request-2">Request</h3>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">condicional</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">condicional</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h3 id="response-2">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChargebackNotFounded"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chargeback not found"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">404 Not Found</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que o chargeback não foi encontrado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que o chargeback não foi encontrado</td>
    </tr>
  </tbody>
</table>

<h2 id="aceitando-um-chargeback-aceito-anteriormente">Aceitando um chargeback aceito anteriormente</h2>

<aside class="request"><span class="method post">POST</span><span class="endpoint">acceptance/{CaseNumber}</span></aside>

<h3 id="request-3">Request</h3>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso relacionado ao chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h3 id="response-3">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChargebackAlreadyUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chargeback already updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">400 Bad Request</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que o chargeback foi aceito ou contestado anteriomente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que o chargeback foi aceito ou contestado anteriormente</td>
    </tr>
  </tbody>
</table>

<h1 id="contestação">Contestação</h1>

<h2 id="v1-deprecated">V1 (DEPRECATED)</h2>

<h3 id="contestando-um-chargeback">Contestando um chargeback</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">contestation/{CaseNumber}</span><span class="method get">`DEPRECATED`</span></aside>

<h4 id="request-4">Request</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no corpo (Body)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">form-data <br /> Arquivo extensão jpeg, jpg ou png <br /> Obs.: A soma de todos arquivos deve ter no máximo 7mb de tamanho <br /> Obs2.: O prazo para enviar a contestação são de 7 dias corridos, ou seja, chargeback de 13/02/2019 é possível enviar a contestação até 19/02/2019</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-4">Response</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">200 OK</td>
    </tr>
  </tbody>
</table>

<h3 id="contestando-um-chargeback-inexistente">Contestando um chargeback inexistente</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">contestation/{CaseNumber}</span></aside>

<h4 id="request-5">Request</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-5">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChargebackNotFounded"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chargeback not found"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">404 Not Found</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que o chargeback não foi encontrado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que o chargeback não foi encontrado</td>
    </tr>
  </tbody>
</table>

<h3 id="contestando-um-chargeback-contestado-anteriormente">Contestando um chargeback contestado anteriormente</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">contestation/{CaseNumber}</span></aside>

<h4 id="request-6">Request</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-6">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChargebackAlreadyUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chargeback already updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">400 Bad Request</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que o chargeback foi contestado ou aceito anteriomente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que o chargeback foi contestado ou aceito anteriormente</td>
    </tr>
  </tbody>
</table>

<h3 id="contestando-um-chargeback-e-não-enviando-o-arquivo-de-contestação">Contestando um chargeback e não enviando o arquivo de contestação</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">contestation/{CaseNumber}</span></aside>

<h4 id="request-7">Request</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-7">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FileNotFound"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"File not found"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">400 Bad Request</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que não foi enviado com o arquivo de contestação</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que não foi enviado com o arquivo de contestação</td>
    </tr>
  </tbody>
</table>

<h3 id="contestando-um-chargeback-enviando-o-arquivo-de-contestação-com-extensão-diferente-de-jpeg-pfg-ou-png">Contestando um chargeback enviando o arquivo de contestação com extensão diferente de jpeg, pfg ou png</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">contestation/{CaseNumber}</span></aside>

<h4 id="request-8">Request</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-8">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidFileExtension"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid file extension"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">400 Bad Request</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que o arquivo de contestação foi enviado com extensão inválida, diferente de jpeg, pfg ou png</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que o arquivo de contestação foi enviado com extensão inválida, diferente de jpeg, pfg ou png</td>
    </tr>
  </tbody>
</table>

<h3 id="contestando-um-chargeback-enviando-o-arquivo-de-contestação-com-tamanho-maior-que-7mb">Contestando um chargeback enviando o arquivo de contestação com tamanho maior que 7mb</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">contestation/{CaseNumber}</span></aside>

<h4 id="request-9">Request</h4>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
      <td style="text-align: left">Tipo do conteúdo da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authorization</code></td>
      <td style="text-align: left">Bearer {access_token}</td>
      <td style="text-align: left">Tipo da autorização</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EstablishmentCode</code></td>
      <td style="text-align: left">xxxxxxxxxx</td>
      <td style="text-align: left">Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">MerchantId</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantId</code></td>
      <td style="text-align: left">mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm</td>
      <td style="text-align: left">Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a <code class="highlighter-rouge">EstablishmentCode</code> deverá ser enviada</td>
      <td style="text-align: left">sim</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RequestId</code></td>
      <td style="text-align: left">rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr</td>
      <td style="text-align: left">Identificador da requisição</td>
      <td style="text-align: left">sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros na querystring</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CaseNumber</code></td>
      <td style="text-align: left">Número do caso do chargeback</td>
      <td style="text-align: center">sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-9">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidFileLength"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid file length"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parâmetros no cabeçalho (Header)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Content-Type</code></td>
      <td style="text-align: left">application/json</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Status</code></td>
      <td style="text-align: left">400 Bad Request</td>
    </tr>
  </tbody>
</table>

<p><strong>Parâmetros no body (Corpo)</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Code</code></td>
      <td style="text-align: left">Código que o arquivo de contestação foi enviado com tamanho superior a 7mb</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Message</code></td>
      <td style="text-align: left">Mensagem que o arquivo de contestação foi enviado com tamanho superior a 7mb</td>
    </tr>
  </tbody>
</table>

<h2 id="v2">V2</h2>

<h3 id="contestando-um-chargeback-1">Contestando um chargeback</h3>

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span>

``` json
{
    "Files":
    [{
        "FileName": "file1.png",
        "Content": "asdfghjkle ********** lkjhgfdsa"
    },
    {
        "FileName": "file2.jpg",
        "Content": "zxcvbnmasd ********** qwertyuio"
    },
    {
        "FileName": "file3.jpg",
        "Content": "qwertyuiop ********** asdfghjkl"
    }]
}
```

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

**Parâmetros no corpo (Body)**

|Parâmetro|Descrição|Tipo|Obrigatório|Tamanho|
|:-|:-|:-|
|`Files[n].FileName`|Nome do arquivo com extensão <br /> Obs.: Extensões permitidas: png, jpg ou jpeg &lt;/br&gt; Obs2.: A soma de todos arquivos deve ter no máximo 7mb de tamanho &lt;/br&gt; Obs3.: O prazo para realizar a contestação são de 7 dias corridos, ou seja, chargeback de 13/02/2019 é possível enviar a realizar a mesma até 19/02/2019|string|sim|100|
|`Files[n].Content`|Conteúdo do arquivo convertido para base64|string|sim|-|

#### Response

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|200 OK|

### Contestando um chargeback inexistente

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span></aside>

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

#### Response

``` json
{
    "Code": "ChargebackNotFounded",
    "Message": "Chargeback not found"
}
```

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|404 Not Found|

**Parâmetros no body (Corpo)**

|Key|Value|
|:-|:-|
|`Code`|Código que o chargeback não foi encontrado|
|`Message`|Mensagem que o chargeback não foi encontrado|

### Contestando um chargeback contestado anteriormente

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span></aside>

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

#### Response

``` json
{
    "Code": "ChargebackAlreadyUpdated",
    "Message": "Chargeback already updated"
}
```

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|400 Bad Request|

**Parâmetros no body (Corpo)**

|Key|Value|
|:-|:-|
|`Code`|Código que o chargeback foi contestado ou aceito anteriomente|
|`Message`|Mensagem que o chargeback foi contestado ou aceito anteriormente|

### Contestando um chargeback e não enviando o arquivo de contestação

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span></aside>

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

#### Response

``` json
{
    "Message": "The request is invalid.",
    "ModelState": {
        "contestationRequest.Files[0].FileName": [
        "FileName can not be null or empty."
    ],
    "contestationRequest.Files[0].Content": [
        "Content can not be null or empty."
    ]}
}
```

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|400 Bad Request|

**Parâmetros no body (Corpo)**

|Parâmetro|Descrição|
|:-|:-|
|`Message`|Mensagem informando que a requisição é inválida|
|`Message.ModelState.ContestationRequest.Files[n].FileName`|Mensagem informando que o nome do arquivo não foi enviado|
|`Message.ModelState.ContestationRequest.Files[n].FileName`|Mensagem informando que o conteúdo do arquivo não foi enviado|

### Contestando um chargeback enviando o arquivo de contestação com extensão diferente de jpeg, pfg ou png

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span></aside>

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

#### Response

``` json
{
    "Message": "The request is invalid.",
    "ModelState": {
    "contestationRequest.Files[0].FileName": [
        "The file extension must be sent. The accepted extensions are: '.png', '.jpg', '.jpeg'"
    ]}
}
```

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|400 Bad Request|

**Parâmetros no body (Corpo)**

|Parâmetro|Descrição|
|:-|:-|
|`Message`|Mensagem informando que a requisição é inválida|
|`Message.ModelState.ContestationRequest.Files[n].FileName`|Mensagem informando que o arquivo foi enviado com a extensão inválida|

### Contestando um chargeback enviando arquivo para contestação com tamanho maior que 7mb

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span></aside>

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

#### Response

``` json
{
    "Message": "The request is invalid.",
    "ModelState": {
    "contestationRequest.Files[0].Content": [
        "File file1.png has length bigger than the size limit of 7MB."
    ]}
}
```

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|400 Bad Request|

**Parâmetros no body (Corpo)**

|Parâmetro|Descrição|
|:-|:-|
|`Message`|Mensagem informando que a requisição é inválida|
|`Message.ModelState.ContestationRequest.Files[n].FileName`|Mensagem informando que o arquivo foi enviado com tamanho superior a 7mb|

### Contestando um chargeback enviando arquivos e a a soma do tamanho de todos é maior que 7mb

<aside class="request"><span class="method post">POST</span><span class="endpoint">v2/contestation/{CaseNumber}</span></aside>

#### Request

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`EstablishmentCode`|xxxxxxxxxx|Número do estabelecimento ou afiliação na adquirente <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `MerchantId` deverá ser enviada|sim|
|`MerchantId`|mmmmmmmm-mmmm-mmmm-mmmm-mmmmmmmmmmmm|Id da loja na Braspag <br /> Obs.: Caso esta Key não seja enviada, obrigatoriamente a `EstablishmentCode` deverá ser enviada|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`CaseNumber`|Número do caso do chargeback|sim|

#### Response

``` json
{
    "Message": "Files has length bigger than the size limit of 7MB.",
}
```

**Parâmetros no cabeçalho (Header)**

|Key|Value|
|:-|:-|
|`Content-Type`|application/json|
|`Status`|400 Bad Request|

**Parâmetros no body (Corpo)**

|Parâmetro|Descrição|
|:-|:-|
|`Message`|Mensagem informando que todos os arquivos enviados somando seus tamanhos é superior a 7mb|

# Consultas

### Request

<aside class="request"><span class="method get">GET</span><span class="endpoint">Chargeback?StartDate={StartDate}&amp;EndDate={EndDate}&amp;PageIndex={PageIndex}&amp;PageSize={PageSize}</span></aside>

**Parâmetros no cabeçalho (Header)**

|Key|Value|Descrição|Obrigatório|
|:-|:-|:-|:-|
|`Content-Type`|application/json|Tipo do conteúdo da requisição|sim|
|`Authorization`|Bearer {access_token}|Tipo da autorização|sim|
|`RequestId`|rrrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr|Identificador da requisição|sim|

**Parâmetros na querystring**

|Parâmetro|Descrição|Obrigatório|
|:-|:-|:-:|
|`StartDate`|Data início da consulta|sim|
|`EndDate`|Data fim da consulta|sim|
|`PageIndex`|Número da página desejada|sim|
|`PageSize`|Quantidade de itens desejado na página. Máximo 250 itens.|sim|
|`MerchantIds`|Id(s) da(s) loja(s) a ser utilizado na consulta <br /> Obs.: Caso não seja enviado, a consulta será realizada levando em consideração o(s) MerchantId(s) associado(s) ao ClientId|não|
|`EstablishmentCodes`|Número(s) do(s) estabelecimento(s) ou afiliação(ões) na adquirente a ser utilizado na consulta <br /> Obs.: Caso não seja enviado, a consulta será realizada levando em consideração o(s) número(s) do(s) estabelecimento(s) ou afiliação(ões) na adquirente associado(s) ao ClientId|não|
|`CaseNumber`|Número do caso do chargeback|não|
|`AcquirerTransactionId`|Identificador da transação na adquirente (TID)|não|
|`BraspagTransactionId`|Id da transação na plataforma Pagador Braspag ou Cielo 3.0 (PaymentId)|não|

### Response

```json
{
    "PageIndex": 1,
    "PageSize": 250,
    "Total": 500,
    "Chargebacks":
    [
        {
            "Id": "fd14e3fb-cf2a-4228-b690-1338660afc54",
            "CreatedDate": "2018-09-01 09:51:25",
            "Date": "2018-08-30",
            "CaseNumber": "000001",
            "Amount": 10000,
            "ReasonCode": "28",
            "ReasonMessage": "Consumidor nao reconhece a compra",
            "Status": "Received",
            "Comment": "Cliente enviou documentos inválidos",
            "IsFraud": true,
            "Transaction":
            {
                "AcquirerType": "Cielo",
                "EstablishmentCode": "1234567890",
                "MerchantOrderId": "abc123efg",
                "Tid": "1234567890BA2018XPTO",
                "Nsu": "258654",
                "AuthorizationCode": "T85245",
                "SaleDate": "2018-08-15",
                "PagadorMerchantId": "a1052460-92b2-49c3-a929-fc985df0ba2f",
                "BraspagTransactionId": "bb33b5c5-82fe-4254-9f1d-b9c97297b0d5",
                "Amount": 10000,
                "RawData": "JOAO D COUVES",
                "MaskedCardNumber": "453906******8385",
                "Brand": "Visa",
                "AntifraudMerchantId": "4b1b017a-a8b5-4e83-ae36-19c69f11845e",
                "AntifraudTransactionId": "9f6ec028-b55d-4605-b655-164ce62aeaef",
                "AntifraudSourceApplication": "Gateway",
                "ProviderTransactionId": "5446494501496896403073",
                "NegativeValues": [
                    "CustomerDocumentNumber",
                    "ShippingStreet"
                ], 
                "ProviderChargebackMarkingEvent": {
                    "Id": "5446495589216876903021",
                    "Status": "ACCEPT",
                    "Code": "100",
                }
            }
        }
    ]
}
```

|Parâmetro|Descrição|Tipo|
|:-|:-|:-:|
|`Id`|Id do chargeback na Chargeback API Braspag|guid|
|`CreatedDate`|Data de criação do chargeback na Chargeback API Braspag <br /> Ex.: 2018-09-01 09:51:25|date|
|`Date`|Data do chargeback <br /> Ex.: 2018-08-30|date|
|`CaseNumber`|Número do caso relacionado ao chargeback|string|
|`Amount`|Valor do chargeback em centavos <br /> Ex: 123456 = r$ 1.234,56|long|
|`ReasonCode`|Código do motivo do chargeback|string|
|`ReasonMessage`|Descrição do motivo do chargeback|string|
|`Status`|Status do chargegback na Braspag - [Tabela 3](https://braspag.github.io/manual/chargeback#tabela-3-chargebacks[n].status)|string|
|`Comment`|Comentário que deseja associar ao chargeback e que ficará visível no Backoffice Braspag <br /> Se chargeback de transação Cybersource, este comentário ficará visível no backoffice da Cybersource|string|
|`IsFraud`|Identifica se o chargeback é de fraude|bool|
|`Transaction.AcquirerType`|Identificador da adquirentre|string|
|`Transaction.EstablishmentCode`|Número do estabelecimento ou afiliação na adquirente|string|
|`Transaction.MerchantOrderId`|Número do pedido da loja|string|
|`Transaction.Tid`|Id da transação na adquirente|string|
|`Transaction.Nsu`|Número sequencial único da transação na adquirente|string|
|`Transaction.AuthorizationCode`|Código de autorização da transação na adquirente|string|
|`Transaction.SaleDate`|Data da autorização da transação na adquirente <br /> Ex.: 2018-08-15|date|
|`Transaction.PagadorMerchantId`|Identificador da loja na plataforma Pagador Braspag ou Cielo 3.0|guid|
|`Transaction.BraspagTransactionId`|Id da transação na plataforma Pagador Braspag ou Cielo 3.0 (PaymentId)|guid|
|`Transaction.Amount`|Valor da transação em centavos <br /> Ex: 123456 = r$ 1.234,56|long|
|`Transaction.RawData`|Dado enviado pela adquirente, podendo ser o titular do cartão ou outra mensagem|string|
|`Transaction.MaskedCardNumber`|Número do cartão de crédito mascarado|string|
|`Transaction.Brand`|Bandeira do cartão de crédito|string|
|`Transaction.AntifraudMerchantId`|Identificador da loja na plataforma Antifraude Legado ou Antifraude Gateway|guid|
|`Transaction.AntifraudTransactionId`|Identificador da transação na plataforma Antifraude Legado ou Antifraude Gateway|guid|
|`Transaction.AntifraudSourceApplication`|Origem da plataforma de antifraude - [Tabela 6](https://braspag.github.io/manual/chargeback#tabela-6-chargebacks[n].transaction.antifraudsourceapplication)|string|
|`Transaction.ProviderTransactionId`|Id da transação no provedor de antifraude|
|`Transaction.NegativeValues`|Parâmetros que foram incluídos na lista negativa quando transação de antifraude for Cybersource <br /> Os parâmetros são concatenados usando o caracter , <br /> Ex.: CustomerDocumentNumber, ShippingStreet <br /> - [Tabela 1](https://braspag.github.io/manual/chargeback#tabela-1-chargebacks[n].negativevalues)|string|
|`Transaction.ProviderChargebackMarkingEvent.Id`|Id do evento de marcação da transação que sofreu o chargeback. Apenas Cybersource|string|
|`Transaction.ProviderChargebackMarkingEvent.Status`|Status do evento de marcação da transação que chargeback. Apenas Cybersource - [Tabela 4](https://braspag.github.io/manual/chargeback#tabela-4-chargebacks[n].transaction.providerchargebackmarkingevent.status)|string|
|`Transaction.ProviderChargebackMarkingEvent.Code`|Código de retorno do evento de marcação da transação que sofreu chargeback. Apenas Cybersouce - [Tabela 5](https://braspag.github.io/manual/chargeback#tabela-5-chargebacks[n].transaction.providerchargebackmarkingevent.code)|string|

# Tabelas

## Tabela 1 - Chargebacks[n].NegativeValues

Possíveis valores a serem inseridos na lista negativa na Cybersource.

|Valor|Descrição|
|:-|:-|
|CustomerDocumentNumber|Número do documento do comprador, CPF ou CNPJ|
|CustomerIpAddress|Endereço de IP do comprador|
|CustomerPhone|Número de telefone do comprador|
|ShippingStreet|Logradouro do endereço de entrega|
|DeviceFingerprintSmartId|Fingerprint do dispositivo do comprador|

## Tabela 2 - Result.ProcessingStatus

Possíveis retornos do chargeback enviado.

|Valor|Descrição|
|:-|:-|
|AlreadyExist|Transação já marcada com chargeback anteriormente|
|Remand|Chargeback deverá ser reenviado|
|NotFound|Transação na encontrada na base de dados para os valores enviados nos campos do nó `Transaction`|

## Tabela 3 - Chargebacks[n].Status

Possíveis valores do chargeback.

|Valor|Descrição|
|:-|:-|
|Received|Chargeback recebido da adquirente|
|AcceptedByMerchant|Chargeback aceito pela loja. Neste caso a loja entende que sofreu de fato um chargeback e não irá realizar a disputa|
|ContestedByMerchant|Chargeback contestado pela loja. Neste caso a loja enviou os documentos necessários para tentar reverter o chargeback|

## Tabela 4 - Chargebacks[n].Transaction.ProviderChargebackMarkingEvent.Status

|Valor|Descrição|Provider|
|:-|:-|:-|
|ACCEPT|Marcação de chargeback aceita no provedor|Cybersource|
|REJECT|Marcação de chargeback rejeitada no provedor|Cybesource|

## Tabela 5 - Chargebacks[n].Transaction.ProviderChargebackMarkingEvent.Code

|Valor|Descrição|Provider|
|:-|:-|:-|
|100|Operação realizada com sucesso|Cybersource|
|150|Erro interno <br /> Possível ação: Aguarde alguns minutos e tente reenviar a marcação de chargeback|Cybersource|
|151|A marcação de chargeback foi recebida, mas ocorreu time-out no servidor. Este erro não inclui time-out entre o cliente e o servidor <br /> Possível ação: Aguarde alguns minutos e tente reenviar|Cybersource|
|152|A marcação de chargeback foi recebida, mas ocorreu time-out <br /> Possível ação: Aguarde alguns minutos e tente reenviar|Cybersource|
|234|Problema com a configuração da loja na Cybersource <br /> Possível ação: Entre em contato com o suporte para corrigir o problema de configuração|Cybersource|

## Tabela 6 - Chargebacks[n].Transaction.AntifraudSourceApplication

|Valor|Descrição|Provider|
|:-|:-|
|Gateway|Antifraude Gateway|
|Legacy|Antifraude Legado|

# Matriz

## Matriz 1 - Documentos

|Segmento\Motivo|Documentos Padrão|Portador não Reconhece a Transação|Mercadoria não Recebida|Serviços não Prestados|Mercadoria com Defeito/Não Confere|Crédito Não Processado|Processamento Duplicado/Pagamentos por Outros Meios|
|Locadora de Veículos|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular)<br /> 3) Nota fiscal <br /> 4) Contrato de locação devidamente assinado constando política de seguro <br /> 5) Documento de assinatura em arquivo (autorização débito)|6) Notificação de infração de trânsito paga (se houver) <br /> 7) Termo de responsabilidade (danos futuros) <br /> 8) Boletim de ocorrência (se houver) <br /> 9) Três orçamentos para reparos em caso de acidentes e danos ao veículo (se houver) <br /> 10) Aviso prévio ao portador das cobranças de avarias/multas|-|6) Comprovante de checkout|-|6) Política de cancelamento|6) Dois ou mais comprovantes comprovando que houve duas ou mais transações, informar o código de autorização das duas transações|
|Hotéis|1)Cópia do comprovante de venda <br /> 2) Cadastro do portador (nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota Fiscal <br /> 4) Documento de assinatura em arquivo (autorização débito)|5) Descritivo dos serviços prestados (chekin e checkout)|-|5) Descritivo dos serviços prestados (chekin e checkout)|-|5) Política de cancelamento (no show) com a cópia da tela de opção de cancelamento no site pelo portador comprovando a data|5) Dois ou mais comprovantes comprovando que houve duas ou mais transações, informar o código de autorização das duas transações|
|Agência de Turismo|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (Nome do titular do cartão, Nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Contrato prestação de serviço de viagens (se houver)|5) Documento oficial que comprove a identidade do portador (frente e verso) <br /> 6) Documento de assinatura em arquivo (autorização débito)|-|5) Cópia dos bilhetes/voucher's emitidos|-|5) Política de cancelamento|5) Dois ou mais comprovantes comprovando que houve duas ou mais transações, informar o código de autorização das duas transações|
|Cias Aéreas|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Contrato prestação de serviço de viagens (se houver)|5) Documento oficial que comprove a identidade do portador (frente e verso) <br /> 6) Documento de assinatura em arquivo (autorização débito)|-|5) Cópia dos bilhetes/voucher's emitidos <br /> 6) Checkin (se houver)|-|5) Política de cancelamento|5) Dois ou mais comprovantes comprovando que houve duas ou mais transações, informar o código de autorização das duas transações|
|Serviço de Processamento de Dados <br /> Serviços Online|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Autorização débito <br /> 5) Pedido da compra para transações via internet <br /> 6) Cópia da tela com os dados do meio de pagamento|7) Descritivo dos serviços prestados <br /> 8) Cadastro do portador (Nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular|-|7) Contrato com detalhes da prestação de serviços <br /> 8) Protocolo dos serviços prestados|-|-|-|
|Supermercado ou Varejo|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (ome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Autorização débito <br /> 5) Pedido da compra para transações via internet <br /> 6) Cópia da tela com os dados do meio de pagamento|7) Descritivo dos serviços prestados|7) Comprovação da entrega do produto e/ou protocolo assinado <br /> 8) Aceite eletrônico (se houver)|7) Contrato com detalhes da prestação de serviços <br /> 8) Protocolo do serviços prestados|7) Política de devolução e troca com aceite eletrônico (se houver)|7) Política de cancelamento|7) Dois ou mais comprovantes comprovando que houve duas ou mais transações, informar o código de autorização das duas transações|
|Ingressos|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (Nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Autorização débito <br /> 5) Pedido da compra para transações via internet <br /> 6) Cópia da tela com os dados do meio de pagamento|-|7) Comprovação da entrega do produto e/ou protocolo assinado <br /> 8) Aceite eletrônico (se houver)|-|7) Política de devolução e troca com aceite eletrônico (se houver)|-|-|
|Editora ou Livraria|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (Nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo /celular) <br /> 3) Nota fiscal <br /> 4) Autorização débito <br /> 5) Pedido da compra para transações via internet <br /> 6) Cópia da tela com os dados do meio de pagamento|-|7) Comprovação da entrega do produto e/ou protocolo assinado <br /> 8) Aceite eletrônico (se houver)|-|7) Política de devolução e troca com aceite eletrônico (se houver)|-|-|
|Cias de Seguros|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Autorização débito <br /> 5) Pedido da compra para transações via internet <br /> 6) Cópia da tela com os dados do meio de pagamento|-|-|7) Política de devolução e troca com aceite eletrônico (se houver)|-|-|
|Demais Segmentos|1) Cópia do comprovante de venda <br /> 2) Cadastro do portador (nome do titular do cartão, nome cadastrado no site, CPF, e-mail, endereço, telefone fixo/celular) <br /> 3) Nota fiscal <br /> 4) Autorização débito <br /> 5) Pedido da compra para transações via internet <br /> 6) Cópia da tela com os dados do meio de pagamento|7) Comprovação da entrega do produto e/ou protocolo assinado <br /> 8) Carta do verdadeiro portador reconhecendo a despesa|7) Comprovação da entrega do produto e/ou protocolo assinado <br /> 8) Aceite eletrônico (se houver)|7) Contrato com detalhes da prestação de serviços <br /> 8) Protocolo dos serviços prestados|7) Política de devolução e troca com aceite eletrônico (se houver)|7) Política de cancelamento|7) Dois ou mais comprovantes comprovando que houve duas ou mais transações, informar o código de autorização das duas transações|
</aside>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://braspag.github.io//assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="http://www.braspag.com.br/fale-conosco/">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://braspag.github.io/">
        <img src="https://braspag.github.io//assets/images/logo.png" alt="Documentações e tutoriais">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="http://www.braspag.com.br/fale-conosco/">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/braspag">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://braspag.github.io//assets/js/jquery.min.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="https://braspag.github.io//assets/js/bootstrap.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery.tocify.js"></script>
        <script src="https://braspag.github.io//assets/js/prettify.js"></script>
        <script>
        $(function() {
            var openedHeader = null;

            $("#toc").tocify({
                
                selectors: "h1,h2,h3,h4,h5,h6",
                
                hashGenerator: "pretty",
                ignoreSelector: ".no-toc",
                scrollTo: 100,
                smoothScroll: false,
                showEffect: "none"
            }).data("toc-tocify");

            $('ul').prev('li').addClass('has-subitens');
            $(window).scroll(function () {
                if ($('li.active').closest('.tocify-header') !== openedHeader) {
                    $('li.is-open').removeClass('is-open');

                    openedHeader = $('li.active').closest('.tocify-header');
                }

                openedHeader.find('ul:visible').prev('li').addClass('is-open');
            });

            $('.hamburger').click(function() {
                $('body').toggleClass('sidebar-closed');
            });

            $('.code-menu').click(function() {
                $('body').toggleClass('code-menu-closed');
            });

            prettyPrint();
        });
        </script>

        
        <script src="https://braspag.github.io//assets/js/jquery.highlight.js"></script>
        <script src="https://braspag.github.io//assets/js/lunr.js"></script>
        <script src="https://braspag.github.io//assets/js/search.js"></script>
        

        
        <script>
        let langs = '';

        $('div.highlighter-rouge').prepend( '<a class="fa expand-btn" title="Comutar"><i class="fa fa-expand" aria-hidden=true></i></a>' );
        $('div.highlighter-rouge').each(function (index) {
            if(!$(this).parent().hasClass('language-group')) {
                $(this).first().next('div.highlighter-rouge').andSelf().wrapAll('<div class="code-fullscreen"><div class="language-group"></div></div>');
            }
        });

        $('.content-container:not(.no-dark-box) div.highlighter-rouge').each(function (index) {
            let height = $(this).outerHeight();

            $(this).parent().parent().next('table').wrapAll('<div class="table-wrap" style="min-height:' + height + 'px;"></div> ');
        });

        $('.hide-btn').click(function() {
            $('.content-container').toggleClass('no-dark-box');
            $('.dark-box').toggle();

            $('.overlay').removeClass('opened');
            $('.code-fullscreen').removeClass('opened');
        });

        $('.expand-btn').click(function() {
            $('.overlay').toggleClass('opened');
            $(this).parent().parent().parent().toggleClass('opened');
            $(this).children('i.fa').toggleClass('fa-compress');
        });

        
        langs += "<a data-language-name='json'>JSON</a>";
        
        langs += "<a data-language-name='html'>HTML</a>";
        

        $('.language-group').prepend('<div class="language-buttons">' + langs + '</div>');
        </script>

        <script src="https://braspag.github.io//assets/js/lang.js"></script>
        <script>
            $(function() {
                setupLanguages([  "json",  "html", ]);
            });
        </script>
        

        <!-- Hotjar Tracking Code for https://braspag.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:715256,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
