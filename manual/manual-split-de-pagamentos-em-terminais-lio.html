<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Split de Pagamentos - Cielo LIO &middot; Braspag Developers - Manuais
        
    </title>

    <link rel="shortcut icon" href="https://braspag.github.io//assets/favicon.png">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <script src="https://use.fontawesome.com/3ae06f1030.js"></script>
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/poole.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/syntax.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/hyde.css">

    <link rel="stylesheet" href="https://braspag.github.io//assets/css/bootstrap.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery.tocify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery-ui.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/prettify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/custom.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/braspag.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://braspag.github.io//manual/manual-split-de-pagamentos-em-terminais-lio" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://braspag.github.io//en/manual/manual-split-de-pagamentos-em-terminais-lio" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://braspag.github.io//atom.xml">
</head>

    <body>
        
            <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        });
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://suporte.braspag.com.br/hc/pt-br" class="help">Ajuda</a>

                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://braspag.github.io//manual/manual-split-de-pagamentos-em-terminais-lio">Split de Pagamentos - Cielo LIO</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="introdução">Introdução</h1>

<p>O <strong>Split de Pagamentos</strong> permite a divisão de uma transação entre diferentes participantes de uma venda.</p>

<p>Para maiores detalhes e informações sobre a plataforma, consulte <a href="https://www.braspag.com.br/split-de-pagamentos/" target="_blank">Split de Pagamentos</a>.</p>

<h1 id="configuração">Configuração</h1>

<p>Para utilização do Split de Pagamentos na LIO, o terminal deverá estar habilitado para transacionar com múltiplos estabelecimentos comerciais, e será necessário configurar o estabelecimento comercial do Split (subadquirência) pelo qual serão realizadas as transações.</p>

<p>Para que seja possível realizar as liquidações para cada participante de uma venda realizada nos terminais LIO, o terminal deverá ser previamente cadastrado na plataforma e associado a um seller.</p>

<p>Com isso, no momento da configuração de um terminal, é necessário informar o número de identificação do terminal LIO (número lógico) para que seja possível a correta configuração e operação da plataforma.</p>

<blockquote>
  <p>Para que seja possível operar com o Split utilizando terminais LIO, entre em contato com a equipe comercial Cielo/Suporte de atendimento Split.</p>
</blockquote>

<h1 id="ambientes">Ambientes</h1>

<h2 id="sandbox">Sandbox</h2>

<table>
  <thead>
    <tr>
      <th>API</th>
      <th>URL</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Braspag OAUTH2 Server</strong></td>
      <td>https://authsandbox.braspag.com.br/</td>
      <td>Autenticação</td>
    </tr>
    <tr>
      <td><strong>API Split</strong></td>
      <td>https://splitsandbox.braspag.com.br/</td>
      <td>Divisão da transação e desconto de taxas no momento pós-transacional.</td>
    </tr>
  </tbody>
</table>

<h2 id="produção">Produção</h2>

<table>
  <thead>
    <tr>
      <th>API</th>
      <th>URL</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Braspag OAUTH2 Server</strong></td>
      <td>https://auth.braspag.com.br/</td>
      <td>Autenticação</td>
    </tr>
    <tr>
      <td><strong>API Split</strong></td>
      <td>https://split.braspag.com.br/</td>
      <td>Divisão da transação e desconto de taxas no momento pós-transacional.</td>
    </tr>
  </tbody>
</table>

<h1 id="autenticação">Autenticação</h1>

<p>O Split de Pagamentos utiliza como segurança o protocolo <a href="https://oauth.net/2/" target="_blank">OAUTH2</a>, no qual é necessário primeiramente obter um token de acesso utlizando suas credenciais, e posteriormente enviar o token de acesso à API do Split.</p>

<p>Para obter um token de acesso:</p>

<ol>
  <li>Concatene o MerchantId e ClientSecret: <code class="language-plaintext highlighter-rouge">MerchantId:ClientSecret</code>;</li>
  <li>Codifique o resultado da concatenação em Base64;</li>
  <li>Realize uma requisição ao servidor de autorização.</li>
</ol>

<h2 id="requisição">Requisição</h2>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">{braspag-oauth2-server}/oauth2/token</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x-www-form-urlencoded
<span class="nt">--header</span> <span class="s2">"Authorization: Basic {base64}"</span>  
<span class="nt">--header</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>  
<span class="nv">grant_type</span><span class="o">=</span>client_credentials
</code></pre></div></div>

<h2 id="resposta">Resposta</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbG.....WE1igNAQRuHAs"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>O <code class="language-plaintext highlighter-rouge">MerchantId</code> é o identificador dentro do Split, conhecido como <code class="language-plaintext highlighter-rouge">MerchantId</code>. O <code class="language-plaintext highlighter-rouge">ClientSecret</code> deve ser obtido junto ao Split.</p>
</blockquote>

<p>O token retornado (<code class="language-plaintext highlighter-rouge">access_token</code>) deverá ser utilizado em toda requisição à API Split como uma chave de autorização. O token de acesso possui uma validade de 20 minutos e é necessário gerar um novo token toda vez que a validade expirar.</p>

<h1 id="integração">Integração</h1>

<h1 id="criando-uma-transação">Criando uma transação</h1>

<h2 id="requisição-1">Requisição</h2>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">{api-split}/api/transactions</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Product"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentDetails"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="s2">"1010101010"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="s2">"654321"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="s2">"2021-05-30 12:09:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="s2">"2021-12-30"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">6000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">30</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor da transação em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Installments</code></td>
      <td>Número de Parcelas da transação.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Product</code></td>
      <td>Tipo da transação [CreditCard - DebitCard].</td>
      <td>String</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Bandeira do cartão utilizado na transação [Visa - Master - Elo - Amex - Diners].</td>
      <td>String</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentDetails.AffiliationCode</code></td>
      <td>Código do estabelecimento Cielo configurado na LIO e utilizado na transação.</td>
      <td>String</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentDetails.Nsu</code></td>
      <td>Número Sequencial Único da transação.</td>
      <td>String</td>
      <td>max(10)</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentDetails.AuthorizationCode</code></td>
      <td>Código de Autorização da transação.</td>
      <td>String</td>
      <td>max(10)</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentDetails.TerminalLogicNumber</code></td>
      <td>Número lógico do terminal LIO onde ocorreu a transação sem o dígito verificador.</td>
      <td>String</td>
      <td>max(10)</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentDetails.AuthorizationDate</code></td>
      <td>Data de autorização da transação em horário local (Brasil) [yyyy-MM-dd hh:mm:ss]</td>
      <td>Datetime</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentDetails.CaptureDate</code></td>
      <td>Data de captura da transação [yyyy-MM-dd].</td>
      <td>Date</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments</code></td>
      <td>Nó contendo a informação de divisão da transação.</td>
      <td>-</td>
      <td>-</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments.SubordinateMerchantId</code></td>
      <td><strong>MerchantId</strong> (identificador) do <strong>Seller</strong>.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments.Amount</code></td>
      <td>Parte do valor total da transação referente a participação do <strong>Seller</strong>, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments.Fares.Mdr</code></td>
      <td><strong>MDR(%)</strong> do <strong>Master</strong> a ser descontado do valor referente a participação do <strong>Seller</strong>.</td>
      <td>Decimal</td>
      <td>-</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments.Fares.Fee</code></td>
      <td><strong>Tarifa Fixa(R$)</strong> a ser descontada do valor referente a participação do <strong>Seller</strong>, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h2 id="resposta-1">Resposta</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"Id"</span><span class="p">:</span><span class="s2">"e718dc1e-fe8e-497e-9019-6aa48dee6306"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Product"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentDetails"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="s2">"1010101010"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="s2">"654321"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="s2">"2021-12-30 12:09:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="s2">"2021-12-30"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">6000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">30</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Splits"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">5670</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">330</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Splits"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">3825</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">175</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Id</code></td>
      <td>Identificador da transação.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments.Splits.SubordinateMerchantId</code></td>
      <td><strong>MerchantId</strong> (identificador) do <strong>Seller</strong> ou <strong>Master</strong>.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SplitPayments.Splits.Amount</code></td>
      <td>Parte do valor calculado da transação a ser recebido pelo <strong>Seller</strong> ou <strong>Master</strong>, já descontando todas as taxas (MDR e Tarifa Fixa)</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h2 id="transação-existente">Transação existente</h2>

<p>Durante o processo de criação da transação no Split realizada pela LIO, pode ocorrer alguma falha impedindo a criação da transação.</p>

<p>Caso a transação não seja criada no Split ao ser autorizada pela Cielo, o sistema de conciliação do Split irá gerar automaticamente a transação ao receber a confirmação por parte da Cielo. Após a criação automática, se houver uma nova tentativa de criação dessa mesma transação, a API irá retornar o status “409 - Conflict” e os dados da transação, informando que ela já existe.</p>

<h3 id="requisição-2">Requisição</h3>

<p>Para o exemplo abaixo, considerou-se que o terminal LIO está associado ao seller 7c7e5e7b-8a5d-41bf-ad91-b346e077f769.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">{api-split}/api/transactions</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Product"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentDetails"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="s2">"1010101010"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="s2">"654321"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="s2">"2021-12-30 12:09:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="s2">"2021-12-30"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">6000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">30</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="resposta-2">Resposta</h3>

<blockquote>
  <p>HTTP Status Code: 409 - Conflict</p>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"Id"</span><span class="p">:</span><span class="s2">"e718dc1e-fe8e-497e-9019-6aa48dee6306"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Product"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentDetails"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="s2">"1010101010"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="s2">"654321"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="s2">"2018-05-30 12:09:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="s2">"2021-12-30"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">30</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Splits"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">9470</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">530</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h1 id="consulta">Consulta</h1>

<p>É possível consultar todos os dados de uma transação e o resultado da divisão pelo método e endpoint a seguir.</p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/api/transactions/{Id}</span></aside>

<p>Veja um exemplo de consulta com o Id <em>e718dc1e-fe8e-497e-9019-6aa48dee6306</em>:</p>

<h2 id="requisição-3">Requisição</h2>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/api/transactions/e718dc1e-fe8e-497e-9019-6aa48dee6306</span></aside>

<pre><code class="language-x-www-form-urlencoded">--header "Authorization: Bearer {access_token}"  
</code></pre>

<h2 id="resposta-3">Resposta</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"Id"</span><span class="p">:</span><span class="s2">"e718dc1e-fe8e-497e-9019-6aa48dee6306"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Product"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentDetails"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="s2">"1101505998"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="mi">1234567891</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="s2">"78350767"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="s2">"2021-12-30 12:09:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="s2">"2021-12-30"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">6000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">30</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Splits"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">5670</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">330</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Splits"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">3825</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">175</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h1 id="consulta-de-transações-pendentes">Consulta de transações pendentes</h1>

<p>Este tipo de consulta é indicado para buscar as informações de <strong>transações pendentes de criação</strong> que apresentaram erro pelo canal físico da Cielo e que, consequentemente, ocasionaram algum problema na operação de divisão da transação (split).</p>

<h2 id="requisição-4">Requisição</h2>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/api/v1/pending-creation-transactions</span></aside>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InitialCaptureDate</code></td>
      <td>Data de Captura inicial da transação para busca.</td>
      <td>Data</td>
      <td>10</td>
      <td>Não*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FinalCaptureDate</code></td>
      <td>Data de Captura final da transação para busca.</td>
      <td>Data</td>
      <td>10</td>
      <td>Não*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InitialCreatedDate</code></td>
      <td>Data de Criação inicial da transação para busca.</td>
      <td>DateTime</td>
      <td>19</td>
      <td>Não*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FinalCreatedDate</code></td>
      <td>Data de Criação final da transação para busca.</td>
      <td>DateTime</td>
      <td>19</td>
      <td>Não*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageIndex</code></td>
      <td>Índice da paginação. Necessário para percorrer as páginas do resultado</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<p>*É obrigatório passar pelo menos um intervalo de datas.</p>

<h2 id="resposta-4">Resposta</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">39980</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567891"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="w"> </span><span class="mi">140997</span><span class="p">,</span><span class="w">
                </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000140996"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10031168"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-29T00:10:38"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-30"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3700</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amex"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"AffiliationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1010101019"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Nsu"</span><span class="p">:</span><span class="w"> </span><span class="mi">423999</span><span class="p">,</span><span class="w">
                </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000140997"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"TerminalLogicNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42006558"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"AuthorizationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-20T11:11:48"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CaptureDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-20"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tamanho</th>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageCount</code></td>
      <td>-</td>
      <td>Inteiro</td>
      <td>Quantidade de páginas.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageIndex</code></td>
      <td>-</td>
      <td>Inteiro</td>
      <td>Página atual.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PageSize</code></td>
      <td>-</td>
      <td>Inteiro</td>
      <td>Quantidade máxima de itens por página.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TotalItems</code></td>
      <td>-</td>
      <td>Inteiro</td>
      <td>Total de itens do retorno da consulta.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items</code></td>
      <td>-</td>
      <td>Array[Payments]</td>
      <td>Lista de objetos contendo informações das transações de pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Amount</code></td>
      <td>25</td>
      <td>Inteiro</td>
      <td>Valor vendido para o portador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Installments</code></td>
      <td>4</td>
      <td>Inteiro</td>
      <td>Número de parcelas de pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Brand</code></td>
      <td>12*</td>
      <td>String</td>
      <td>Bandeira do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].Product</code></td>
      <td>9*</td>
      <td>String</td>
      <td>Produto. Tipos possíveis: “CreditCard”, “DebitCard”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails</code></td>
      <td>-</td>
      <td>PaymentDetails</td>
      <td>Objeto contendo as informações de detalhes de pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails.AffiliationCode</code></td>
      <td>20*</td>
      <td>string</td>
      <td>Código de afiliação do multiEC.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails.Nsu</code></td>
      <td>15*</td>
      <td>String</td>
      <td>Número Sequencial Único do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails.AuthorizationCode</code></td>
      <td>10*</td>
      <td>String</td>
      <td>Código de autorização.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails.TerminalLogicNumber</code></td>
      <td>15</td>
      <td>String</td>
      <td>Número do terminal lógico. Obrigatoriamente 8 caracteres. Excluindo o dígito do terminal.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails.AuthorizationDate</code></td>
      <td>19</td>
      <td>DateTime</td>
      <td>Data de autorização do pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items[].PaymentDetails.CaptureDate</code></td>
      <td>10</td>
      <td>Data</td>
      <td>Data de captura do pagamento.</td>
    </tr>
  </tbody>
</table>

<p>*Tamanho máximo.</p>

<h1 id="cancelamento-de-transações">Cancelamento de transações</h1>

<p>O cancelamento de transações via API permite o cancelamento total ou parcial das transações de mundo físico no Split.</p>

<h2 id="regras-para-cancelamento">Regras para cancelamento</h2>

<ul>
  <li><strong>Se o pedido de cancelamento for realizado e aprovado até às 18h30</strong>, o prazo para retorno da confirmação do cancelamento é de <em>dois dias</em>;</li>
  <li><strong>Se o pedido de cancelamento for realizado e aprovado após às 18h30</strong>, o prazo para retorno da confirmação do cancelamento é <em>dois dias</em>;</li>
  <li>Se a transação já tiver um <strong>pedido de cancelamento em processamento</strong>, <strong>não será possível pedir um novo cancelamento</strong> para a mesma transação;</li>
  <li>Se uma transação foi <strong>cancelada parcialmente</strong>, <strong>é possível pedir um novo cancelamento</strong> referente ao valor remanescente;</li>
  <li>É permitido pedir o cancelamento de uma transação <strong>até 330 dias após a data de captura</strong>.</li>
</ul>

<h2 id="como-saber-se-o-pedido-de-cancelamento-foi-aprovado">Como saber se o pedido de cancelamento foi aprovado?</h2>

<p>É possível consultar o status do cancelamento pela API ou pelo backoffice Split.</p>

<h2 id="cancelar-valor-total">Cancelar valor total</h2>

<p>Cancela o valor total da transação.</p>

<h3 id="requisição-5">Requisição</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">{splitApiUrl}/transactions/{PaymentId}/void</span></aside>

<p><strong>Cabeçalho</strong></p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Authorization</td>
      <td>Bearer {token}</td>
    </tr>
  </tbody>
</table>

<p><strong>Path</strong></p>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>OBRIGATÓRIO</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
      <td>Campo identificador do pedido.</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-5">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c838ac6a-249a-4d69-bb7d-5b85075e8e61"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"768d0acf-9502-4411-9ec0-c5413c671771"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"768d0acf-9502-4411-9ec0-c5413c671771"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">19690</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"247d032d-f917-4a52-8e7a-d850945f065e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">310</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-04"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Formato</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Id</code></td>
      <td>Identificador do cancelamento.</td>
      <td>GUID</td>
      <td>“c838ac6a-249a-4d69-bb7d-5b85075e8e61”</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StatusId</code></td>
      <td>Status do cancelamento. Valores possíveis:<br /> 1 = Successful <br /> 2 = Unsuccessful <br /> 3 = Undefined <br /> 4 = Pending <br /> 6 = Reversed</td>
      <td>int</td>
      <td>3</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StatusDescription</code></td>
      <td>Descrição do status do cancelamento (Succesful, Unsuccessful, Undefined, Pending ou Reversed).</td>
      <td>String</td>
      <td>“Undefined”</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor a ser cancelado, em centavos.</td>
      <td>long</td>
      <td>20000</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments</code></td>
      <td>Detalhes do pagamento a ser cancelado, como está divido os valores.</td>
      <td>Lista de objetos</td>
      <td>-</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.SubordinateMerchantId</code></td>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code> (identificador) do seller</td>
      <td>GUID</td>
      <td>“768d0acf-9502-4411-9ec0-c5413c671771”</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedAmount</code></td>
      <td>Valor total cancelado, em centavos.</td>
      <td>long</td>
      <td>20000*</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits</code></td>
      <td>A divisão do pagamento dos valores cancelados</td>
      <td>Lista de objetos</td>
      <td>-</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits.MerchantId</code></td>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code> (identificador) do seller ou do master.</td>
      <td>GUID</td>
      <td>“768d0acf-9502-4411-9ec0-c5413c671771”</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits.VoidedAmount</code></td>
      <td>Valor que irá receber do cancelamento, em centavos.</td>
      <td>Sim</td>
      <td>long</td>
      <td>20000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Date</code></td>
      <td>Data do cancelamento.</td>
      <td>DateTime</td>
      <td>“2023-04-04”</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="cancelar-valor-parcial">Cancelar valor parcial</h2>

<p>Cancela valor parcial da transação.</p>

<p>No cancelamento parcial, o somatório dos valores cancelados definidos para cada seller deve ser igual ao valor do cancelamento parcial.</p>

<blockquote>
  <p><strong>Atenção</strong>: Não é obrigatório informar todos os sellers no cancelamento parcial. Você pode informar apenas os sellers para os quais deseja cancelar totalmente ou cancelar parte do valor destinado a cada um na transação. Por isso, a resposta irá apresentar mais de um <code class="language-plaintext highlighter-rouge">SubordinateMerchantId</code>.</p>
</blockquote>

<h3 id="requisição-6">Requisição</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">{splitApiUrl}/transactions/{PaymentId}/void?amount={amount*}</span></aside>

<p><strong>Cabeçalho</strong></p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Authorization</td>
      <td>Bearer {token}</td>
    </tr>
  </tbody>
</table>

<p><strong>Query string</strong></p>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>OBRIGATÓRIO</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
      <td>Campo identificador do pedido.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td>int</td>
      <td>-</td>
      <td>Sim</td>
      <td>Total ou parte do valor destinado ao seller a ser cancelado, em centavos.</td>
    </tr>
  </tbody>
</table>

<p><strong>Exemplo de transação com valor total de R$ 100,00 e dois participantes</strong>:</p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">{splitApiUrl}/transactions/{PaymentId}/void?amount=10000</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>OBRIGATÓRIO</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SubordinateMerchantId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
      <td>MerchantId (Identificador) do Seller.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedAmount</code></td>
      <td>int</td>
      <td>-</td>
      <td>Sim</td>
      <td>Valor que irá receber do cancelamento.</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-6">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc7a0260-6a11-4787-a7f8-a5fd3a37c52c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"768d0acf-9502-4411-9ec0-c5413c671771"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"768d0acf-9502-4411-9ec0-c5413c671771"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9840</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"247d032d-f917-4a52-8e7a-d850945f065e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">160</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d436ad59-6be9-4146-a757-35b97659bedc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d436ad59-6be9-4146-a757-35b97659bedc"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9775</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"247d032d-f917-4a52-8e7a-d850945f065e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-04"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
      <th>Obrigatório</th>
      <th>Tipo</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Id</code></td>
      <td>Identificador do cancelamento.</td>
      <td>Sim</td>
      <td>GUID</td>
      <td>“c838ac6a-249a-4d69-bb7d-5b85075e8e61”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StatusId</code></td>
      <td>Status do cancelamento. Valores possíveis:<br /> 1 = Successful <br /> 2 = Unsuccessful <br /> 3 = Undefined <br /> 4 = Pending <br /> 6 = Reversed</td>
      <td>Sim</td>
      <td>int</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StatusDescription</code></td>
      <td>Descrição do status do cancelamento (Succesful, Unsuccessful, Undefined, Pending ou Reversed).</td>
      <td>Sim</td>
      <td>string</td>
      <td>“Undefined”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor a ser cancelado, em centavos.</td>
      <td>Sim</td>
      <td>long</td>
      <td>20000*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments</code></td>
      <td>Detalhes do pagamento a ser cancelado, como está divido os valores.</td>
      <td>Sim</td>
      <td>Lista de Objetos</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.SubordinateMerchantId</code></td>
      <td>MerchantId (Identificador) do Seller.</td>
      <td>Sim</td>
      <td>GUID</td>
      <td>“768d0acf-9502-4411-9ec0-c5413c671771”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedAmount</code></td>
      <td>Valor total cancelado, em centavos.</td>
      <td>Sim</td>
      <td>long</td>
      <td>20000*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits</code></td>
      <td>A divisão do pagamento dos valores cancelados.</td>
      <td>Sim</td>
      <td>Lista de objetos</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits.MerchantId</code></td>
      <td>MerchantId (Identificador) do Seller ou do Master</td>
      <td>Sim</td>
      <td>GUID</td>
      <td>“768d0acf-9502-4411-9ec0-c5413c671771”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits.VoidedAmount</code></td>
      <td>Valor que irá receber do cancelamento.</td>
      <td>Sim</td>
      <td>Long</td>
      <td>20000*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Date</code></td>
      <td>Data do cancelamento</td>
      <td>Sim</td>
      <td>DateTime</td>
      <td>“2023-04-04”</td>
    </tr>
  </tbody>
</table>

<h2 id="erros-possíveis">Erros possíveis</h2>

<p>O padrão da resposta de erro será o retorno do status code mais o retorno da mensageria, como o exemplo a seguir:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem de erro."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>StatusCode</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>201</td>
      <td>Cancelamento solicitado com sucesso</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Erro em validação.</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Exceção Interna. Falha.</td>
    </tr>
  </tbody>
</table>

<p>A seguir listamos algumas mensagens de erro possíveis:</p>

<table>
  <thead>
    <tr>
      <th><code class="language-plaintext highlighter-rouge">Message</code> (mensagem)</th>
      <th>Detalhamento do erro</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>The sum of subordinate voids amount is different to void provided amount</em></td>
      <td>O valor de cancelamento enviado para cada participante não está de acordo com o cancelamento solicitado.</td>
    </tr>
    <tr>
      <td><em>Master can only void POS transactions</em></td>
      <td>O master não pode cancelar transação de e-commerce.</td>
    </tr>
    <tr>
      <td><em>Cannot schedule already existing void if void status is different than Successful</em></td>
      <td>Uma transação não pode ter múltiplos cancelamentos com status não finalizado para a mesma transação. Aguarde o cancelamento ser finalizado para solicitar novo cancelamento.</td>
    </tr>
    <tr>
      <td><em>Transaction not available to void. Try again tomorrow</em></td>
      <td>Não é permitido iniciar mais de um cancelamento parcial para a transação no mesmo dia.</td>
    </tr>
    <tr>
      <td><em>Merchant  does not have balance to void.</em></td>
      <td>Caso algum participante não tenha agenda futura não será possível cancelar a venda.</td>
    </tr>
    <tr>
      <td><em>Full Transaction Void with Transaction ID already exists in Split.</em></td>
      <td>Transação já foi submetida ao cancelamento total.</td>
    </tr>
    <tr>
      <td><em>Partial Transaction Void with Transaction ID  exceeds total transaction amount in Split</em></td>
      <td>O valor solicitado no cancelamento parcial excede o valor total</td>
    </tr>
    <tr>
      <td><em>Transaction Void with Transaction ID  already exists in Split with Undefined Status to void. Please, wait for the Void to process.</em></td>
      <td>O cancelamento está com status não finalizado. Aguarde o processamento para confirmar o status do cancelamento.</td>
    </tr>
    <tr>
      <td><em>VoidIsNotPossibleContactSupport</em></td>
      <td>O cancelamento não foi permitido. Tente novamente ou entre em contato com o Suporte.</td>
    </tr>
    <tr>
      <td><em>POS Refund error</em></td>
      <td>Erro de comunicação. Tente novamente</td>
    </tr>
  </tbody>
</table>

<h2 id="consulta-do-status-do-cancelamento">Consulta do status do cancelamento</h2>

<p>Consulta o status do pedido de cancelamento parcial ou total.</p>

<h3 id="requisição-7">Requisição</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{splitApiUrl}}/transactions//voids/</span></aside>

<p><strong>Cabeçalho</strong></p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Authorization</td>
      <td>Bearer {token}</td>
    </tr>
  </tbody>
</table>

<p><strong>Path</strong></p>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>OBRIGATÓRIO</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">voidId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador do cancelamento. É o <code class="language-plaintext highlighter-rouge">Id</code> retornado na resposta das requisições de cancelamento total ou parcial.</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-7">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c838ac6a-249a-4d69-bb7d-5b85075e8e61"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"768d0acf-9502-4411-9ec0-c5413c671771"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"768d0acf-9502-4411-9ec0-c5413c671771"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">19690</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"247d032d-f917-4a52-8e7a-d850945f065e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">310</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
      <th>Obrigatório</th>
      <th>Tipo</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Id</code></td>
      <td>Identificador do cancelamento</td>
      <td>Sim</td>
      <td>Guid</td>
      <td>“c838ac6a-249a-4d69-bb7d-5b85075e8e61”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StatusId</code></td>
      <td>Status do cancelamento</td>
      <td>Sim</td>
      <td>Int</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StatusDescription</code></td>
      <td>Descrição do status do cancelamento</td>
      <td>Sim</td>
      <td>String</td>
      <td>“Undefined”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor a ser cancelado*</td>
      <td>Sim</td>
      <td>Long</td>
      <td>20000*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments</code></td>
      <td>Detalhes do pagamento a ser cancelado, como está divido os valores</td>
      <td>Sim</td>
      <td>Lista de Objetos</td>
      <td>———————–</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.SubordinateMerchantId</code></td>
      <td>MerchantId (Identificador) do Subordinado</td>
      <td>Sim</td>
      <td>Guid</td>
      <td>“768d0acf-9502-4411-9ec0-c5413c671771”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedAmount</code></td>
      <td>Valor total cancelado</td>
      <td>Sim</td>
      <td>Long</td>
      <td>20000*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits</code></td>
      <td>A divisão do pagamento dos valores cancelados</td>
      <td>Sim</td>
      <td>Lista de objetos</td>
      <td>———————–</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits.MerchantId</code></td>
      <td>MerchantId (Identificador) do Subordinado ou do Master</td>
      <td>Sim</td>
      <td>Guid</td>
      <td>“768d0acf-9502-4411-9ec0-c5413c671771”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VoidedSplitPayments.VoidedSplits.VoidedAmount</code></td>
      <td>Valor que irá receber do cancelamento</td>
      <td>Sim</td>
      <td>Long</td>
      <td>20000*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Date</code></td>
      <td>Data do cancelamento</td>
      <td>Sim</td>
      <td>DateTime</td>
      <td>“2023-04-04”</td>
    </tr>
  </tbody>
</table>

<p>*Valor considerando os centavos.</p>

<h1 id="agenda-financeira">Agenda Financeira</h1>

<p>Consulte as informações publicadas em <a href="https://braspag.github.io//manual/split-pagamentos-nova-api-conciliacao" target="_blank">Split de Pagamentos - Conciliação</a> para consultar a agenda e as unidades de recebíveis.</p>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://braspag.github.io//assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://suporte.braspag.com.br/hc/pt-br">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://braspag.github.io/">
        <img src="https://braspag.github.io//assets/images/logo.png" alt="Braspag Developers - Manuais">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="http://www.braspag.com.br/fale-conosco/">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/Braspag">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://braspag.github.io//assets/js/jquery.min.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="https://braspag.github.io//assets/js/bootstrap.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery.tocify.js"></script>
        <script src="https://braspag.github.io//assets/js/prettify.js"></script>
        <script>
        $(function() {
            var openedHeader = null;

            $("#toc").tocify({
                
                selectors: "h1,h2,h3,h4,h5,h6",
                
                hashGenerator: "pretty",
                ignoreSelector: ".no-toc",
                scrollTo: 100,
                smoothScroll: false,
                showEffect: "none"
            }).data("toc-tocify");

            $('ul').prev('li').addClass('has-subitens');
            $(window).scroll(function () {
                if ($('li.active').closest('.tocify-header') !== openedHeader) {
                    $('li.is-open').removeClass('is-open');

                    openedHeader = $('li.active').closest('.tocify-header');
                }

                openedHeader.find('ul:visible').prev('li').addClass('is-open');
            });

            $('.hamburger').click(function() {
                $('body').toggleClass('sidebar-closed');
            });

            $('.code-menu').click(function() {
                $('body').toggleClass('code-menu-closed');
            });

            prettyPrint();
        });
        </script>

        
        <script src="https://braspag.github.io//assets/js/jquery.highlight.js"></script>
        <script src="https://braspag.github.io//assets/js/lunr.js"></script>
        <script src="https://braspag.github.io//assets/js/search.js"></script>
        

        
        <script>
        let langs = '';

        $('div.highlighter-rouge').prepend( '<a class="fa expand-btn" title="Comutar"><i class="fa fa-expand" aria-hidden=true></i></a>' );
        $('div.highlighter-rouge').each(function (index) {
            if(!$(this).parent().hasClass('language-group')) {
                $(this).first().next('div.highlighter-rouge').andSelf().wrapAll('<div class="code-fullscreen"><div class="language-group"></div></div>');
            }
        });

        $('.content-container:not(.no-dark-box) div.highlighter-rouge').each(function (index) {
            let height = $(this).outerHeight();

            $(this).parent().parent().next('table').wrapAll('<div class="table-wrap" style="min-height:' + height + 'px;"></div> ');
        });

        $('.hide-btn').click(function() {
            $('.content-container').toggleClass('no-dark-box');
            $('.dark-box').toggle();

            $('.overlay').removeClass('opened');
            $('.code-fullscreen').removeClass('opened');
        });

        $('.expand-btn').click(function() {
            $('.overlay').toggleClass('opened');
            $(this).parent().parent().parent().toggleClass('opened');
            $(this).children('i.fa').toggleClass('fa-compress');
        });

        
        langs += "<a data-language-name='json'>JSON</a>";
        

        $('.language-group').prepend('<div class="language-buttons">' + langs + '</div>');
        </script>

        <script src="https://braspag.github.io//assets/js/lang.js"></script>
        <script>
            $(function() {
                setupLanguages([  "json", ]);
            });
        </script>
        

        <!-- Hotjar Tracking Code for https://braspag.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2191438,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
