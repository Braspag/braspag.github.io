<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Manual de integração &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://braspag.github.io//assets/favicon.ico">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <script src="https://use.fontawesome.com/3ae06f1030.js"></script>
    
    <link rel="stylesheet" href="https://braspag.github.io//assets/bundles/css/bundle.min.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://braspag.github.io//manual/braspag-pagador" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://braspag.github.io//en/manual/braspag-pagador" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://braspag.github.io//atom.xml">
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                    <li><a data-language-name='html'>HTML</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="http://www.braspag.com.br/suporte/" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://braspag.github.io//manual/braspag-pagador">
                                    

                                        <img alt="Português" src="https://braspag.github.io//assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://braspag.github.io//en/manual/braspag-pagador">
                                    

                                        <img alt="English" src="https://braspag.github.io//assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://braspag.github.io//manual/braspag-pagador">Manual de integração</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="introdução-ao-pagador-api">Introdução ao Pagador API</h1>

<p><strong>O objetivo desta documentação é orientar o desenvolvedor sobre como integrar com o API do Pagador, gateway de pagamentos da Braspag, descrevendo os serviços disponíveis com exemplos de requisição e respostas.</strong></p>

<p>Todas as operações requerem credenciais de acesso (Merchant ID e Merchant Key) específicos para respectivos ambientes: <strong>Sandbox</strong>, <strong>Homologação</strong> e <strong>Produção</strong>. <a href="https://github.com/markdownlint/markdownlint/blob/master/docs/RULES.md">Para executar</a> uma operação, combine o endpoint base do ambiente com o endpoint da operação desejada e envie utilizando o VERBO HTTP conforme descrito na operação.</p>

<h2 id="ambientes">Ambientes</h2>

<h3 id="ambiente-sandbox">Ambiente Sandbox</h3>

<p>Experimente as nossas APIs sem compromisso!</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credenciais de Acesso à API</td>
      <td>Acesse o <a href="https://cadastrosandbox.braspag.com.br/">Cadastro do Sandbox</a> e crie uma conta de testes.<br />Ao fim do cadastro você receberá um <code class="highlighter-rouge">MerchantId</code> e um <code class="highlighter-rouge">MerchantKey</code>,<br /> que deverão ser utilizados para autenticar todas as requisições feitas para os endpoints da API</td>
    </tr>
    <tr>
      <td>Endpoint Transacional</td>
      <td>https://apisandbox.braspag.com.br/</td>
    </tr>
    <tr>
      <td>Endpoint para Serviços de Consultas</td>
      <td>https://apiquerysandbox.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h3 id="ambiente-de-homologação">Ambiente de Homologação</h3>

<p>Valide seu desenvolvimento junto à nossa equipe!</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credenciais de Acesso à API</td>
      <td>Envie um email para comercial@braspag.com.br para mais informações sobre a Braspag e sobre como podemos ajudar no seu negócio!</td>
    </tr>
    <tr>
      <td>Endpoint Transacional</td>
      <td>https://apihomolog.braspag.com.br/</td>
    </tr>
    <tr>
      <td>Endpoint para Serviços de Consultas</td>
      <td>https://apiqueryhomolog.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h3 id="ambiente-de-produção">Ambiente de Produção</h3>

<p>Já estou pronto para entrar em Produção!</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credenciais de Acesso à API</td>
      <td>Envie um email para comercial@braspag.com.br para mais informações sobre a Braspag e sobre como podemos ajudar no seu negócio!</td>
    </tr>
    <tr>
      <td>Endpoint Transacional</td>
      <td>https://api.braspag.com.br/</td>
    </tr>
    <tr>
      <td>Endpoint para Serviços de Consultas</td>
      <td>https://apiquery.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h2 id="suporte-braspag">Suporte Braspag</h2>

<aside class="notice">A Braspag oferece suporte de alta disponibilidade, com atendimento de segunda à sexta, das 9h às 19h, e telefone de emergência 24×7, através de ferramenta via web. Contamos com a equipe que poderá atender em português, inglês e espanhol</aside>

<ul>
  <li>Atendimento Web: http://suporte.braspag.com.br/</li>
  <li>E-mail: suporte@braspag.com.br</li>
  <li>Telefone: (11) 2184-0550</li>
</ul>

<h2 id="características-da-solução">Características da Solução</h2>

<p>A solução API Pagador foi desenvolvida com a tecnologia REST, que é padrão de mercado e independe da tecnologia utilizada por nossos clientes. Desta forma, é possível integrar-se utilizando as mais variadas linguagens de programação, tais como: ASP, ASP. Net, Java, PHP, Ruby, Python, entre outras.</p>

<p>Entre outras características, os atributos que mais se destacam na plataforma Braspag eCommerce:</p>

<ul>
  <li><strong>Ausência de aplicativos proprietários</strong>: não é necessário instalar aplicativos no ambiente da loja virtual em nenhuma hipótese.</li>
  <li><strong>Simplicidade</strong>: o protocolo utilizado é puramente o HTTPS.</li>
  <li><strong>Facilidade de testes</strong>: a plataforma Braspag oferece um ambiente Sandbox publicamente acessível, que permite ao desenvolvedor a criação de uma conta de testes sem a necessidade de credenciamento, facilitando e agilizando o início da integração.</li>
  <li><strong>Credenciais</strong>: o tratamento das credenciais do cliente (número de afiliação e chave de acesso) trafega no cabeçalho da requisição HTTP da mensagem.</li>
  <li><strong>Segurança</strong>: a troca de informações se dá sempre entre o Servidor da Loja e da Braspag, ou seja, sem o browser do comprador.</li>
  <li><strong>Multiplataforma</strong>: a integração é realizada através de Web Service REST.</li>
</ul>

<h2 id="arquitetura">Arquitetura</h2>

<p>A integração é realizada através de serviços disponibilizados como Web Services. O modelo empregado é bastante simples: Existem duas URLs (endpoints), uma específica para autorização, captura e cancelamento de transações, e uma outra para operações como pesquisa de transações. Essas duas URLs receberão as mensagens HTTP através dos métodos POST, GET ou PUT. Cada tipo de mensagem deve ser enviada para um endereço identificado através do “path”.</p>

<ul>
  <li><strong>POST</strong> - O método HTTP POST é utilizado na criação de uma transação.</li>
  <li><strong>PUT</strong> - O método HTTP PUT é utilizado para atualização de um recurso já existente. Por exemplo, captura ou cancelamento de uma transação previamente autorizada.</li>
  <li><strong>GET</strong> - O método HTTP GET é utilizado para consultas de recursos já existentes. Por exemplo, consulta de transações.</li>
</ul>

<h1 id="pagamentos-com-cartão-de-crédito">Pagamentos com Cartão de Crédito</h1>

<p>Para que você possa desfrutar de todos os recursos disponíveis em nossa API, é importante que antes você conheça os conceitos envolvidos no processamento de uma transação de cartão de crédito.</p>

<ul>
  <li><strong>Autorização</strong>: A autorização (ou pré-autorização) é uma operação que viabiliza o processamento de uma venda com um cartão de crédito.A pré-autorização apenas sensibiliza o limite do cliente, mas ainda não gera cobrança na fatura para o consumidor. Desta forma, é necessário uma segunda operação, chamada ‘captura’.</li>
  <li><strong>Captura</strong>: Ao realizar uma pré-autorização, é necessário confirmá-la para que a cobrança seja efetivada. O tempo limite para capturar uma transação pré-autorizada varia de adquirente para adquirente, que pode ser por exemplo, de até 5 dias após a data da pré-autorização.</li>
  <li><strong>Captura Automática</strong>: É quando uma transação é autorizada e capturada no mesmo momento, isentando do lojista enviar uma confirmação posterior.</li>
</ul>

<aside class="warning">Uma transação autorizada somente gera o crédito para o lojista se ela for capturada.</aside>

<ul>
  <li><strong>Cancelamento</strong>: O cancelamento é necessário quando, por algum motivo, não se quer mais efetivar uma venda. No caso de uma pré-autorização, o cancelamento irá liberar o limite do cartão que foi sensibilizado em uma pré-autorização. Quando a transação já estiver sido capturada, o cancelamento irá desfazer a venda, mas deve ser executado até às 23:59:59 da data da autorização/captura.</li>
  <li><strong>Estorno</strong>: O estorno é aplicável quando uma transação criada no dia anterior ou antes já estiver capturada. Neste caso, a transação será submetida no processo de ‘chargeback’ pela adquirente.</li>
</ul>

<p>Abaixo segue a lista de adquirentes com as quais temos integração para solicitações de estorno:</p>

<table>
  <thead>
    <tr>
      <th>Adquirente</th>
      <th>Prazo Máximo para Solicitação de Estorno</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cielo</td>
      <td>300 dias</td>
    </tr>
    <tr>
      <td>Rede</td>
      <td>Tecnologia Komerci: 90 dias; Tecnologia eRede: 60 dias</td>
    </tr>
    <tr>
      <td>Getnet</td>
      <td>90 dias</td>
    </tr>
    <tr>
      <td>Transbank</td>
      <td>90 dias</td>
    </tr>
    <tr>
      <td>Banorte</td>
      <td>30 dias</td>
    </tr>
    <tr>
      <td>First Data</td>
      <td>90 dias</td>
    </tr>
    <tr>
      <td>Alelo</td>
      <td>300 dias</td>
    </tr>
  </tbody>
</table>

<aside class="warning">A disponibilidade do serviço de Estorno varia de adquirente para adquirente.</aside>

<ul>
  <li><strong>Autenticação</strong>: O processo de autenticação possibilita realizar uma venda a qual passará pelo processo de autenticação do banco emissor do cartão, assim trazendo mais segurança para a venda e transferindo para o banco, o risco de fraude.</li>
  <li><strong>Cartão Protegido</strong>: É uma plataforma que permite o armazenamento seguro de dados sensíveis de cartão de crédito. Estes dados são transformados em um código criptografrado chamado de “token”, que poderá ser armazenado em banco de dados. Com a plataforma, a loja poderá oferecer recursos como “Compra com 1 clique” e “Retentativa de envio de transação”, sempre preservando a integridade e a confidencialidade das informações.</li>
  <li><strong>Antifraude</strong>: É uma plataforma de prevenção à fraude que fornece uma análise de risco detalhada das compras on-line. Este processo é totalmente transparente para o portador do cartão. De acordo com os critérios preestabelecidos, o pedido pode ser automaticamente aceito, recusado ou encaminhado para análise manual.</li>
</ul>

<h2 id="criando-uma-transação-básica">Criando uma transação básica</h2>

<p>Exemplo de uma transação com dados obrigatórios para um simples processamento de transação de cartão de crédito. Algumas funcionalidades, tais como Captura Automática, Autenticação, Antifraude, Velocity entre outras, requerem preenchimento de mais dados. Neste caso, por favor, consulte os demais exemplos no manual.</p>

<h3 id="requisição">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051001"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051001"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2539492"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510042539492"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"759497"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8078b32-be17-4c35-b164-ad74c3cd0725"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 16:25:38"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051001"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"2539493"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510042539492"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"759497"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"f8078b32-be17-4c35-b164-ad74c3cd0725"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 16:25:38"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-dados-do-comprador">Criando uma transação com dados do comprador</h2>

<p>Este é um exemplo de uma transação com todos os dados preenchidos. Isso inclui os dados do comprador e campos específicos para definir o comportamento de autorização, autenticação e dados extras.</p>

<h3 id="requisição-1">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
      </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">    
     </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"ExtraDataCollection"</span><span class="p">:[{</span><span class="w">
         </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"ValorDoCampo"</span><span class="w">
     </span><span class="p">}]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051002"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678909"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
       <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>,
    <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
     <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,    
     <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>
     <span class="o">}</span>,
     <span class="s2">"ExtraDataCollection"</span>:[<span class="o">{</span>
         <span class="s2">"Name"</span>:<span class="s2">"NomeDoCampo"</span>,
         <span class="s2">"Value"</span>:<span class="s2">"ValorDoCampo"</span>
     <span class="o">}]</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-1">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
    <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
    <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
    <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
    <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
    <span class="s2">"Address"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>,
    <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
     <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
    <span class="s2">"CapturedAmount"</span>: 10000,
    <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ExtraDataCollection"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
        <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedDate</code></td>
      <td>Data em que a transação foi capturada a transação</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedAmount</code></td>
      <td>Valor capturado (sem pontuação)</td>
      <td>Número</td>
      <td>15</td>
      <td>100 equivale a R$ 1,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o resultado da autenticação</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-credenciaisafiliação">Criando uma transação com credenciais/afiliação</h2>

<p>Este é um exemplo de uma transação com as credenciais geradas pelas adquirentes/fornecedores informadas via requisição, as quais permitem o processamento da transação nas operadoras.</p>

<h3 id="requisição-2">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
</span><span class="err">te</span><span class="w"> </span><span class="err">Holder</span><span class="s2">",
            "</span><span class="err">Expira</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000000181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"SaveCard"</span>: <span class="s2">"false"</span>
        <span class="o">}</span>,
        <span class="s2">"credentials"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"9999999"</span>,
            <span class="s2">"key"</span>: <span class="s2">"D8888888"</span>,
            <span class="s2">"password"</span>: <span class="s2">"LOJA9999999"</span>,
            <span class="s2">"username"</span>: <span class="s2">"#Braspag2018@NOMEDALOJA#"</span>
        <span class="o">}</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[{</span>
            <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
        <span class="o">}]</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Code</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>afiliação gerada pela adquirente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Key</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>chave de afiliação/token gerado pela adquirente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Username</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>usuário gerado no credenciamento com a adquirente (provedores como Rede e Getnet utilizam usuário e senha nas comunicações, logo o campo deve obrigatoriamente ser enviado.)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Password</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>senha gerada no credenciamento com a adquirente (provedores como Rede e Getnet utilizam usuário e senha nas comunicações, logo o campo deve obrigatoriamente ser enviado.)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-2">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"credentials"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"9999999"</span>,
            <span class="s2">"key"</span>: <span class="s2">"D8888888"</span>,
            <span class="s2">"password"</span>: <span class="s2">"LOJA9999999"</span>,
            <span class="s2">"username"</span>: <span class="s2">"#Braspag2018@NOMEDALOJA#"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
            <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
            <span class="s2">"Score"</span>: 0
        <span class="o">}</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"CapturedAmount"</span>: 10000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[{</span>
            <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
        <span class="o">}]</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedDate</code></td>
      <td>Data em que a transação foi capturada a transação</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedAmount</code></td>
      <td>Valor capturado (sem pontuação)</td>
      <td>Número</td>
      <td>15</td>
      <td>100 equivale a R$ 1,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o resultado da autenticação</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-avs">Criando uma transação com AVS</h2>

<p>Este é um exemplo de uma transação com dados de AVS. O Sistema de Verificação de Endereço (AVS) valida se o endereço de fatura informado pelo comprador está de acordo com o endereço de fatura registrado na base de dados do emissor. 
As adquirentes que suportam o AVS são Cielo e Rede.</p>

<h3 id="requisição-3">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Avs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Cpf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678912"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04604007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3720"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bl 2 Apto 53"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"Avs"</span>: <span class="o">{</span>
            <span class="s2">"Cpf"</span>: <span class="s2">"12345678912"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"04604007"</span>,
            <span class="s2">"Street"</span>: <span class="s2">"Av Marechal Camara"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"3720"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Bl 2 Apto 53"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Centro"</span>
        <span class="o">}</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[{</span>
            <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
        <span class="o">}]</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.CPF</code></td>
      <td>Número</td>
      <td>11</td>
      <td>Sim</td>
      <td>CPF do portador do cartão (sem pontuação).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.ZipCode</code></td>
      <td>Número</td>
      <td>8</td>
      <td>Sim</td>
      <td>CEP do endereço de fatura do portador (sem traço/hífen).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.Street</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Endereço de cobrança do portador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.Number</code></td>
      <td>Número</td>
      <td>6</td>
      <td>Sim</td>
      <td>Número da residência/endereço de cobrança do portador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.Complement</code></td>
      <td>Texto</td>
      <td>30</td>
      <td>Não</td>
      <td>Complemento do endereço de cobrança do portador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.District</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Sim</td>
      <td>Bairro do endereço de cobrança do portador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-3">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Avs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Cpf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678912"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04604007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3720"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bl 2 Apto 53"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Avs"</span>: <span class="o">{</span>
            <span class="s2">"Cpf"</span>: <span class="s2">"12345678912"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"04604007"</span>,
            <span class="s2">"Street"</span>: <span class="s2">"Av Marechal Camara"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"3720"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Bl 2 Apto 53"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"Status"</span>: 0,
            <span class="s2">"ReturnCode"</span>: <span class="s2">"W"</span>
        <span class="o">}</span>
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
            <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
            <span class="s2">"Score"</span>: 0
        <span class="o">}</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"CapturedAmount"</span>: 10000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[{</span>
            <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
        <span class="o">}]</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedDate</code></td>
      <td>Data em que a transação foi capturada a transação</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedAmount</code></td>
      <td>Valor capturado (sem pontuação)</td>
      <td>Número</td>
      <td>15</td>
      <td>100 equivale a R$ 1,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o resultado da autenticação</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.Status</code></td>
      <td>Status do resultado do AVS.</td>
      <td>Número</td>
      <td>2</td>
      <td>0 - Combinação exata<br />1 - CEP e CPF combinam<br />2 - Endereço e CPF combinam<br />3 - Endereço e CEP combinam<br />4 - CPF exato<br />5 - Endereço exato<br />6 - CEP exato<br />7 - Não suportado ou não verificado para esta bandeira<br />9 - Banco emissor com sistema indisponível<br />11 - Nada combina<br />12 - Nenhum dado fornecido<br />14 - Resposta inválida</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AVS.ReturnCode</code></td>
      <td>Código de retorno do resultado do AVS.</td>
      <td>Texto</td>
      <td>1</td>
      <td>W - Todos os dados coincidem<br />X - O CEP e CPF coincidem, endereço não coincide<br />Z - Endereço e CPF coincidem, CEP não coincide<br />S - O CEP e endereço coincidem, CPF não coincide<br />A - CPF coincide, CEP e endereço não coincidem<br />U - O CEP e CPF não coincidem, endereço coincide<br />Y - O CEP coincide, CPF e endereço não coincidem<br />P - Não suportado ou não verificado<br />I - Banco emissor com sistema indisponível<br />N - Nada coincide<br />E - Dado(s) com formato(s) não suportado(s)<br />R - Resposta inválida</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-autenticação-externa">Criando uma transação com autenticação externa</h2>

<p>Este é um exemplo de uma transação com dados de autenticação externa. Este fluxo é suportado pelas adquirentes Cielo, Global Payments e Banorte.</p>

<h3 id="requisição-4">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
     </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">    
     </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"ExternalAuthentication"</span><span class="p">:{</span><span class="w">
       </span><span class="s2">"Cavv"</span><span class="p">:</span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Xid"</span><span class="p">:</span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Eci"</span><span class="p">:</span><span class="s2">"5"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"ExtraDataCollection"</span><span class="p">:[{</span><span class="w">
         </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"ValorDoCampo"</span><span class="w">
     </span><span class="p">}]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051002"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678909"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>,
     <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
     <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,    
     <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>
     <span class="o">}</span>,
     <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
       <span class="s2">"Cavv"</span>:<span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
       <span class="s2">"Xid"</span>:<span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
       <span class="s2">"Eci"</span>:<span class="s2">"5"</span>
     <span class="o">}</span>,
     <span class="s2">"ExtraDataCollection"</span>:[<span class="o">{</span>
         <span class="s2">"Name"</span>:<span class="s2">"NomeDoCampo"</span>,
         <span class="s2">"Value"</span>:<span class="s2">"ValorDoCampo"</span>
     <span class="o">}]</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento. Suportado pelas adquirentes Cielo, Global Payments e Banorte</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Cavv</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Sim</td>
      <td>O valor Cavv é retornado pelo mecanismo de autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Xid</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Sim</td>
      <td>O valor Xid é retornado pelo mecanismo de autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Eci</code></td>
      <td>Número</td>
      <td>1</td>
      <td>Sim</td>
      <td>O valor Eci é retornado pelo mecanismo de autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-4">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ExternalAuthentication"</span><span class="p">:{</span><span class="w">
       </span><span class="s2">"Cavv"</span><span class="p">:</span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Xid"</span><span class="p">:</span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Eci"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="w">
     </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
    <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
    <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
    <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
    <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
    <span class="s2">"Address"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>,
    <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
    <span class="s2">"CapturedAmount"</span>: 10000,
    <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
       <span class="s2">"Cavv"</span>:<span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
       <span class="s2">"Xid"</span>:<span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
       <span class="s2">"Eci"</span>:<span class="s2">"5"</span>,
     <span class="o">}</span>,
    <span class="s2">"ExtraDataCollection"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
        <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedDate</code></td>
      <td>Data em que a transação foi capturada a transação</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedAmount</code></td>
      <td>Valor capturado (sem pontuação)</td>
      <td>Número</td>
      <td>15</td>
      <td>100 equivale a R$ 1,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o resultado da autenticação</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-autenticação">Criando uma transação com Autenticação</h2>

<p>Quando uma transação é submetida ao processo de autenticação, o portador será redirecionado ao ambiente do emissor, onde deverá realizar a confirmação de seus dados. Quando validado corretamente, o “liability” da transação passa a ser do banco, ou seja, em casos de contestação, o banco será o responsável.</p>

<aside class="notice">Autenticação:Nesta modalidade o portador do cartão é direcionado para o ambiente de autenticação do banco emissor do cartão onde será solicitada a inclusão da senha do cartão. Aplicável somente para Cielo.</aside>

<h3 id="requisição-5">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051101"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051101"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Provider"</span>:<span class="s2">"Cielo"</span>,
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:10000,
      <span class="s2">"Capture"</span>:true,    
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Authenticate"</span>:true,
      <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.braspag.com.br"</span>,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2015"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim (quando Autenticate é true)</td>
      <td>URL para onde o usuário será redirecionado após o fim da autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-5">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051101"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=9e61c78c0b0ca3e5db41fa7e31585eab"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930690009D2A47A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b125109f-681b-4338-8450-f3e38bc71b32"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 11:09:49"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waiting"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/b125109f-681b-4338-8450-f3e38bc71b32"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051101"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2015"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=9e61c78c0b0ca3e5db41fa7e31585eab"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"10069930690009D2A47A"</span>,
    <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"b125109f-681b-4338-8450-f3e38bc71b32"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 11:09:49"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"ReasonCode"</span>: 9,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Waiting"</span>,
    <span class="s2">"Status"</span>: 0,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/b125109f-681b-4338-8450-f3e38bc71b32"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para qual o Lojista deve redirecionar o Cliente para o fluxo de autenticação</td>
      <td>Texto</td>
      <td>256</td>
      <td>https://qasecommerce.cielo.com.br/web/index.cbmp?id=5f177203bf524c78982ad28f7ece5f08</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-que-salva-o-cartão">Criando uma transação que salva o cartão</h2>

<p>Caso você tenha contratado o Cartão Protegido, é possível salvar um cartão no formato de um Token, para substituir os dados do cartão numa próxima transação do mesmo comprador. É importante ressaltar que por questões de segurança, o CVV (Código de Segurança) não é tokenizado.</p>

<h3 id="requisição-6">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051104"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cliente1"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051104"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:true,
         <span class="s2">"Alias"</span>: <span class="s2">"Cliente1"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>10</td>
      <td>Não</td>
      <td>true se salva o cartão e false para não salvar</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Alias</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Não</td>
      <td>Alias (Apelido) do cartão de crédito</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-6">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051104"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cliente1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3519928"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511023519928"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"536934"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3af00b2d-dbd0-42d6-a669-d4937f0881da"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 14:35:19"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/3af00b2d-dbd0-42d6-a669-d4937f0881da"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/3af00b2d-dbd0-42d6-a669-d4937f0881da/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/3af00b2d-dbd0-42d6-a669-d4937f0881da/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051104"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
      <span class="s2">"CardToken"</span>: <span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
      <span class="s2">"Alias"</span>: <span class="s2">"Cliente1"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"3519928"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511023519928"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"536934"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"3af00b2d-dbd0-42d6-a669-d4937f0881da"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 14:35:19"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/3af00b2d-dbd0-42d6-a669-d4937f0881da"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/3af00b2d-dbd0-42d6-a669-d4937f0881da/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/3af00b2d-dbd0-42d6-a669-d4937f0881da/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token no Cartão Protegido que representa os dados do cartão</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-card-token">Criando uma transação com Card Token</h2>

<p>Este é um exemplo de como utilizar o Card Token, previamente salvo, para criar uma transação. Por questão de segurança, um Card Token não tem guardado o Código de Segurança. Desta forma, é preciso solicitar esta informação ao portador para cada nova transação (exceto em casos de transações recorrentes).</p>

<h3 id="requisição-7">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051105"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardToken"</span><span class="p">:</span><span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051105"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardToken"</span>:<span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token no Cartão Protegido que representa os dados do cartão</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão. Para processar vendar sem o CVV, é necessário solicitar liberação na adquirente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-7">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051105"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511030124305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"065964"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:01:24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051105"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"CardToken"</span>: <span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"124305"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511030124305"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"065964"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:01:24"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-alias">Criando uma transação com Alias</h2>

<p>Este é um exemplo de como utilizar o Alias, previamente salvo, para criar uma transação. Por questão de segurança, um Alias não tem guardado o Código de Segurança. Desta forma, é preciso solicitar esta informação ao portador para cada nova transação (exceto em casos de transações recorrentes).</p>

<h3 id="requisição-8">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051105"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"Alias"</span><span class="p">:</span><span class="s2">"Cliente1"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051105"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
   <span class="s2">"Capture"</span>:true,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"Alias"</span>:<span class="s2">"Cliente1"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token no Cartão Protegido que representa os dados do cartão</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão. Para processar vendar sem o CVV, é necessário solicitar liberação na adquirente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Alias</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Não</td>
      <td>Alias (Apelido) do cartão de crédito</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-8">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051105"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Alias"</span><span class="p">:</span><span class="s2">"Cliente1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511030124305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"065964"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:01:24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051105"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Alias"</span>:<span class="s2">"Cliente1"</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"124305"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511030124305"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"065964"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:01:24"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="capturando-uma-transação">Capturando uma transação</h2>

<p>Uma transação pré-autorizada necessita de uma operação de “Captura” para confirmar a transação. Segue o exemplo.</p>

<h3 id="requisição-9">Requisição</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/capture</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture?amount=xxx&amp;serviceTaxAmount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor a ser capturado (em centavos). Verificar se a adquirente utilizada suporta uma captura parcial</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Aplicável para companhias aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-9">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReasonCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ProviderReasonMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="cancelandoestornando-uma-transação">Cancelando/Estornando uma transação</h2>

<p>Para cancelar uma transação que utilizou cartão de crédito, é necessário fazer um PUT para o recurso Payment conforme o exemplo.</p>

<h3 id="requisição-10">Requisição</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/void?amount=xxx</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void?amount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor a ser cancelado/estornado (ser enviado em centavos). Verifique se a adquirente contratada suporta a operação de cancelamento ou estorno</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-10">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
    <span class="s2">"Status"</span>: 10,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReasonCode"</span>: <span class="s2">"9"</span>,
    <span class="s2">"ProviderReasonMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="transação-com-velocity-check">Transação com Velocity Check</h2>

<p>O Velocity Check é um tipo de mecanismo de prevenção às tentativas de fraude, que analisa especificamente o conceito de “velocidade”. Ele analisa a frequência de elementos de rastreabilidade tais como Número do Cartão, CPF, CEP de entrega, entre outros. A funcionalidade deve ser contratada à parte, e posteriormente habilitada em sua loja. Quando o Velocity está ativo, a resposta da transação trará um nó específico chamado “Velocity”, com os datalhes da análise.</p>

<p>No caso da rejeição pela regra de Velocity, o ProviderReasonCode será BP171 - Rejected by fraud risk (velocity, com ReasonCode 16 - AbortedByFraud</p>

<h3 id="requisição-11">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051202"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IpAdress"</span><span class="p">:</span><span class="s2">"127.0.01"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
         </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2027"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void?amount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051202"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678909"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"IpAdress"</span>:<span class="s2">"127.0.01"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
         <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2027"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IpAddress</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Ip do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-11">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051202"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2027"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reject"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RejectReasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"RuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bloqueado pela regra CardNumber. Name: Máximo de 3 Hits de Cartão em 1 dia. HitsQuantity: 3. HitsTimeRangeInSeconds: 1440. ExpirationBlockTimeInSeconds: 1440"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbortedByFraud"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP171"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected by fraud risk (velocity)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051202"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
    <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
    <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
    <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
    <span class="s2">"Address"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
    <span class="o">}</span>,
    <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2027"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Undefined"</span>
    <span class="o">}</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Reject"</span>,
      <span class="s2">"Score"</span>: 100,
      <span class="s2">"RejectReasons"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"RuleId"</span>: 49,
          <span class="s2">"Message"</span>: <span class="s2">"Bloqueado pela regra CardNumber. Name: Máximo de 3 Hits de Cartão em 1 dia. HitsQuantity: 3. HitsTimeRangeInSeconds: 1440. ExpirationBlockTimeInSeconds: 1440"</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 16,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"AbortedByFraud"</span>,
    <span class="s2">"Status"</span>: 0,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"BP171"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Rejected by fraud risk (velocity)"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.Id</code></td>
      <td>Identificador da análise efetuada</td>
      <td>GUID</td>
      <td>36</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.ResultMessage</code></td>
      <td>Accept ou Reject</td>
      <td>Texto</td>
      <td>25</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.Score</code></td>
      <td>100</td>
      <td>Número</td>
      <td>10</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.RejectReasons.RuleId</code></td>
      <td>Código da Regra que rejeitou</td>
      <td>Número</td>
      <td>10</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.RejectReasons.Message</code></td>
      <td>Descrição da Regra que rejeitou</td>
      <td>Texto</td>
      <td>512</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="transação-com-renova-fácil">Transação com Renova Fácil</h2>

<p>O Renova fácil é um mecanismo desenvolvido pela CIELO junto com os bancos, com o objetivo de aumentar a taxa de conversão de autorização, através da identificação de cartões vencidos e o retorno do novo cartão que
substituiu as vencidas. Bancos Emissores participantes: Bradesco, Banco do Brasil, Santander, Panamericano, Citibank</p>

<h3 id="requisição-12">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051201"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000183"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2016"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void?amount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051201"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2016"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-12">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051201"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2016"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0512105630844"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"NewCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000512353"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05/2020"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca81c3c9-2dfa-4e6e-9c77-37e33a77ac84"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-12 10:56:30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CardExpired"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Card Expired"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/ca81c3c9-2dfa-4e6e-9c77-37e33a77ac84"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051201"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2016"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0512105630844"</span>,
    <span class="s2">"NewCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000512353"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"05/2020"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"ca81c3c9-2dfa-4e6e-9c77-37e33a77ac84"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-12 10:56:30"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 15,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"CardExpired"</span>,
    <span class="s2">"Status"</span>: 3,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"57"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Card Expired"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/ca81c3c9-2dfa-4e6e-9c77-37e33a77ac84"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">NewCard.CardNumber</code></td>
      <td>Novo Número do Cartão do comprador</td>
      <td>Texto</td>
      <td>16</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.Holder</code></td>
      <td>Nome do portador impresso no novo cartão</td>
      <td>Texto</td>
      <td>25</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.ExpirationDate</code></td>
      <td>Data de validade impresso no novo cartão</td>
      <td>Texto</td>
      <td>7</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do novo cartão</td>
      <td>Texto</td>
      <td>4</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.Brand</code></td>
      <td>Bandeira do novo cartão</td>
      <td>Texto</td>
      <td>10</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h1 id="pagamentos-com-análise-de-fraude">Pagamentos com Análise de Fraude</h1>

<h2 id="criando-uma-transação-com-análise-de-fraude-cybersource">Criando uma transação com Análise de Fraude Cybersource</h2>

<p>Para que a análise de fraude via Cybersource seja efetuada em tempo de transação, é necessário complementar a mensagem com os dados mencionados no nó “FraudAnalysis”.</p>

<h3 id="requisição-13">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051102"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">    
     </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"FraudAnalysis"</span><span class="p">:{</span><span class="w">
       </span><span class="s2">"Sequence"</span><span class="p">:</span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"SequenceCriteria"</span><span class="p">:</span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"CaptureOnLowRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="s2">"VoidOnHighRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">       
       </span><span class="s2">"FingerPrintId"</span><span class="p">:</span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="w">
       </span><span class="s2">"Browser"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CookiesAccepted"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"HostName"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"IpAddress"</span><span class="p">:</span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"Chrome"</span><span class="w">
         </span><span class="p">},</span><span class="w">
       </span><span class="s2">"Cart"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"IsGift"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ReturnsAccepted"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Items"</span><span class="p">:[{</span><span class="w">
                </span><span class="s2">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Sku"</span><span class="p">:</span><span class="s2">"20170511"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Passenger"</span><span class="p">:{</span><span class="w">
                   </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Rating"</span><span class="p">:</span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Phone"</span><span class="p">:</span><span class="s2">"999994444"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Status"</span><span class="p">:</span><span class="s2">"Accepted"</span><span class="w">
                   </span><span class="p">}</span><span class="w">
            </span><span class="p">}]</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="s2">"MerchantDefinedFields"</span><span class="p">:[{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="mi">95</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"Dado Definido pela Loja"</span><span class="w">
            </span><span class="p">}],</span><span class="w">
       </span><span class="s2">"Shipping"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"Addressee"</span><span class="p">:</span><span class="s2">"Alameda Xingu, 512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Phone"</span><span class="p">:</span><span class="s2">"1121840540"</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Travel"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"DepartureTime"</span><span class="p">:</span><span class="s2">"2020-01-01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"JourneyType"</span><span class="p">:</span><span class="s2">"Ida"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Route"</span><span class="p">:</span><span class="s2">"MAO-RJO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Legs"</span><span class="p">:[{</span><span class="w">
            </span><span class="s2">"Destination"</span><span class="p">:</span><span class="s2">"GYN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Origin"</span><span class="p">:</span><span class="s2">"VCP"</span><span class="w">
          </span><span class="p">}]</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051102"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678909"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
        <span class="o">}</span>,
    <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>,
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
     <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,    
     <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>
     <span class="o">}</span>,
     <span class="s2">"FraudAnalysis"</span>:<span class="o">{</span>
       <span class="s2">"Sequence"</span>:<span class="s2">"AnalyseFirst"</span>,
       <span class="s2">"SequenceCriteria"</span>:<span class="s2">"Always"</span>,
       <span class="s2">"CaptureOnLowRisk"</span>:false,
       <span class="s2">"VoidOnHighRisk"</span>:false,       
       <span class="s2">"FingerPrintId"</span>:<span class="s2">"074c1ee676ed4998ab66491013c565e2"</span>,
       <span class="s2">"Browser"</span>:<span class="o">{</span>
         <span class="s2">"CookiesAccepted"</span>:false,
         <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
         <span class="s2">"HostName"</span>:<span class="s2">"Teste"</span>,
         <span class="s2">"IpAddress"</span>:<span class="s2">"127.0.0.1"</span>,
         <span class="s2">"Type"</span>:<span class="s2">"Chrome"</span>
         <span class="o">}</span>,
       <span class="s2">"Cart"</span>:<span class="o">{</span>
         <span class="s2">"IsGift"</span>:false,
         <span class="s2">"ReturnsAccepted"</span>:true,
         <span class="s2">"Items"</span>:[<span class="o">{</span>
                <span class="s2">"GiftCategory"</span>:<span class="s2">"Undefined"</span>,
                <span class="s2">"HostHedge"</span>:<span class="s2">"Off"</span>,
                <span class="s2">"NonSensicalHedge"</span>:<span class="s2">"Off"</span>,
                <span class="s2">"ObscenitiesHedge"</span>:<span class="s2">"Off"</span>,
                <span class="s2">"PhoneHedge"</span>:<span class="s2">"Off"</span>,
        <span class="s2">"Name"</span>:<span class="s2">"ItemTeste"</span>,
        <span class="s2">"Quantity"</span>:1,
        <span class="s2">"Sku"</span>:<span class="s2">"20170511"</span>,
        <span class="s2">"UnitPrice"</span>:10000,
        <span class="s2">"Risk"</span>:<span class="s2">"High"</span>,
        <span class="s2">"TimeHedge"</span>:<span class="s2">"Normal"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"AdultContent"</span>,
        <span class="s2">"VelocityHedge"</span>:<span class="s2">"High"</span>,
        <span class="s2">"Passenger"</span>:<span class="o">{</span>
        <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"1234567890"</span>,
        <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Rating"</span>:<span class="s2">"Adult"</span>,
        <span class="s2">"Phone"</span>:<span class="s2">"999994444"</span>,
        <span class="s2">"Status"</span>:<span class="s2">"Accepted"</span>
        <span class="o">}</span>
      <span class="o">}]</span>
  <span class="o">}</span>,
  <span class="s2">"MerchantDefinedFields"</span>:[<span class="o">{</span>
          <span class="s2">"Id"</span>:95,
          <span class="s2">"Value"</span>:<span class="s2">"Dado Definido pela Loja"</span>
          <span class="o">}]</span>,
      <span class="s2">"Shipping"</span>:<span class="o">{</span>
          <span class="s2">"Addressee"</span>:<span class="s2">"Alameda Xingu, 512"</span>,
          <span class="s2">"Method"</span>:<span class="s2">"LowCost"</span>,
      <span class="s2">"Phone"</span>:<span class="s2">"1121840540"</span>
    <span class="o">}</span>,
    <span class="s2">"Travel"</span>:<span class="o">{</span>
        <span class="s2">"DepartureTime"</span>:<span class="s2">"2020-01-01"</span>,
        <span class="s2">"JourneyType"</span>:<span class="s2">"Ida
        "</span>Route<span class="s2">":"</span>MAO-RJO<span class="s2">",
     "</span>Legs<span class="s2">":[{
        "</span>Destination<span class="s2">":"</span>GYN<span class="s2">",
        "</span>Origin<span class="s2">":"</span>VCP<span class="s2">"
          }]
        }
     }
  }
}
--verbose
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Não</td>
      <td>Logradouro do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Não</td>
      <td>Logradouro do endereço de entrega do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Tipo de Fluxo para realização da análise de fraude. Primeiro Analise (AnalyseFirst) ou Primeiro Autorização (AuthorizeFirst)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>Critério do fluxo.<br />OnSuccess - Só realiza a analise se tiver sucesso na transaçãoAlways - Sempre realiza a analise</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.CaptureOnLowRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Quando true, a autorização deve ser com captura automática quando o risco de fraude for considerado baixo (Accept). Em casos de Reject ou Review, o fluxo permanece o mesmo, ou seja, a captura acontecerá conforme o valor especificado no parâmetro “Capture”. Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente “AuthorizeFirst”. Por depender do resutlado de análise de risco, este parâmetro só terá efeito quando o serviço de Antifraude for contratado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.VoidOnHighRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Quando true, o estorno deve acontecer automaticamente quando o risco de fraude for considerado alto (Reject). Em casos de Accept ou Review, o fluxo permanece o mesmo, ou seja, o estorno deve ser feito manualmente. Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente “AuthorizeFirst”. Por depender do resutlado de análise de risco, este parâmetro só terá efeito quando o serviço de Antifraude for contratado.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.FingerPrintId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Identificador utilizado para cruzar informações obtidas pelo Browser do internauta com os dados enviados para análise. Este mesmo valor deve ser passado na variável SESSIONID do script do DeviceFingerPrint</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.CookiesAccepted</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
      <td>Booleano para identificar se o browser do cliente aceita cookies</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.Email</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Não</td>
      <td>E-mail registrado no browser do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.HostName</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Não</td>
      <td>Nome do host onde o comprador estava antes de entrar no site da loja</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.IpAddress</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Endereço IP do comprador. É altamente recomendável o envio deste campo</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.Type</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Não</td>
      <td>Nome do browser utilizado pelo comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.IsGift</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que indica se o pedido é para presente ou não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.ReturnsAccepted</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que define se devoluções são aceitas para o pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.GiftCategory</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>Campo que avaliará os endereços de cobrança e entrega para difrentes cidades, estados ou países<br />Yes (Em caso de divergência entre endereços de cobrança e entrega, marca como risco pequeno)No (Em caso de divergência entre endereços de cobrança e entrega, marca com risco alto)Off (Ignora a análise de risco para endereços divergentes)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.HostHedge</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Nível de importância do e-mail e endereços IP dos clientes em risco de pontuação. <br />Low (Baixa importância do e-mail e endereço IP na análise de risco)Normal (Média importância do e-mail e endereço IP na análise de risco)High (Alta importância do e-mail e endereço IP na análise de risco)Off (E-mail e endereço IP não afetam a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.NonSensicalHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível dos testes realizados sobre os dados do comprador com pedidos recebidos sem sentido. <br />Low (Baixa importância da verificação feita sobre o pedido do comprador, na análise de risco)Normal (Média importância da verificação feita sobre o pedido do comprador, na análise de risco)High (Alta importância da verificação feita sobre o pedido do comprador, na análise de risco)Off (Verificação do pedido do comprador não afeta a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.ObscenitiesHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de obscenidade dos pedidos recebedidos. <br />Low (Baixa importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)Normal (Média importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)High (Alta importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)Off (Verificação de obscenidade no pedido do comprador não afeta a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.PhoneHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível dos testes realizados com os números de telefones. <br />Low (Baixa importância nos testes realizados com números de telefone)Normal (Média importância nos testes realizados com números de telefone)High (Alta importância nos testes realizados com números de telefone)Off (Testes de números de telefone não afetam a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do Produto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Quantity</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Quantidade do produto a ser adquirido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Sku</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código comerciante identificador do produto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.UnitPrice</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Preço unitário do produto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Risk</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível do risco do produto. <br />Low (O produto tem um histórico de poucos chargebacks)Normal (O produto tem um histórico de chargebacks considerado normal)High (O produto tem um histórico de chargebacks acima da média)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.TimeHedge</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Nível de importância da hora do dia do pedido do cliente. <br />Low (Baixa importância no horário do dia em que foi feita a compra, para a análise de risco)Normal (Média importância no horário do dia em que foi feita a compra, para a análise de risco)High (Alta importância no horário do dia em que foi feita a compra, para a análise de risco)Off (O horário da compra não afeta a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Type</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Tipo do produto. <br />AdultContent(Conteúdo adulto)Coupon(Cupon de desconto)Default(Opção padrão para análise na CyberSource quando nenhum outro valor é selecionado)EletronicGood(Produto eletrônico)EletronicSoftware(Softwares distribuídos eletronicamente via download)GiftCertificate(Vale presente)HandlingOnly(Taxa de instalação ou manuseio)Service(Serviço)ShippingAndHandling(Frete e taxa de instalação ou manuseio)ShippingOnly(Frete)Subscription(Assinatura)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.VelocityHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância de frequência de compra do cliente. <br />Low (Baixa importância no número de compras realizadas pelo cliente nos últimos 15 minutos)Normal (Média importância no número de compras realizadas pelo cliente nos últimos 15 minutos)High (Alta importância no número de compras realizadas pelo cliente nos últimos 15 minutos)Off (A frequência de compras realizadas pelo cliente não afeta a análise de fraude)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Passageiro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Identity</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Id do passageiro a quem o bilheite foi emitido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Name</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Não</td>
      <td>Nome do passageiro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Rating</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Classificação do Passageiro. <br />Adult (Passageiro adulto)Child(Passageiro criança)Infant(Passageiro infantil)Youth(Passageiro adolescente)Student(Passageiro estudante)SeniorCitizen(Passageiro idoso)Military(Passageiro militar)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do telefone do passageiro. Para pedidos fora do U.S., a CyberSource recomenda que inclua o código do país. 552133665599 (Ex. Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Status</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Classificação da empresa aérea. Pode-se usar valores como Gold ou Platina</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.MerchantDefinedFields.Id</code></td>
      <td>Texto</td>
      <td>—</td>
      <td>Sim (se aplicável)</td>
      <td>Id das informações adicionais a serem enviadas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.MerchantDefinedFields.Value</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim (se aplicável)</td>
      <td>Valor das informações adicionais a serem enviadas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Addressee</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do destinatário da entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Method</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Tipo de serviço de entrega do produto. <br />SameDay(Serviço de entrega no mesmo dia)OneDay(Serviço de entrega noturna ou no dia seguint)TwoDay(Serviço de entrega em dois dias)ThreeDay(Serviço de entrega em três dias)LowCost(Serviço de entrega de baixo custo)Pickup(Produto retirado na loja)Other(Outro método de entrega)None(Sem serviço de entrega, pois é um serviço ou assinatura)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Telefone do destinatário da entrega. Ex. 552133665599 (Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.DepartureTime</code></td>
      <td>DateTime</td>
      <td>23</td>
      <td>Não</td>
      <td>Data, hora e minuto de partida do vôo. AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.JourneyType</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Tipo de viagem. Ex. Só Ida, Só Volta, Ida e Volta</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Route</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Rota da viagem. Concatenação de pernas de viagem individuais no formato ORIG1-DEST1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Legs.Destination</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Código do aeroporto do ponto de destino da viagem</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Legs.Origin</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Código do aeroporto do ponto de origem da viagem</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-13">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051102"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eu defini isso"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ItemTeste"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170235134521346"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999994444"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Travel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAO-RJO"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DepartureTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-01-02T00:00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"JourneyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ida"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GYN"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VCP"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"HostName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.190.150.350"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sr Comprador Teste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21114740"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LowCost"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CaptureOnLowRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"VoidOnHighRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FraudAnalysisReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"AddressInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COR-BA^MM-BIN"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B^D^R^Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
                </span><span class="s2">"BinCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CardIssuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIA CARD SERVICES, N.A."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CardScheme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VisaCredit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"InternetInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FREE-EM^RISK-EM"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"IpRoutingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_lac"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4219584b-6d23-49f0-a24c-2b677bc60df8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbortedByFraud"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/4219584b-6d23-49f0-a24c-2b677bc60df8"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051102"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
    <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
    <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
    <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
    <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
    <span class="s2">"Address"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>,
    <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>
<span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Undefined"</span>
    <span class="o">}</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
    <span class="s2">"FraudAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Sequence"</span>: <span class="s2">"AnalyseFirst"</span>,
            <span class="s2">"SequenceCriteria"</span>: <span class="s2">"Always"</span>,
            <span class="s2">"FingerPrintId"</span>: <span class="s2">"074c1ee676ed4998ab66491013c565e2"</span>,
            <span class="s2">"MerchantDefinedFields"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"Id"</span>: 95,
                    <span class="s2">"Value"</span>: <span class="s2">"Eu defini isso"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"Cart"</span>: <span class="o">{</span>
                <span class="s2">"IsGift"</span>: <span class="nb">false</span>,
                <span class="s2">"ReturnsAccepted"</span>: <span class="nb">true</span>,
                <span class="s2">"Items"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"Type"</span>: <span class="s2">"AdultContent"</span>,
                        <span class="s2">"Name"</span>: <span class="s2">"ItemTeste"</span>,
                        <span class="s2">"Risk"</span>: <span class="s2">"High"</span>,
                        <span class="s2">"Sku"</span>: <span class="s2">"201411170235134521346"</span>,
                        <span class="s2">"UnitPrice"</span>: 123,
                        <span class="s2">"Quantity"</span>: 1,
                        <span class="s2">"HostHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"NonSensicalHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"ObscenitiesHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"PhoneHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"TimeHedge"</span>: <span class="s2">"Normal"</span>,
                        <span class="s2">"VelocityHedge"</span>: <span class="s2">"High"</span>,
                        <span class="s2">"GiftCategory"</span>: <span class="s2">"Undefined"</span>,
                        <span class="s2">"Passenger"</span>: <span class="o">{</span>
                            <span class="s2">"Name"</span>: <span class="s2">"Comprador accept"</span>,
                            <span class="s2">"Identity"</span>: <span class="s2">"1234567890"</span>,
                            <span class="s2">"Status"</span>: <span class="s2">"Accepted"</span>,
                            <span class="s2">"Rating"</span>: <span class="s2">"Adult"</span>,
                            <span class="s2">"Email"</span>: <span class="s2">"compradorteste@live.com"</span>,
                            <span class="s2">"Phone"</span>: <span class="s2">"999994444"</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"Travel"</span>: <span class="o">{</span>
                <span class="s2">"Route"</span>: <span class="s2">"MAO-RJO"</span>,
                <span class="s2">"DepartureTime"</span>: <span class="s2">"2010-01-02T00:00:00"</span>,
                <span class="s2">"JourneyType"</span>: <span class="s2">"Ida"</span>,
                <span class="s2">"Legs"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"Destination"</span>: <span class="s2">"GYN"</span>,
                        <span class="s2">"Origin"</span>: <span class="s2">"VCP"</span>
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"Browser"</span>: <span class="o">{</span>
                <span class="s2">"HostName"</span>: <span class="s2">"Teste"</span>,
                <span class="s2">"CookiesAccepted"</span>: <span class="nb">false</span>,
                <span class="s2">"Email"</span>: <span class="s2">"compradorteste@live.com"</span>,
                <span class="s2">"Type"</span>: <span class="s2">"Chrome"</span>,
                <span class="s2">"IpAddress"</span>: <span class="s2">"200.190.150.350"</span>
            <span class="o">}</span>,
            <span class="s2">"Shipping"</span>: <span class="o">{</span>
                <span class="s2">"Addressee"</span>: <span class="s2">"Sr Comprador Teste"</span>,
                <span class="s2">"Phone"</span>: <span class="s2">"21114740"</span>,
                <span class="s2">"Method"</span>: <span class="s2">"LowCost"</span>
            <span class="o">}</span>,
            <span class="s2">"Id"</span>: <span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span>,
            <span class="s2">"Status"</span>: 1,
            <span class="s2">"CaptureOnLowRisk"</span>: <span class="nb">false</span>,
            <span class="s2">"VoidOnHighRisk"</span>: <span class="nb">false</span>,
            <span class="s2">"FraudAnalysisReasonCode"</span>: 100,
            <span class="s2">"ReplyData"</span>: <span class="o">{</span>
                <span class="s2">"AddressInfoCode"</span>: <span class="s2">"COR-BA^MM-BIN"</span>,
                <span class="s2">"FactorCode"</span>: <span class="s2">"B^D^R^Z"</span>,
                <span class="s2">"Score"</span>: 42,
                <span class="s2">"BinCountry"</span>: <span class="s2">"us"</span>,
                <span class="s2">"CardIssuer"</span>: <span class="s2">"FIA CARD SERVICES, N.A."</span>,
                <span class="s2">"CardScheme"</span>: <span class="s2">"VisaCredit"</span>,
                <span class="s2">"HostSeverity"</span>: 1,
                <span class="s2">"InternetInfoCode"</span>: <span class="s2">"FREE-EM^RISK-EM"</span>,
                <span class="s2">"IpRoutingMethod"</span>: <span class="s2">"Undefined"</span>,
                <span class="s2">"ScoreModelUsed"</span>: <span class="s2">"default_lac"</span>,
                <span class="s2">"CasePriority"</span>: 3
            <span class="o">}</span>
        <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"4219584b-6d23-49f0-a24c-2b677bc60df8"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 16,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"AbortedByFraud"</span>,
    <span class="s2">"Status"</span>: 13,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/4219584b-6d23-49f0-a24c-2b677bc60df8"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura do portador</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>3</td>
      <td>Ex.: 500</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Id</code></td>
      <td>Indentificação da Transação no Antifraud</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>3</td>
      <td>Ex.: 500</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.FraudAnalysisReasonCode</code></td>
      <td>Resultado da análise</td>
      <td>Byte</td>
      <td>—</td>
      <td>100 - Operação bem sucedida.101 - O pedido está faltando um ou mais campos necessários. Possível ação: Veja os campos que estão faltando na lista AntiFraudResponse.MissingFieldCollection. Reenviar o pedido com a informação completa.102 - Um ou mais campos do pedido contêm dados inválidos. Possível ação: Veja os campos inválidos na lista AntiFraudResponse.InvalidFieldCollection. Reenviar o pedido com as informações corretas.150 Falha no sistema geral. Possível ação: Aguarde alguns minutos e tente reenviar o pedido.151 - O pedido foi recebido, mas ocorreu time-out no servidor. Este erro não inclui time-out entre o cliente e o servidor. Possível ação: Aguarde alguns minutos e tente reenviar o pedido.152 O pedido foi recebido, mas ocorreu time-out. Possível ação: Aguarde alguns minutos e reenviar o pedido.202 – Prevenção à Fraude recusou o pedido porque o cartão expirou. Você também pode receber este código se a data de validade não coincidir com a data em arquivo do banco emissor. Se o processador de pagamento permite a emissão de créditos para cartões expirados, a CyberSource não limita essa funcionalidade. Possível ação: Solicite um cartão ou outra forma de pagamento.231 O número da conta é inválido. Possível ação: Solicite um cartão ou outra forma de pagamento.234 - Há um problema com a configuração do comerciante. Possível ação: Não envie o pedido. Entre em contato com o Suporte ao Cliente para corrigir o problema de configuração.400 A pontuação de fraude ultrapassa o seu limite. Possível ação: Reveja o pedido do cliente.480 O pedido foi marcado para revisão pelo Gerenciador de Decisão.481 - O pedido foi rejeitado pelo Gerenciador de Decisão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.AddressInfoCode</code></td>
      <td>Combinação de códigos que indicam erro no endereço de cobrança e/ou entrega. Os códigos são concatenados usando o caractere ^</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ex: COR-BA^MM-BIN<br />COR-BA - O endereço de cobrança pode ser normalizado.COR-SA - O endereço de entrega pode ser normalizado.INTL-BA - O país de cobrança é fora dos U.S.INTL-SA - O país de entrega é fora dos U.S.MIL-USA - Este é um endereço militar nos U.S.MM-A - Os endereços de cobrança e entrega usam nomes de ruas diferentes.MM-BIN - O BIN do cartão (os seis primeiros dígitos do número) não corresponde ao país.MM-C - Os endereços de cobrança e entrega usam cidades diferentes.MM-CO - Os endereços de cobrança e entrega usam países diferentes.MM-ST - Os endereços de cobrança e entrega usam estados diferentes.MM-Z - Os endereços de cobrança e entrega usam códidos postais diferentes.UNV-ADDR - O endereço é inverificável.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.FactorCode</code></td>
      <td>Combinação de códigos que indicam o score do pedido. Os códigos são concatenados usando o caractere ^</td>
      <td>Texto</td>
      <td>100</td>
      <td>Ex: B^D^R^Z<br />A - Mudança de endereço excessiva. O cliente mudou o endereço de cobrança duas ou mais vezes nos últimos seis meses.B - BIN do cartão ou autorização de risco. Os fatores de risco estão relacionados com BIN de cartão de crédito e/ou verificações de autorização do cartão.C - Elevado números de cartões de créditos. O cliente tem usado mais de seis números de cartões de créditos nos últimos seis meses.D - Impacto do endereço de e-mail. O cliente usa um provedor de e-mail gratuito ou o endereço de email é arriscado.E - Lista positiva. O cliente está na sua lista positiva.F - Lista negativa. O número da conta, endereço, endereço de e-mail ou endereço IP para este fim aparece sua lista negativa.G - Inconsistências de geolocalização. O domínio do cliente de e-mail, número de telefone, endereço de cobrança, endereço de envio ou endereço IP é suspeito.H - Excessivas mudanças de nome. O cliente mudou o nome duas ou mais vezes nos últimos seis meses.I - Inconsistências de internet. O endereço IP e de domínio de e-mail não são consistentes com o endereço de cobrança.N - Entrada sem sentido. O nome do cliente e os campos de endereço contém palavras sem sentido ou idioma.O - Obscenidades. Dados do cliente contém palavras obscenas.P - Identidade morphing. Vários valores de um elemento de identidade estão ligados a um valor de um elemento de identidade diferentes. Por exemplo, vários números de telefone estão ligados a um número de conta única.Q - Inconsistências do telefone. O número de telefone do cliente é suspeito.R - Ordem arriscada. A transação, o cliente e o lojista mostram informações correlacionadas de alto risco.T - Cobertura Time. O cliente está a tentar uma compra fora do horário esperado.U - Endereço não verificável. O endereço de cobrança ou de entrega não pode ser verificado.V - Velocity. O número da conta foi usado muitas vezes nos últimos 15 minutos.W - Marcado como suspeito. O endereço de cobrança ou de entrega é semelhante a um endereço previamente marcado como suspeito.Y - O endereço, cidade, estado ou país dos endereços de cobrança e entrega não se correlacionam.Z - Valor inválido. Como a solicitação contém um valor inesperado, um valor padrão foi substituído. Embora a transação ainda possa ser processada, examinar o pedido com cuidado para detectar anomalias.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.Score</code></td>
      <td>Score total calculado para o pedido</td>
      <td>Número</td>
      <td>—</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.BinCountry</code></td>
      <td>Sigla do país de origem da compra</td>
      <td>Texto</td>
      <td>2</td>
      <td>us</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.CardIssuer</code></td>
      <td>Nome do banco ou entidade emissora do cartão</td>
      <td>Texto</td>
      <td>128</td>
      <td>Bradesco</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.CardScheme</code></td>
      <td>Tipo da bandeira</td>
      <td>Texto</td>
      <td>20</td>
      <td>MaestroInternational - Maestro InternationalMaestroUkDomestic - Maestro UK DomesticMastercardCredit - MasterCard CreditMastercardDebit - MasterCard DebitVisaCredit - Visa CreditVisaDebit - Visa DebitVisaElectron - Visa Electron</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.HostSeverity</code></td>
      <td>Nível de risco do domínio de e-mail do comprador, de 0 a 5, onde 0 é risco indeterminado e 5 representa o risco mais alto</td>
      <td>Número</td>
      <td>—</td>
      <td>5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.InternetInfoCode</code></td>
      <td>Sequência de códigos que indicam que existe uma excessiva alteração de identidades do comprador. Os códigos são concatenados usando o caractere ^</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ex: <br />MORPH-B - O mesmo endereço de cobrança tem sido utilizado várias vezes com identidades de clientes múltiplos.MORPH-C - O mesmo número de conta tem sido utilizado várias vezes com identidades de clientes múltiplos.MORPH-E - O mesmo endereço de e-mail tem sido utilizado várias vezes com identidades de clientes múltiplos. MORPH-I O mesmo endereço IP tem sido utilizado várias vezes com identidades de clientes múltiplos.MORPH-P - O mesmo número de telefone tem sido usado várias vezes com identidades de clientes múltiplos.MORPH-S - O mesmo endereço de entrega tem sido utilizado várias vezes com identidades de clientes múltiplos.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.IpRoutingMethod</code></td>
      <td>Tipo de roteamento de IP utilizado pelo computador</td>
      <td>Texto</td>
      <td>—</td>
      <td>AnonymizerAolBasedCacheProxyFixedInternationalProxyMobileGatewayPopRegionalProxySatelliteSuperPop</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.ScoreModelUsed</code></td>
      <td>Nome do modelo de score utilizado</td>
      <td>Texto</td>
      <td>20</td>
      <td>Ex: default_lac</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.CasePriority</code></td>
      <td>Caso o lojista seja assinante do Enhanced Case Management, ele recebe este valor com o nível de prioridade, sendo 1 o mais alto e 5 o mais baixo</td>
      <td>Número</td>
      <td>—</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-análise-de-fraude-red-shield">Criando uma transação com Análise de Fraude ReD Shield</h2>

<p>Para que a análise de fraude seja efetuada em tempo de transação, é necessário complementar a mensagem com os dados mencionados no nó “FraudAnalysis”.</p>

<h3 id="requisição-14">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170314344356"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46286005030"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador_teste@live.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1986-08-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"WorkPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552121544788"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552125553669"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 205"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tijuca"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21002320"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ao lado do banco Santander"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"****6310"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RedShield"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CaptureOnLowRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"VoidOnHighRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TotalOrderAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">16700</span><span class="p">,</span><span class="w">
            </span><span class="s2">"OrderDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-09T19:16:38"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"IsRetryTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SplitingPaymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04003hQUMXGB0poNf94lis1ztuLYRFk+zJ17aP79a9O8mWOBmEnKs6ziAo94ggAtBvKEN6/FI8Vv2QMAyHLnc295s0Nn8akZzRJtHwsEilYx1P+NzuNQnyK6+7x2OpjJZkl4NlfPt7h9d96X/miNlYT65UIY2PeH7sUAh9vKxMn1nlPu2MJCSi12NBBoiZbfxP1Whlz5wlRFwWJi0FRulruXQQGCQaJkXU7GWWZGI8Ypycnf7F299GIR12G/cdkIMFbm6Yf0/pTJUUz1vNp0X2Zw8QydKgnOIDKXq4HnEqNOos1c6njJgQh/4vXJiqy0MXMQOThNipDmXv9I185O+yC2f3lLEO0Tay66NZEyiLNePemJKSIdwO9O5ZtntuUkG6NTqARuHStXXfwp8cyGF4MPWLuvNvEfRkJupBy3Z8hSEMEK7ZWd2T2HOihQxRh4qp+NANqYKBTl3v6fQJAEKikeSQVeBN8sQqAL0BZFaIMzbrnMivi6m6JRQUIdvEt+MbJEPFc0LjRycC5ApUmJO+Aoo9VKL1B8ftMSQ1iq1uTKn16ZOmDpzZrZhMPbH83aV0rfB2GDXcjpghm9klVFOw7EoYzV7IDBIIRtgqG9KZ+8NH/z6D+YNUMLEUuK1N2ddqKbS5cKs2hplVRjwSv7x8lMXWE7VDaOZWB8+sD1cMLQtEUC0znzxZ4bpRaiSy4dJLxuJpQYAFUrDlfSKRv/eHV3QiboXLuw9Lm6xVBK8ZvpD5d5olGQdc+NgsqjFnAHZUE+OENgY4kVU9wB84+POrI4MkoD4iHJ5a1QF8AZkZDFo1m1h9Bl+J2Ohr6MkBZq8DG5iVaunHfxUdHou5GL7lS1H7r+8ctfDXi8AfOPjzqyODJQ74Aiel35TKTOWG8pq1WO6yzJ1GNmMuMWZBamlGXoG/imnjwHY9HQtQzpGfcm0cR8X2Fd1ngNFGLDGZlWOX0jWtOwU6XVGT37JFD9W/cx4kzI+mPNi65X5WFPYlDG9N0Lbh5nOj3u3DXqRCiKCUrsEkMt8z9fxO9pLLGVQUKIYR2wTw53CiWK96FOpPevDWtH2XR0QkfOd02D73n81x6hEMCy0s3hRLn08Th9FlNHDMJBqLj+Tz8rG2TtNki3mJC7Ass1MT2qnKBI77n6vsQkAp59TfbZm/tBXwAoYdLJXge8F/numhd5AvQ+6I8ZHGJfdN3qWndvJ2I7s5Aeuzb8t9//eNsm73fIa05XreFsNyfOq1vG2COftC6EEsoJWe5h5Nwu1x6PIKuCaWxLY+npfWgM0dwJPmSgPx7TNM31LyVNS65m83pQ+qMTRH6GRVfg7HAcS5fnS/cjdbgHxEkRmgkRq1Qs48sbX9QC8nOTD0ntb6FcJyEOEOVzmJtDqimkzDq+SXR1/63AYe4LEj+ogRgN+Z8HAFhGFzd/m6snVviELfRqJ4LLQIk9Y/fzqnsF6I5OGxfdT2sxxK2Vokpi3jWhCcEknw7dYlHYpOnCHZO7QVgjQTngF2mzKf4GeOF4ECFsWTgLy6HFEitfauYJt1Xh1NfZZerBMwXLFzdhzoTQxGlcXc8lZIoEG1BLYv/ScICf8Ft9PEtpEa+j0cDSlU99UoH2xknwR1W9MRGc5I/euE63/IMJTqguZ3YcnJpjSVnAGSpyz/0gKjypJ3L86rHFRGXt0QbmaXtSl2UmmjI0p0LCCdx7McatCFEVI6FwPpPV0ZSMv/jM75eBid1X/lTV4XNzjowzR/iFlKYMzHZtVO9hCBPKlTwblRXNn4MlvNm/XeSRQ+Mr0YV5w5CL5Z/tGyzqnaLPj/kOVdyfj8r2m5Bcrz4g/ieUIo8qRFv2T2mET46ydqaxi27G4ZYHj7hbiaIqTOxWaE07qMCkJw=="</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"187.32.163.105"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170235"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">10950</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">11490</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"MerchantItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45584"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"GiftMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem para presente"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descricao do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingInstructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proximo ao 546"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SameDay"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingTrackingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passageiro Teste1"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567891"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Platinum"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Student"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passageiro_teste1@live.com"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55999993333"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"DateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1988-01-06"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20141117023"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">10950</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">11490</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"MerchantItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45585"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"GiftMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem para presente"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descricao do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingInstructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proximo ao 160"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NextDay"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingTrackingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"654321"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passageiro Teste2"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567892"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passageiro_teste2@live.com"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521999994444"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"DateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1958-07-06"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Definido pelo cliente junto ao provedor"</span><span class="w">
            </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Definido pelo cliente junto ao provedor"</span><span class="w">
            </span><span class="p">}],</span><span class="w">
            </span><span class="s2">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Destinatario Teste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destinatario_teste@live.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995950277"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"CustomConfiguration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"MerchantWebsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Travel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GIG-CGH-EZE"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DepartureTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-10T15:10:15"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"JourneyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OneWayTrip"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="s2">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GIG"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CGH"</span><span class="w">
                </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CGH"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EZE"</span><span class="w">
                </span><span class="p">}]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"201411170314344356"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"46286005030"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador_teste@live.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1986-08-01"</span>,
        <span class="s2">"WorkPhone"</span>: <span class="s2">"552121544788"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"5521995760078"</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"552125553669"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"500"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 205"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Tijuca"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"21002320"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Av Marechal Camara"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20020080"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"Comment"</span>: <span class="s2">"Ao lado do banco Santander"</span>
        <span class="o">}</span>,
        <span class="s2">"Status"</span>: <span class="s2">"New"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"****6310"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"***"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"visa"</span>
        <span class="o">}</span>,
        <span class="s2">"FraudAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Sequence"</span>: <span class="s2">"AnalyseFirst"</span>,
            <span class="s2">"SequenceCriteria"</span>: <span class="s2">"Always"</span>,
            <span class="s2">"Provider"</span>: <span class="s2">"RedShield"</span>,
            <span class="s2">"CaptureOnLowRisk"</span>: <span class="nb">true</span>,
            <span class="s2">"VoidOnHighRisk"</span>: <span class="nb">true</span>,
            <span class="s2">"TotalOrderAmount"</span>: 16700,
            <span class="s2">"OrderDate"</span>: <span class="s2">"2016-12-09T19:16:38"</span>,
            <span class="s2">"IsRetryTransaction"</span>: <span class="nb">false</span>,
            <span class="s2">"SplitingPaymentMethod"</span>: <span class="s2">"None"</span>,
            <span class="s2">"FingerPrintId"</span>: <span class="s2">"04003hQUMXGB0poNf94lis1ztuLYRFk+zJ17aP79a9O8mWOBmEnKs6ziAo94ggAtBvKEN6/FI8Vv2QMAyHLnc295s0Nn8akZzRJtHwsEilYx1P+NzuNQnyK6+7x2OpjJZkl4NlfPt7h9d96X/miNlYT65UIY2PeH7sUAh9vKxMn1nlPu2MJCSi12NBBoiZbfxP1Whlz5wlRFwWJi0FRulruXQQGCQaJkXU7GWWZGI8Ypycnf7F299GIR12G/cdkIMFbm6Yf0/pTJUUz1vNp0X2Zw8QydKgnOIDKXq4HnEqNOos1c6njJgQh/4vXJiqy0MXMQOThNipDmXv9I185O+yC2f3lLEO0Tay66NZEyiLNePemJKSIdwO9O5ZtntuUkG6NTqARuHStXXfwp8cyGF4MPWLuvNvEfRkJupBy3Z8hSEMEK7ZWd2T2HOihQxRh4qp+NANqYKBTl3v6fQJAEKikeSQVeBN8sQqAL0BZFaIMzbrnMivi6m6JRQUIdvEt+MbJEPFc0LjRycC5ApUmJO+Aoo9VKL1B8ftMSQ1iq1uTKn16ZOmDpzZrZhMPbH83aV0rfB2GDXcjpghm9klVFOw7EoYzV7IDBIIRtgqG9KZ+8NH/z6D+YNUMLEUuK1N2ddqKbS5cKs2hplVRjwSv7x8lMXWE7VDaOZWB8+sD1cMLQtEUC0znzxZ4bpRaiSy4dJLxuJpQYAFUrDlfSKRv/eHV3QiboXLuw9Lm6xVBK8ZvpD5d5olGQdc+NgsqjFnAHZUE+OENgY4kVU9wB84+POrI4MkoD4iHJ5a1QF8AZkZDFo1m1h9Bl+J2Ohr6MkBZq8DG5iVaunHfxUdHou5GL7lS1H7r+8ctfDXi8AfOPjzqyODJQ74Aiel35TKTOWG8pq1WO6yzJ1GNmMuMWZBamlGXoG/imnjwHY9HQtQzpGfcm0cR8X2Fd1ngNFGLDGZlWOX0jWtOwU6XVGT37JFD9W/cx4kzI+mPNi65X5WFPYlDG9N0Lbh5nOj3u3DXqRCiKCUrsEkMt8z9fxO9pLLGVQUKIYR2wTw53CiWK96FOpPevDWtH2XR0QkfOd02D73n81x6hEMCy0s3hRLn08Th9FlNHDMJBqLj+Tz8rG2TtNki3mJC7Ass1MT2qnKBI77n6vsQkAp59TfbZm/tBXwAoYdLJXge8F/numhd5AvQ+6I8ZHGJfdN3qWndvJ2I7s5Aeuzb8t9//eNsm73fIa05XreFsNyfOq1vG2COftC6EEsoJWe5h5Nwu1x6PIKuCaWxLY+npfWgM0dwJPmSgPx7TNM31LyVNS65m83pQ+qMTRH6GRVfg7HAcS5fnS/cjdbgHxEkRmgkRq1Qs48sbX9QC8nOTD0ntb6FcJyEOEOVzmJtDqimkzDq+SXR1/63AYe4LEj+ogRgN+Z8HAFhGFzd/m6snVviELfRqJ4LLQIk9Y/fzqnsF6I5OGxfdT2sxxK2Vokpi3jWhCcEknw7dYlHYpOnCHZO7QVgjQTngF2mzKf4GeOF4ECFsWTgLy6HFEitfauYJt1Xh1NfZZerBMwXLFzdhzoTQxGlcXc8lZIoEG1BLYv/ScICf8Ft9PEtpEa+j0cDSlU99UoH2xknwR1W9MRGc5I/euE63/IMJTqguZ3YcnJpjSVnAGSpyz/0gKjypJ3L86rHFRGXt0QbmaXtSl2UmmjI0p0LCCdx7McatCFEVI6FwPpPV0ZSMv/jM75eBid1X/lTV4XNzjowzR/iFlKYMzHZtVO9hCBPKlTwblRXNn4MlvNm/XeSRQ+Mr0YV5w5CL5Z/tGyzqnaLPj/kOVdyfj8r2m5Bcrz4g/ieUIo8qRFv2T2mET46ydqaxi27G4ZYHj7hbiaIqTOxWaE07qMCkJw=="</span>,
            <span class="s2">"Browser"</span>: <span class="o">{</span>
                <span class="s2">"IpAddress"</span>: <span class="s2">"187.32.163.105"</span>
            <span class="o">}</span>,
            <span class="s2">"Cart"</span>: <span class="o">{</span>
                <span class="s2">"Items"</span>: <span class="o">[{</span>
                    <span class="s2">"Name"</span>: <span class="s2">"Nome do produto"</span>,
                    <span class="s2">"Sku"</span>: <span class="s2">"201411170235"</span>,
                    <span class="s2">"UnitPrice"</span>: 10950,
                    <span class="s2">"OriginalPrice"</span>: 11490,
                    <span class="s2">"Quantity"</span>: 1,
                    <span class="s2">"MerchantItemId"</span>: <span class="s2">"45584"</span>,
                    <span class="s2">"GiftMessage"</span>: <span class="s2">"Mensagem para presente"</span>,
                    <span class="s2">"Description"</span>: <span class="s2">"Descricao do produto"</span>,
                    <span class="s2">"ShippingInstructions"</span>: <span class="s2">"Proximo ao 546"</span>,
                    <span class="s2">"ShippingMethod"</span>: <span class="s2">"SameDay"</span>,
                    <span class="s2">"ShippingTrackingNumber"</span>: <span class="s2">"123456"</span>,
                    <span class="s2">"Passenger"</span>: <span class="o">{</span>
                        <span class="s2">"Name"</span>: <span class="s2">"Passageiro Teste1"</span>,
                        <span class="s2">"Identity"</span>: <span class="s2">"1234567891"</span>,
                        <span class="s2">"Status"</span>: <span class="s2">"Platinum"</span>,
                        <span class="s2">"Rating"</span>: <span class="s2">"Student"</span>,
                        <span class="s2">"Email"</span>: <span class="s2">"passageiro_teste1@live.com"</span>,
                        <span class="s2">"Phone"</span>: <span class="s2">"55999993333"</span>,
                        <span class="s2">"DateOfBirth"</span>: <span class="s2">"1988-01-06"</span>
                    <span class="o">}</span>
                <span class="o">}</span>, <span class="o">{</span>
                    <span class="s2">"Name"</span>: <span class="s2">"Nome do produto"</span>,
                    <span class="s2">"Sku"</span>: <span class="s2">"20141117023"</span>,
                    <span class="s2">"UnitPrice"</span>: 10950,
                    <span class="s2">"OriginalPrice"</span>: 11490,
                    <span class="s2">"Quantity"</span>: 2,
                    <span class="s2">"MerchantItemId"</span>: <span class="s2">"45585"</span>,
                    <span class="s2">"GiftMessage"</span>: <span class="s2">"Mensagem para presente"</span>,
                    <span class="s2">"Description"</span>: <span class="s2">"Descricao do produto"</span>,
                    <span class="s2">"ShippingInstructions"</span>: <span class="s2">"Proximo ao 160"</span>,
                    <span class="s2">"ShippingMethod"</span>: <span class="s2">"NextDay"</span>,
                    <span class="s2">"ShippingTrackingNumber"</span>: <span class="s2">"654321"</span>,
                    <span class="s2">"Passenger"</span>: <span class="o">{</span>
                        <span class="s2">"Name"</span>: <span class="s2">"Passageiro Teste2"</span>,
                        <span class="s2">"Identity"</span>: <span class="s2">"1234567892"</span>,
                        <span class="s2">"Status"</span>: <span class="s2">"Gold"</span>,
                        <span class="s2">"Rating"</span>: <span class="s2">"Adult"</span>,
                        <span class="s2">"Email"</span>: <span class="s2">"passageiro_teste2@live.com"</span>,
                        <span class="s2">"Phone"</span>: <span class="s2">"5521999994444"</span>,
                        <span class="s2">"DateOfBirth"</span>: <span class="s2">"1958-07-06"</span>
                    <span class="o">}</span>
                <span class="o">}]</span>
            <span class="o">}</span>,
            <span class="s2">"MerchantDefinedFields"</span>: <span class="o">[{</span>
                <span class="s2">"Id"</span>: <span class="s2">"95"</span>,
                <span class="s2">"Value"</span>: <span class="s2">"Definido pelo cliente junto ao provedor"</span>
            <span class="o">}</span>, <span class="o">{</span>
                <span class="s2">"Id"</span>: <span class="s2">"96"</span>,
                <span class="s2">"Value"</span>: <span class="s2">"Definido pelo cliente junto ao provedor"</span>
            <span class="o">}]</span>,
            <span class="s2">"Shipping"</span>: <span class="o">{</span>
                <span class="s2">"Addressee"</span>: <span class="s2">"Destinatario Teste"</span>,
                <span class="s2">"Email"</span>: <span class="s2">"destinatario_teste@live.com"</span>,
                <span class="s2">"Method"</span>: <span class="s2">"LowCost"</span>,
                <span class="s2">"Phone"</span>: <span class="s2">"5521995950277"</span>
            <span class="o">}</span>,
            <span class="s2">"CustomConfiguration"</span>: <span class="o">{</span>
                <span class="s2">"MerchantWebsite"</span>: <span class="s2">"http://www.test.com"</span>
            <span class="o">}</span>,
            <span class="s2">"Travel"</span>: <span class="o">{</span>
                <span class="s2">"Route"</span>: <span class="s2">"GIG-CGH-EZE"</span>,
                <span class="s2">"DepartureTime"</span>: <span class="s2">"2016-12-10T15:10:15"</span>,
                <span class="s2">"JourneyType"</span>: <span class="s2">"OneWayTrip"</span>,
                <span class="s2">"Legs"</span>: <span class="o">[{</span>
                    <span class="s2">"Origin"</span>: <span class="s2">"GIG"</span>,
                    <span class="s2">"Destination"</span>: <span class="s2">"CGH"</span>
                <span class="o">}</span>, <span class="o">{</span>
                    <span class="s2">"Origin"</span>: <span class="s2">"CGH"</span>,
                    <span class="s2">"Destination"</span>: <span class="s2">"EZE"</span>
                <span class="o">}]</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>61</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número</td>
      <td>14</td>
      <td>Sim</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Sim</td>
      <td>Email do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.WorkPhone</code></td>
      <td>Número</td>
      <td>19</td>
      <td>Não</td>
      <td>Número do telefone de trabalho do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Mobile</code></td>
      <td>Número</td>
      <td>19</td>
      <td>Não</td>
      <td>Número do celular do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Phone</code></td>
      <td>Número</td>
      <td>19</td>
      <td>Não</td>
      <td>Número do telefone do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>24</td>
      <td>Sim</td>
      <td>Endereço de contato do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Sim</td>
      <td>Número endereço de contato do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Complemento do endereço de contato do Comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Bairro do Comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>CEP do endereço de contato do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Sim</td>
      <td>Cidade do endereço de contato do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Estado do endereço de contato do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Pais do endereço de contato do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>24</td>
      <td>Sim</td>
      <td>Endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Sim</td>
      <td>Número do endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Bairro do Comprador.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>CEP do endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Sim</td>
      <td>Cidade do endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Estado do endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Pais do endereço de entrega do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Comment</code></td>
      <td>Texto</td>
      <td>160</td>
      <td>Não</td>
      <td>Referências do endereço de entrega</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>8</td>
      <td>Não</td>
      <td>Status do comprador na loja. New -&gt; Identifica quando o comprador é novo na loja, nunca fez uma compra. Existing -&gt; identifica quando o comprador já é existente na loja, já realizou uma compra.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant - opção default) ou Emissor (ByIssuer)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Tipo de Fluxo para realização da análise de fraude. Primeiro Analise (AnalyseFirst) ou Primeiro Autorização (AuthorizeFirst)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>Critério do fluxo.<br />OnSuccess - Só realiza a analise se tiver sucesso na transaçãoAlways - Sempre realiza a analise</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome do provedor de Antofraude (Ex.: RedShield, Cybersource, etc)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.CaptureOnLowRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Booleano que identifica se a autorização deve ser com captura automática quando o risco de fraude for considerado baixo (Accept). Em casos de Reject ou Review, o fluxo permanece o mesmo, ou seja, a captura acontecerá conforme o valor especificado no parâmetro “Capture”. Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente “AuthorizeFirst”. Por depender do resutlado de análise de risco, este parâmetro só terá efeito quando o serviço de Antifraude for contratado.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.VoidOnHighRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que identifica se o estorno deve acontecer automaticamente quando o risco de fraude for considerado alto (Reject). Em casos de Accept ou Review, o fluxo permanece o mesmo, ou seja, o estorno deve ser feito manualmente. Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente “AuthorizeFirst”. Por depender do resutlado de análise de risco, este parâmetro só terá efeito quando o serviço de Antifraude for contratado.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.TotalOrderAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor total do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.OrderDate</code></td>
      <td>Datetime</td>
      <td>—</td>
      <td>Sim</td>
      <td>Data do pedido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.IsRetryTransaction</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Identifica que é uma retentativa de uma análise. Este campo deve ser enviado com valor igual a TRUE quando o código de retorno na primeira tentativa for igual a BP900, que identifica timeout entre Braspag e o Provedor. Este campo deve ser enviado somente quando Provedor igual a ReDShield.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.SplitingPaymentMethod</code></td>
      <td>Texto</td>
      <td>23</td>
      <td>Não</td>
      <td>Identifica se a autorização da transação é com um ou dois cartões ou com mais de um meio de pagamento, por exemplo, cartão de crédito e boleto bancário. Enum: None -&gt; Pagamento com um cartão apenas. (default) CardSplit -&gt; Pagamento com mais de um cartão. MixedPaymentMethodSplit -&gt; Pagamento com mais de um meio de pagamento.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.FingerPrintId</code></td>
      <td>Texto</td>
      <td>6005</td>
      <td>Sim</td>
      <td>Impressão digital de dispositivos e geolocalização real do IP do comprador.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.IpAddress</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Endereço IP do comprador. É altamente recomendável o envio deste campo</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Nome do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Sku</code></td>
      <td>Texto</td>
      <td>12</td>
      <td>Sim</td>
      <td>Código comerciante identificador do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].UnitPrice</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Preço unitário do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].OriginalPrice</code></td>
      <td>Número</td>
      <td>50</td>
      <td>Sim</td>
      <td>Nome do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Quantity</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Quantidade de produtos</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].MerchantItemId</code></td>
      <td>Texto</td>
      <td>30</td>
      <td>Não</td>
      <td>Id do produto na loja</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].GiftMessage</code></td>
      <td>Texto</td>
      <td>160</td>
      <td>Não</td>
      <td>Mensagem de presente</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Description</code></td>
      <td>Texto</td>
      <td>76</td>
      <td>Não</td>
      <td>Descrição do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].ShippingInstructions</code></td>
      <td>Texto</td>
      <td>160</td>
      <td>Não</td>
      <td>Instruções de entrega do produto.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].ShippingMethod</code></td>
      <td>Texto</td>
      <td>27</td>
      <td>Não</td>
      <td>Meio de entrega do produto. Ex.: SameDay = Meio de entrega no mesmo dia, NextDay = Meio de entrega no próximo dia, TwoDay = Meio de entrega em dois dias, ThreeDay = Meio de entrega em três dias, LowCost = Meio de entrega de baixo custo, Pickup = Retirada na loja, CarrierDesignatedByCustomer = Meio de entrega designada pelo comprador, International = Meio de entrega internacional, Military = Meio de entrega militar, Other = Outro meio de entrega, None = Sem meio de entrega, pois é um serviço ou assinatura.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].ShippingTrackingNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Não</td>
      <td>Número de rastreamento da transportadora</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.Name</code></td>
      <td>Texto</td>
      <td>61</td>
      <td>Sim</td>
      <td>Nome do passageiro</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.Identity</code></td>
      <td>Número</td>
      <td>14</td>
      <td>Sim</td>
      <td>Documento do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.IdentityType</code></td>
      <td>Número</td>
      <td>14</td>
      <td>Sim</td>
      <td>Documento do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.Status</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Classificação da empresa aérea. Ex.: Gold, Platinum</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.Rating</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Classificação do passageiro</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.Email</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Sim</td>
      <td>Email do comprador</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.Phone</code></td>
      <td>Numero</td>
      <td>14</td>
      <td>Não</td>
      <td>Número de telefone do passageiro</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cart.Items[n].Passenger.DateOfBirth</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do passageiro</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.MerchantDefinedFields.Id</code></td>
      <td>Texto</td>
      <td>—</td>
      <td>Sim (se aplicável)</td>
      <td>Id das informações adicionais a serem enviadas</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.MerchantDefinedFields.Value</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim (se aplicável)</td>
      <td>Valor das informações adicionais a serem enviadas</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.GiftCategory</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>Campo que avaliará os endereços de cobrança e entrega para difrentes cidades, estados ou países<br />Yes (Em caso de divergência entre endereços de cobrança e entrega, marca como risco pequeno)No (Em caso de divergência entre endereços de cobrança e entrega, marca com risco alto)Off (Ignora a análise de risco para endereços divergentes)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.HostHedge</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Nível de importância do e-mail e endereços IP dos clientes em risco de pontuação. <br />Low (Baixa importância do e-mail e endereço IP na análise de risco)Normal (Média importância do e-mail e endereço IP na análise de risco)High (Alta importância do e-mail e endereço IP na análise de risco)Off (E-mail e endereço IP não afetam a análise de risco)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.NonSensicalHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível dos testes realizados sobre os dados do comprador com pedidos recebidos sem sentido. <br />Low (Baixa importância da verificação feita sobre o pedido do comprador, na análise de risco)Normal (Média importância da verificação feita sobre o pedido do comprador, na análise de risco)High (Alta importância da verificação feita sobre o pedido do comprador, na análise de risco)Off (Verificação do pedido do comprador não afeta a análise de risco)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.ObscenitiesHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de obscenidade dos pedidos recebedidos. <br />Low (Baixa importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)Normal (Média importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)High (Alta importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)Off (Verificação de obscenidade no pedido do comprador não afeta a análise de risco)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.PhoneHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível dos testes realizados com os números de telefones. <br />Low (Baixa importância nos testes realizados com números de telefone)Normal (Média importância nos testes realizados com números de telefone)High (Alta importância nos testes realizados com números de telefone)Off (Testes de números de telefone não afetam a análise de risco)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do Produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Quantity</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Quantidade do produto a ser adquirido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Sku</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código comerciante identificador do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.UnitPrice</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Preço unitário do produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Risk</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível do risco do produto. <br />Low (O produto tem um histórico de poucos chargebacks)Normal (O produto tem um histórico de chargebacks considerado normal)High (O produto tem um histórico de chargebacks acima da média)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.TimeHedge</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Nível de importância da hora do dia do pedido do cliente. <br />Low (Baixa importância no horário do dia em que foi feita a compra, para a análise de risco)Normal (Média importância no horário do dia em que foi feita a compra, para a análise de risco)High (Alta importância no horário do dia em que foi feita a compra, para a análise de risco)Off (O horário da compra não afeta a análise de risco)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Type</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Tipo do produto. <br />AdultContent(Conteúdo adulto)Coupon(Cupon de desconto)Default(Opção padrão para análise na CyberSource quando nenhum outro valor é selecionado)EletronicGood(Produto eletrônico)EletronicSoftware(Softwares distribuídos eletronicamente via download)GiftCertificate(Vale presente)HandlingOnly(Taxa de instalação ou manuseio)Service(Serviço)ShippingAndHandling(Frete e taxa de instalação ou manuseio)ShippingOnly(Frete)Subscription(Assinatura)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.VelocityHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância de frequência de compra do cliente. <br />Low (Baixa importância no número de compras realizadas pelo cliente nos últimos 15 minutos)Normal (Média importância no número de compras realizadas pelo cliente nos últimos 15 minutos)High (Alta importância no número de compras realizadas pelo cliente nos últimos 15 minutos)Off (A frequência de compras realizadas pelo cliente não afeta a análise de fraude)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Passageiro</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Identity</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Id do passageiro a quem o bilheite foi emitido</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Name</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Não</td>
      <td>Nome do passageiro</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Rating</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Classificação do Passageiro. <br />Adult (Passageiro adulto)Child(Passageiro criança)Infant(Passageiro infantil)Youth(Passageiro adolescente)Student(Passageiro estudante)SeniorCitizen(Passageiro idoso)Military(Passageiro militar)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do telefone do passageiro. Para pedidos fora do U.S., a CyberSource recomenda que inclua o código do país. 552133665599 (Ex. Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Items.Passenger.Status</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Classificação da empresa aérea. Pode-se usar valores como Gold ou Platina</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Addressee</code></td>
      <td>Texto</td>
      <td>61</td>
      <td>Não</td>
      <td>Nome do destinatário da entrega</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Email</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Não</td>
      <td>E-mail do responsável por receber o produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Method</code></td>
      <td>Texto</td>
      <td> </td>
      <td>Não</td>
      <td>Tipo de serviço de entrega do produto. <br />SameDay(Serviço de entrega no mesmo dia)OneDay(Serviço de entrega noturna ou no dia seguint)TwoDay(Serviço de entrega em dois dias)ThreeDay(Serviço de entrega em três dias)LowCost(Serviço de entrega de baixo custo)Pickup(Produto retirado na loja)Other(Outro método de entrega)None(Sem serviço de entrega, pois é um serviço ou assinatura)</td>
      <td> </td>
      <td> </td>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Telefone do destinatário da entrega. Ex. 552133665599 (Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Phone</code></td>
      <td>Número</td>
      <td>19</td>
      <td>Não</td>
      <td>Telefone do responsável por receber o produto</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.CustomConfiguration.MerchantWebsite</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Não</td>
      <td>Website da loja</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Route</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Rota da viagem. Concatenação de pernas de viagem individuais no formato ORIG1-DEST1</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.DepartureTime</code></td>
      <td>DateTime</td>
      <td>23</td>
      <td>Não</td>
      <td>Data, hora e minuto de partida do vôo. AAAA-MM-DD HH:mm:SS</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.JourneyType</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Tipo de viagem. Ex. Só Ida, Só Volta, Ida e Volta</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Legs.Origin</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Código do aeroporto do ponto de origem da viagem.</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Legs.Destination</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Código do aeroporto do ponto de destino da viagem</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-14">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170314344356"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46286005030"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador_teste@live.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552125553669"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1986-08-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 205"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21002320"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tijuca"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ao lado do banco Santander"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"WorkPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552121544788"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"471622******6310"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2110886"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0619022110886"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"595071"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04003hQUMXGB0poNf94lis1ztuLYRFk+zJ17aP79a9O8mWOBmEnKs6ziAo94ggAtBvKEN6/FI8Vv2QMAyHLnc295s0Nn8akZzRJtHwsEilYx1P+NzuNQnyK6+7x2OpjJZkl4NlfPt7h9d96X/miNlYT65UIY2PeH7sUAh9vKxMn1nlPu2MJCSi12NBBoiZbfxP1Whlz5wlRFwWJi0FRulruXQQGCQaJkXU7GWWZGI8Ypycnf7F299GIR12G/cdkIMFbm6Yf0/pTJUUz1vNp0X2Zw8QydKgnOIDKXq4HnEqNOos1c6njJgQh/4vXJiqy0MXMQOThNipDmXv9I185O+yC2f3lLEO0Tay66NZEyiLNePemJKSIdwO9O5ZtntuUkG6NTqARuHStXXfwp8cyGF4MPWLuvNvEfRkJupBy3Z8hSEMEK7ZWd2T2HOihQxRh4qp+NANqYKBTl3v6fQJAEKikeSQVeBN8sQqAL0BZFaIMzbrnMivi6m6JRQUIdvEt+MbJEPFc0LjRycC5ApUmJO+Aoo9VKL1B8ftMSQ1iq1uTKn16ZOmDpzZrZhMPbH83aV0rfB2GDXcjpghm9klVFOw7EoYzV7IDBIIRtgqG9KZ+8NH/z6D+YNUMLEUuK1N2ddqKbS5cKs2hplVRjwSv7x8lMXWE7VDaOZWB8+sD1cMLQtEUC0znzxZ4bpRaiSy4dJLxuJpQYAFUrDlfSKRv/eHV3QiboXLuw9Lm6xVBK8ZvpD5d5olGQdc+NgsqjFnAHZUE+OENgY4kVU9wB84+POrI4MkoD4iHJ5a1QF8AZkZDFo1m1h9Bl+J2Ohr6MkBZq8DG5iVaunHfxUdHou5GL7lS1H7r+8ctfDXi8AfOPjzqyODJQ74Aiel35TKTOWG8pq1WO6yzJ1GNmMuMWZBamlGXoG/imnjwHY9HQtQzpGfcm0cR8X2Fd1ngNFGLDGZlWOX0jWtOwU6XVGT37JFD9W/cx4kzI+mPNi65X5WFPYlDG9N0Lbh5nOj3u3DXqRCiKCUrsEkMt8z9fxO9pLLGVQUKIYR2wTw53CiWK96FOpPevDWtH2XR0QkfOd02D73n81x6hEMCy0s3hRLn08Th9FlNHDMJBqLj+Tz8rG2TtNki3mJC7Ass1MT2qnKBI77n6vsQkAp59TfbZm/tBXwAoYdLJXge8F/numhd5AvQ+6I8ZHGJfdN3qWndvJ2I7s5Aeuzb8t9//eNsm73fIa05XreFsNyfOq1vG2COftC6EEsoJWe5h5Nwu1x6PIKuCaWxLY+npfWgM0dwJPmSgPx7TNM31LyVNS65m83pQ+qMTRH6GRVfg7HAcS5fnS/cjdbgHxEkRmgkRq1Qs48sbX9QC8nOTD0ntb6FcJyEOEOVzmJtDqimkzDq+SXR1/63AYe4LEj+ogRgN+Z8HAFhGFzd/m6snVviELfRqJ4LLQIk9Y/fzqnsF6I5OGxfdT2sxxK2Vokpi3jWhCcEknw7dYlHYpOnCHZO7QVgjQTngF2mzKf4GeOF4ECFsWTgLy6HFEitfauYJt1Xh1NfZZerBMwXLFzdhzoTQxGlcXc8lZIoEG1BLYv/ScICf8Ft9PEtpEa+j0cDSlU99UoH2xknwR1W9MRGc5I/euE63/IMJTqguZ3YcnJpjSVnAGSpyz/0gKjypJ3L86rHFRGXt0QbmaXtSl2UmmjI0p0LCCdx7McatCFEVI6FwPpPV0ZSMv/jM75eBid1X/lTV4XNzjowzR/iFlKYMzHZtVO9hCBPKlTwblRXNn4MlvNm/XeSRQ+Mr0YV5w5CL5Z/tGyzqnaLPj/kOVdyfj8r2m5Bcrz4g/ieUIo8qRFv2T2mET46ydqaxi27G4ZYHj7hbiaIqTOxWaE07qMCkJw=="</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RedShield"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CaptureOnLowRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"VoidOnHighRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TotalOrderAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">16700</span><span class="p">,</span><span class="w">
            </span><span class="s2">"IsRetryTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SplitingPaymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CustomConfiguration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"RiskAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"MerchantWebsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Definido pelo cliente junto ao provedor"</span><span class="w">
            </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Definido pelo cliente junto ao provedor"</span><span class="w">
            </span><span class="p">}],</span><span class="w">
            </span><span class="s2">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170235"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">10950</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passageiro Teste1"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567891"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Platinum"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Student"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passageiro_teste1@live.com"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55999993333"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"DateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1988-01-06"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">11490</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descricao do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"GiftMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem para presente"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingInstructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proximo ao 546"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SameDay"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingTrackingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"CartType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"MerchantItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45584"</span><span class="w">
                </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20141117023"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">10950</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passageiro Teste2"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567892"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passageiro_teste2@live.com"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521999994444"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"DateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1958-07-06"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">11490</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descricao do produto"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"GiftMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem para presente"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingInstructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proximo ao 160"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NextDay"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ShippingTrackingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"654321"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"CartType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"MerchantItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45585"</span><span class="w">
                </span><span class="p">}]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Travel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GIG-CGH-EZE"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DepartureTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-10T15:10:15"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"JourneyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OneWayTrip"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CGH"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GIG"</span><span class="w">
                </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EZE"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CGH"</span><span class="w">
                </span><span class="p">}]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"187.32.163.105"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Destinatario Teste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995950277"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destinatario_teste@live.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a97eb2ae-1355-e711-93ff-000d3ac03bed"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.300.404"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid or missing parameter"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"949e33e4-d410-4212-b111-d9c8fdc0580d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-19 14:21:07"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerydev.braspag.com.br/v2/sales/949e33e4-d410-4212-b111-d9c8fdc0580d"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apidev.braspag.com.br/v2/sales/949e33e4-d410-4212-b111-d9c8fdc0580d/capture"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apidev.braspag.com.br/v2/sales/949e33e4-d410-4212-b111-d9c8fdc0580d/void"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"201411170314344356"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"46286005030"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador_teste@live.com"</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"552125553669"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1986-08-01"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"500"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 205"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"21002320"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Tijuca"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Av Marechal Camara"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20020080"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"Comment"</span>: <span class="s2">"Ao lado do banco Santander"</span>
        <span class="o">}</span>,
        <span class="s2">"Status"</span>: <span class="s2">"New"</span>,
        <span class="s2">"WorkPhone"</span>: <span class="s2">"552121544788"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"5521995760078"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"471622******6310"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"2110886"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0619022110886"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"595071"</span>,
        <span class="s2">"FraudAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Sequence"</span>: <span class="s2">"AnalyseFirst"</span>,
            <span class="s2">"SequenceCriteria"</span>: <span class="s2">"Always"</span>,
            <span class="s2">"FingerPrintId"</span>: <span class="s2">"04003hQUMXGB0poNf94lis1ztuLYRFk+zJ17aP79a9O8mWOBmEnKs6ziAo94ggAtBvKEN6/FI8Vv2QMAyHLnc295s0Nn8akZzRJtHwsEilYx1P+NzuNQnyK6+7x2OpjJZkl4NlfPt7h9d96X/miNlYT65UIY2PeH7sUAh9vKxMn1nlPu2MJCSi12NBBoiZbfxP1Whlz5wlRFwWJi0FRulruXQQGCQaJkXU7GWWZGI8Ypycnf7F299GIR12G/cdkIMFbm6Yf0/pTJUUz1vNp0X2Zw8QydKgnOIDKXq4HnEqNOos1c6njJgQh/4vXJiqy0MXMQOThNipDmXv9I185O+yC2f3lLEO0Tay66NZEyiLNePemJKSIdwO9O5ZtntuUkG6NTqARuHStXXfwp8cyGF4MPWLuvNvEfRkJupBy3Z8hSEMEK7ZWd2T2HOihQxRh4qp+NANqYKBTl3v6fQJAEKikeSQVeBN8sQqAL0BZFaIMzbrnMivi6m6JRQUIdvEt+MbJEPFc0LjRycC5ApUmJO+Aoo9VKL1B8ftMSQ1iq1uTKn16ZOmDpzZrZhMPbH83aV0rfB2GDXcjpghm9klVFOw7EoYzV7IDBIIRtgqG9KZ+8NH/z6D+YNUMLEUuK1N2ddqKbS5cKs2hplVRjwSv7x8lMXWE7VDaOZWB8+sD1cMLQtEUC0znzxZ4bpRaiSy4dJLxuJpQYAFUrDlfSKRv/eHV3QiboXLuw9Lm6xVBK8ZvpD5d5olGQdc+NgsqjFnAHZUE+OENgY4kVU9wB84+POrI4MkoD4iHJ5a1QF8AZkZDFo1m1h9Bl+J2Ohr6MkBZq8DG5iVaunHfxUdHou5GL7lS1H7r+8ctfDXi8AfOPjzqyODJQ74Aiel35TKTOWG8pq1WO6yzJ1GNmMuMWZBamlGXoG/imnjwHY9HQtQzpGfcm0cR8X2Fd1ngNFGLDGZlWOX0jWtOwU6XVGT37JFD9W/cx4kzI+mPNi65X5WFPYlDG9N0Lbh5nOj3u3DXqRCiKCUrsEkMt8z9fxO9pLLGVQUKIYR2wTw53CiWK96FOpPevDWtH2XR0QkfOd02D73n81x6hEMCy0s3hRLn08Th9FlNHDMJBqLj+Tz8rG2TtNki3mJC7Ass1MT2qnKBI77n6vsQkAp59TfbZm/tBXwAoYdLJXge8F/numhd5AvQ+6I8ZHGJfdN3qWndvJ2I7s5Aeuzb8t9//eNsm73fIa05XreFsNyfOq1vG2COftC6EEsoJWe5h5Nwu1x6PIKuCaWxLY+npfWgM0dwJPmSgPx7TNM31LyVNS65m83pQ+qMTRH6GRVfg7HAcS5fnS/cjdbgHxEkRmgkRq1Qs48sbX9QC8nOTD0ntb6FcJyEOEOVzmJtDqimkzDq+SXR1/63AYe4LEj+ogRgN+Z8HAFhGFzd/m6snVviELfRqJ4LLQIk9Y/fzqnsF6I5OGxfdT2sxxK2Vokpi3jWhCcEknw7dYlHYpOnCHZO7QVgjQTngF2mzKf4GeOF4ECFsWTgLy6HFEitfauYJt1Xh1NfZZerBMwXLFzdhzoTQxGlcXc8lZIoEG1BLYv/ScICf8Ft9PEtpEa+j0cDSlU99UoH2xknwR1W9MRGc5I/euE63/IMJTqguZ3YcnJpjSVnAGSpyz/0gKjypJ3L86rHFRGXt0QbmaXtSl2UmmjI0p0LCCdx7McatCFEVI6FwPpPV0ZSMv/jM75eBid1X/lTV4XNzjowzR/iFlKYMzHZtVO9hCBPKlTwblRXNn4MlvNm/XeSRQ+Mr0YV5w5CL5Z/tGyzqnaLPj/kOVdyfj8r2m5Bcrz4g/ieUIo8qRFv2T2mET46ydqaxi27G4ZYHj7hbiaIqTOxWaE07qMCkJw=="</span>,
            <span class="s2">"Provider"</span>: <span class="s2">"RedShield"</span>,
            <span class="s2">"CaptureOnLowRisk"</span>: <span class="nb">true</span>,
            <span class="s2">"VoidOnHighRisk"</span>: <span class="nb">true</span>,
            <span class="s2">"TotalOrderAmount"</span>: 16700,
            <span class="s2">"IsRetryTransaction"</span>: <span class="nb">false</span>,
            <span class="s2">"SplitingPaymentMethod"</span>: <span class="s2">"None"</span>,
            <span class="s2">"CustomConfiguration"</span>: <span class="o">{</span>
                <span class="s2">"RiskAmount"</span>: 0,
                <span class="s2">"MerchantWebsite"</span>: <span class="s2">"http://www.test.com"</span>
            <span class="o">}</span>,
            <span class="s2">"MerchantDefinedFields"</span>: <span class="o">[{</span>
                <span class="s2">"Id"</span>: <span class="s2">"95"</span>,
                <span class="s2">"Value"</span>: <span class="s2">"Definido pelo cliente junto ao provedor"</span>
            <span class="o">}</span>, <span class="o">{</span>
                <span class="s2">"Id"</span>: <span class="s2">"96"</span>,
                <span class="s2">"Value"</span>: <span class="s2">"Definido pelo cliente junto ao provedor"</span>
            <span class="o">}]</span>,
            <span class="s2">"Cart"</span>: <span class="o">{</span>
                <span class="s2">"IsGift"</span>: <span class="nb">false</span>,
                <span class="s2">"ReturnsAccepted"</span>: <span class="nb">false</span>,
                <span class="s2">"Items"</span>: <span class="o">[{</span>
                    <span class="s2">"Type"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"Name"</span>: <span class="s2">"Nome do produto"</span>,
                    <span class="s2">"Risk"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"Sku"</span>: <span class="s2">"201411170235"</span>,
                    <span class="s2">"UnitPrice"</span>: 10950,
                    <span class="s2">"Quantity"</span>: 1,
                    <span class="s2">"HostHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"NonSensicalHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"ObscenitiesHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"PhoneHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"TimeHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"VelocityHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"GiftCategory"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"Passenger"</span>: <span class="o">{</span>
                        <span class="s2">"Name"</span>: <span class="s2">"Passageiro Teste1"</span>,
                        <span class="s2">"Identity"</span>: <span class="s2">"1234567891"</span>,
                        <span class="s2">"Status"</span>: <span class="s2">"Platinum"</span>,
                        <span class="s2">"Rating"</span>: <span class="s2">"Student"</span>,
                        <span class="s2">"Email"</span>: <span class="s2">"passageiro_teste1@live.com"</span>,
                        <span class="s2">"Phone"</span>: <span class="s2">"55999993333"</span>,
                        <span class="s2">"DateOfBirth"</span>: <span class="s2">"1988-01-06"</span>
                    <span class="o">}</span>,
                    <span class="s2">"OriginalPrice"</span>: 11490,
                    <span class="s2">"Description"</span>: <span class="s2">"Descricao do produto"</span>,
                    <span class="s2">"Weight"</span>: 0,
                    <span class="s2">"GiftMessage"</span>: <span class="s2">"Mensagem para presente"</span>,
                    <span class="s2">"ShippingInstructions"</span>: <span class="s2">"Proximo ao 546"</span>,
                    <span class="s2">"ShippingMethod"</span>: <span class="s2">"SameDay"</span>,
                    <span class="s2">"ShippingTrackingNumber"</span>: <span class="s2">"123456"</span>,
                    <span class="s2">"CartType"</span>: 0,
                    <span class="s2">"MerchantItemId"</span>: <span class="s2">"45584"</span>
                <span class="o">}</span>, <span class="o">{</span>
                    <span class="s2">"Type"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"Name"</span>: <span class="s2">"Nome do produto"</span>,
                    <span class="s2">"Risk"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"Sku"</span>: <span class="s2">"20141117023"</span>,
                    <span class="s2">"UnitPrice"</span>: 10950,
                    <span class="s2">"Quantity"</span>: 2,
                    <span class="s2">"HostHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"NonSensicalHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"ObscenitiesHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"PhoneHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"TimeHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"VelocityHedge"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"GiftCategory"</span>: <span class="s2">"Undefined"</span>,
                    <span class="s2">"Passenger"</span>: <span class="o">{</span>
                        <span class="s2">"Name"</span>: <span class="s2">"Passageiro Teste2"</span>,
                        <span class="s2">"Identity"</span>: <span class="s2">"1234567892"</span>,
                        <span class="s2">"Status"</span>: <span class="s2">"Gold"</span>,
                        <span class="s2">"Rating"</span>: <span class="s2">"Adult"</span>,
                        <span class="s2">"Email"</span>: <span class="s2">"passageiro_teste2@live.com"</span>,
                        <span class="s2">"Phone"</span>: <span class="s2">"5521999994444"</span>,
                        <span class="s2">"DateOfBirth"</span>: <span class="s2">"1958-07-06"</span>
                    <span class="o">}</span>,
                    <span class="s2">"OriginalPrice"</span>: 11490,
                    <span class="s2">"Description"</span>: <span class="s2">"Descricao do produto"</span>,
                    <span class="s2">"Weight"</span>: 0,
                    <span class="s2">"GiftMessage"</span>: <span class="s2">"Mensagem para presente"</span>,
                    <span class="s2">"ShippingInstructions"</span>: <span class="s2">"Proximo ao 160"</span>,
                    <span class="s2">"ShippingMethod"</span>: <span class="s2">"NextDay"</span>,
                    <span class="s2">"ShippingTrackingNumber"</span>: <span class="s2">"654321"</span>,
                    <span class="s2">"CartType"</span>: 0,
                    <span class="s2">"MerchantItemId"</span>: <span class="s2">"45585"</span>
                <span class="o">}]</span>
            <span class="o">}</span>,
            <span class="s2">"Travel"</span>: <span class="o">{</span>
                <span class="s2">"Route"</span>: <span class="s2">"GIG-CGH-EZE"</span>,
                <span class="s2">"DepartureTime"</span>: <span class="s2">"2016-12-10T15:10:15"</span>,
                <span class="s2">"JourneyType"</span>: <span class="s2">"OneWayTrip"</span>,
                <span class="s2">"Legs"</span>: <span class="o">[{</span>
                    <span class="s2">"Destination"</span>: <span class="s2">"CGH"</span>,
                    <span class="s2">"Origin"</span>: <span class="s2">"GIG"</span>
                <span class="o">}</span>, <span class="o">{</span>
                    <span class="s2">"Destination"</span>: <span class="s2">"EZE"</span>,
                    <span class="s2">"Origin"</span>: <span class="s2">"CGH"</span>
                <span class="o">}]</span>
            <span class="o">}</span>,
            <span class="s2">"Browser"</span>: <span class="o">{</span>
                <span class="s2">"CookiesAccepted"</span>: <span class="nb">false</span>,
                <span class="s2">"IpAddress"</span>: <span class="s2">"187.32.163.105"</span>
            <span class="o">}</span>,
            <span class="s2">"Shipping"</span>: <span class="o">{</span>
                <span class="s2">"Addressee"</span>: <span class="s2">"Destinatario Teste"</span>,
                <span class="s2">"Phone"</span>: <span class="s2">"5521995950277"</span>,
                <span class="s2">"Method"</span>: <span class="s2">"LowCost"</span>,
                <span class="s2">"Email"</span>: <span class="s2">"destinatario_teste@live.com"</span>
            <span class="o">}</span>,
            <span class="s2">"Id"</span>: <span class="s2">"a97eb2ae-1355-e711-93ff-000d3ac03bed"</span>,
            <span class="s2">"Status"</span>: 0,
            <span class="s2">"StatusDescription"</span>: <span class="s2">"Unknown"</span>,
            <span class="s2">"ReplyData"</span>: <span class="o">{</span>
                <span class="s2">"FactorCode"</span>: <span class="s2">"200.300.404"</span>,
                <span class="s2">"ReturnMessage"</span>: <span class="s2">"invalid or missing parameter"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"949e33e4-d410-4212-b111-d9c8fdc0580d"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-06-19 14:21:07"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerydev.braspag.com.br/v2/sales/949e33e4-d410-4212-b111-d9c8fdc0580d"</span>
        <span class="o">}</span>, <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apidev.braspag.com.br/v2/sales/949e33e4-d410-4212-b111-d9c8fdc0580d/capture"</span>
        <span class="o">}</span>, <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apidev.braspag.com.br/v2/sales/949e33e4-d410-4212-b111-d9c8fdc0580d/void"</span>
        <span class="o">}]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura do portador</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>3</td>
      <td>Ex.: 500</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Id</code></td>
      <td>Indentificação da Transação no Antifraud</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.ReplyData.FactorCode</code></td>
      <td>Combinação de códigos que indicam o score do pedido. Os códigos são concatenados usando o caractere ^</td>
      <td>Texto</td>
      <td>100</td>
      <td>Ex: B^D^R^Z<br />A - Mudança de endereço excessiva. O cliente mudou o endereço de cobrança duas ou mais vezes nos últimos seis meses.B - BIN do cartão ou autorização de risco. Os fatores de risco estão relacionados com BIN de cartão de crédito e/ou verificações de autorização do cartão.C - Elevado números de cartões de créditos. O cliente tem usado mais de seis números de cartões de créditos nos últimos seis meses.D - Impacto do endereço de e-mail. O cliente usa um provedor de e-mail gratuito ou o endereço de email é arriscado.E - Lista positiva. O cliente está na sua lista positiva.F - Lista negativa. O número da conta, endereço, endereço de e-mail ou endereço IP para este fim aparece sua lista negativa.G - Inconsistências de geolocalização. O domínio do cliente de e-mail, número de telefone, endereço de cobrança, endereço de envio ou endereço IP é suspeito.H - Excessivas mudanças de nome. O cliente mudou o nome duas ou mais vezes nos últimos seis meses.I - Inconsistências de internet. O endereço IP e de domínio de e-mail não são consistentes com o endereço de cobrança.N - Entrada sem sentido. O nome do cliente e os campos de endereço contém palavras sem sentido ou idioma.O - Obscenidades. Dados do cliente contém palavras obscenas.P - Identidade morphing. Vários valores de um elemento de identidade estão ligados a um valor de um elemento de identidade diferentes. Por exemplo, vários números de telefone estão ligados a um número de conta única.Q - Inconsistências do telefone. O número de telefone do cliente é suspeito.R - Ordem arriscada. A transação, o cliente e o lojista mostram informações correlacionadas de alto risco.T - Cobertura Time. O cliente está a tentar uma compra fora do horário esperado.U - Endereço não verificável. O endereço de cobrança ou de entrega não pode ser verificado.V - Velocity. O número da conta foi usado muitas vezes nos últimos 15 minutos.W - Marcado como suspeito. O endereço de cobrança ou de entrega é semelhante a um endereço previamente marcado como suspeito.Y - O endereço, cidade, estado ou país dos endereços de cobrança e entrega não se correlacionam.Z - Valor inválido. Como a solicitação contém um valor inesperado, um valor padrão foi substituído. Embora a transação ainda possa ser processada, examinar o pedido com cuidado para detectar anomalias.</td>
    </tr>
  </tbody>
</table>

<h2 id="configuração-do-fingerprint">Configuração do Fingerprint</h2>

<p>Esta página descreve como funciona e como configurar o fingerprint em sua página de checkout e mobiles.</p>

<h3 id="redshield">ReDShield</h3>

<h4 id="integração-com-sua-página-de-checkoutsite">Integração com sua página de checkout(site)</h4>

<h5 id="como-funciona">Como funciona?</h5>

<p><img src="https://braspag.github.io//images/braspag/af/fingerprint.png" alt="Fluxo" /></p>

<p>1 - A página de checkout da loja envia os atributos do dispositivo do comprador para a Iovation, criando assim a <em>caixa preta</em> <br /> 2 - O lojista recebe a sequência de caracteres criptografados da Iovation e escreve o mesmo na página de checkout em um campo do tipo <em>hidden</em> <br /> 3 - O lojista envia para a Braspag, junto com os demais dados da transação a ser analisada, a <em>caixa preta</em> <br /> 4 - A Braspag recebe todos os dados, valida e envia para a ReD Shield <br /> 5 - A ReD Shield recebe todos os dados, envia a <em>caixa preta</em> para a Iovation descriptografar <br /> 6 - A Red Shield recebe da Iovation os atributos do dispositivo do comprador</p>

<h5 id="como-configurar">Como configurar?</h5>

<p>1 - Inclua o javascript da Iovation em sua página de checkout <br /> 2 - Adicione parâmetros de configuração no javascript <br /> 3 - Crie um campo do tipo <em>hidden</em> em sua página para escrever a <em>caixa preta</em> nele e enviá-lo junto com os dados da transação a ser analisada</p>

<p><strong>Obs.:</strong> Não realize cache do script, pois pode ocorrer de vários dispositovos sejam identificados como sendo o mesmo.</p>

<ul>
  <li>Incluindo o javascript da Iovation</li>
</ul>

<p>Para incluir o javascript, adicione o seguinte elemento <strong>&lt;script&gt;</strong> na sua página de checkout.</p>

<p>Esta é a URL da versão do snare.js da Iovation: &lt;script type=”text/javascript” src=”https://mpsnare.iesnare.com/snare.js”&gt;&lt;/script&gt;</p>

<ul>
  <li>Parâmetros de configuração</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parâmetro</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: left">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_install_flash</code></td>
      <td style="text-align: left">Determina se será solicitado ao usuário a instalação do Flash ou atualização da versão</td>
      <td style="text-align: left">false</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_flash_needs_handler</code></td>
      <td style="text-align: left">Este parâmetro só terá validade se o parâmetro <code class="highlighter-rouge">io_install_flash</code> estiver configurado como TRUE, caso contrário não será executado <br /> É possível aqui customizar sua própria mensagem caso o Flash não esteja instalado <br /> Ex.: var <code class="highlighter-rouge">io_flash_needs_handler</code> = “Alert(‘Instalar Flash’);”</td>
      <td style="text-align: left">-</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_install_stm</code></td>
      <td style="text-align: left">Determina se será solicitado ao usuário a instalação do Active X, que ajuda a coletar informações do hardware <br /> Este controle está disponível somente para o Internet Explorer, e caso o Active X já se encontre instalado, esta configuração não terá efeito</td>
      <td style="text-align: left">false</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_exclude_stm</code></td>
      <td style="text-align: left">Determina se o Active X deverá ser executado quando instalado <br /> É possível optar por desativar o controle para plataformas específicas <br /> Possíveis valores: <br /> 0 - executa em todas as plataformas <br /> 1 - não executa no Windows 9.x (incluindo as versões 3.1, 95, 98 e ME) <br /> 2 - não executa no Windows CE <br /> 4 - não executa no Windows XP (incluindo as versões NT, 2000, 2003 e 8) <br /> 8 - não executa no Windows Vista <br /> Obs.: Os valores são a combinação de somas dos valores acima, por exemplo: 12 - não executa no Windows XP (4) ou no Windows Vista (8)</td>
      <td style="text-align: left">15</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_bbout_element_id</code></td>
      <td style="text-align: left">Id do elemento HTML para preencher com a <em>caixa preta</em> <br /> Se o parâmetro <code class="highlighter-rouge">io_bb_callback</code> for definido, este não terá efeito</td>
      <td style="text-align: left">-</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_enable_rip</code></td>
      <td style="text-align: left">Determina se tentará coletar informações para obter o IP real do usuário</td>
      <td style="text-align: left">true</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">io_bb_callback</code></td>
      <td style="text-align: left">Parâmetro para customizar a checagem da coleta da <em>caixa preta</em> foi concluída <br /> Ao utilizar, escrever a função conforme com a seguinte sintaxe: <br /> <em>io_callback(bb, complete)</em>, onde: <br /> bb - valor da caixa preta <br /> complete - valor booleano que indica que a coleta foi concluída</td>
      <td style="text-align: left">-</td>
    </tr>
  </tbody>
</table>

<p><strong>IMPORTANTE!</strong>
Os parâmetros de configuração devem ser colocados antes da chamada da tag acima. Eles determinam como javascript do iovation funcionará, e podem ocorrer erros caso os mesmos sejam colocados antes da chamada do javascript.</p>

<p><strong>Exemplo</strong>
<img src="https://braspag.github.io//images/braspag/af/exemplohtmlred.png" alt="Exemplo HTML" /></p>

<h3 id="integração-em-aplicativos-mobile">Integração em aplicativos mobile</h3>

<p><strong>Visão Geral</strong>
Este tópico explica como integrar o mobile SDK da Iovation em seus aplicativos para iOS e Android.</p>

<p><strong>Baixando o SDK</strong>
Se você ainda não baixou o SDK do iOS ou do Android, deve fazê-lo antes de continuar. Para isso acesse um dos links abaixo de acordo com o desejado.<br /> <a href="https://github.com/iovation/deviceprint-SDK-iOS">Download Deviceprint SDK iOS</a> <br /> <a href="https://github.com/iovation/deviceprint-SDK-Android">Download Deviceprint SDK Android</a></p>

<p><strong>Sobre a integração</strong>
Adicione o Iovation Mobile SDK aos seus aplicativos para coletar informações sobre os dispositivos dos usuários finais. Será gerada uma <em>caixa preta</em> que contém todas as informações do dispositivo disponíveis.</p>

<p><img src="https://braspag.github.io//images/braspag/af/fingerprintmobile.png" alt="Fluxo da coleta do fingerprint mobile" /></p>

<h4 id="integrando-com-aplicativos-ios">Integrando com aplicativos iOS</h4>

<p>Arquivos e requisitos de integração do iOS
<img src="https://braspag.github.io//images/braspag/af/fingerprintios1.png" alt="Detalhes integração iOS" /></p>

<p>Esta versão suporta iOS 5.1.1 ou superior nos seguintes dispositivos:</p>
<ul>
  <li>iPhone 3GS e posterior</li>
  <li>iPod Touch 3ª geração ou posterior</li>
  <li>
    <p>Todos os iPads</p>
  </li>
  <li>Instalando o SDK no iOS</li>
</ul>

<p>1 - Baixe e descompacte o SDK</p>

<p>2 - No Xcode, arraste <em>iovation.framework</em> na área de navegação do seu projeto
<img src="https://braspag.github.io//images/braspag/af/fingerprintios2.png" alt="Detalhes instalação SDK" /></p>

<p>3 - Na caixa de diálogo que aparece:</p>
<ul>
  <li>Selecione <em>Copy items if needed</em> para copiar o framework para o diretório do projeto</li>
  <li>Marque a caixa de seleção para os destinos nos quais você planeja usar o framework
<img src="https://braspag.github.io//images/braspag/af/fingerprintios3.png" alt="Detalhes instalação SDK" /></li>
</ul>

<p>4 - Clique em Finish</p>

<p>5 - Adicione os frameworks a seguir ao destino da aplicação no XCode:
<em>ExternalAccessory.framework</em>. Se você verificar que o Wireless Accessory Configuration está ativado no Xcode 6 ou superior e não precisa, desativa e adicione novamente o ExternalAccessory.framework
<em>CoreTelephony.framework</em>
<img src="https://braspag.github.io//images/braspag/af/fingerprintios4.png" alt="Detalhes instalação SDK" /></p>

<p>6 - Opcionalmente, adicione esses frameworks se o seu aplicativo fizer uso deles:
<em>AdSupport.framework</em>. Se o seu aplicativo exibe anúncios
Obs.: Não incluir se o seu aplicativo não utilizar anúncios, pois a App Store rejeita aplicativos que incluem o framework mas não usam anúncios
<em>CoreLocation.framework</em>. Se o seu aplicativo usa monitoramento local
Obs.: Não incluir, a menos que seu aplicativo solicite permissão de geolocalização do usuário</p>

<ul>
  <li>Usando a função +ioBegin</li>
</ul>

<p>A função <em>+ioBegin</em> coleta informações sobre o dispositivo e gera uma <em>caixa preta</em>. Esta <em>caixa preta</em> deverá ser enviada através do campo <em>CustomerData.BrowserFingerPrint</em> em conjunto com os outros dados para análise.</p>

<ul>
  <li>Sintaxe</li>
</ul>

<blockquote>
  <p>NSSstring * bbox = [iovation ioBegin]</p>
</blockquote>

<ul>
  <li>Valores de retorno</li>
</ul>

<blockquote>
  <p>bbox - string que contem a <em>caixa preta</em></p>
</blockquote>

<p><strong>IMPORTANTE!</strong>
A <em>caixa preta</em> que retornou de <em>+ioBegin</em> nunca deve estar vazio. Uma <em>caixa preta</em> vazia indica que a proteção oferecida pelo sistema pode ter sido comprometida.</p>

<p><strong>Exemplo</strong>
<img src="https://braspag.github.io//images/braspag/af/exemplocodigo1.png" alt="Exemplo Código" /></p>

<h4 id="integrando-com-aplicativos-android">Integrando com aplicativos Android</h4>

<p>Arquivos e requisitos de integração do Android
<img src="https://braspag.github.io//images/braspag/af/fingerprintandroid.png" alt="Detalhes" class="left" title="Detalhes integração Android" /></p>

<p><strong>NOTA</strong>
Se as permissões listadas não são necessárias pelo aplicativo, os valores obtidos obtidos utilizando essas permissões serão ignorados. As permissões não são necessárias para obter uma <em>caixa preta</em>, mas ajudam a obter mais informações do dispositivo.</p>

<p>A versão 1.2.0 do Iovation Mobile SDK para Android suporta versões do Android 2.1 ou superior.</p>

<ul>
  <li>Instalando o SDK no Android</li>
</ul>

<p>1 - Baixe e descompacte o deviceprint-lib-1.2.0.aar <br /> 2 - Inicie o IDE de sua escolha <br /> 3 - No Eclipse e Maven, faça o deploy do arquivo de extensão <em>.aar</em> no repositório Maven local, usando o maven-deploy. Mais detalhes em: <a href="http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html">Maven Guide</a> <br /> 4 - No Android Studio, selecione <em>File -&gt; New Module</em>. Expande <em>More Modules</em> e escolha <em>Import existing .jar or .aar package</em> <br /> 5 - Selecione o arquivo deviceprint-lib-1.2.0.aar, e clique em <em>Finish</em> <br /> 6 - Certifique-se de que o device-lib é uma dependência de compilação no arquivo build.gradle</p>

<p><img src="https://braspag.github.io//images/braspag/af/fingerprintandroid1.png" alt="Detalhes" class="left" title="Detalhes integração Android" /></p>

<ul>
  <li>Usando a função ioBegin</li>
</ul>

<p>A função <em>ioBegin</em> coleta informações sobre o dispositivo e gera uma <em>caixa preta</em>. Esta <em>caixa preta</em> deverá ser enviada através do campo <em>CustomerData.BrowserFingerPrint</em> em conjunto com os outros dados para análise.</p>

<ul>
  <li>Sintaxe</li>
</ul>

<blockquote>
  <p>public static String ioBegin(Context context)</p>
</blockquote>

<ul>
  <li>Parâmetros</li>
</ul>

<blockquote>
  <p>context - uma instância da classe <em>android.content.Context</em> usado para acessar informações sobre o dispositivo</p>
</blockquote>

<ul>
  <li>Valores de retorno</li>
</ul>

<blockquote>
  <p>string que contem a <em>caixa preta</em></p>
</blockquote>

<p><strong>IMPORTANTE!</strong>
A <em>caixa preta</em> que retornou de <em>ioBegin</em> nunca deve estar vazio. Uma <em>caixa preta</em> vazia indica que contem apenas <em>0500</em> indica que a proteção oferecida pelo sistema pode ter sido comprometida.</p>

<p><strong>IMPORTANTE!</strong>
O arquivo <em>device-lib-1.2.0.aar</em> deverá ser empacotado com o aplicativo.</p>

<ul>
  <li>Compilando o aplicativo de exemplo no Android Studio</li>
</ul>

<p><strong>IMPORTANTE!</strong>
Se a opção para executar o módulo não aparecer, selecione <em>File -&gt; Project Structure</em> e abra o painel <em>Modules</em>. A partir disso, defina na lista a versão do Android SDK.</p>

<p><img src="https://braspag.github.io//images/braspag/af/exemplocodigo2.png" alt="Exemplo Código" /></p>

<p>1 - Baixe e descompacte o deviceprint-lib-1.2.0.aar <br /> 2 - No Android Studio, selecione <em>File -&gt; Open</em> ou clique em <em>Open Project</em> através da opção <em>quick-start</em> <br /> 3 - No diretório em que você descompactou o <em>deviceprint-lib-1.2.0.aar</em>, abra diretório <em>android-studio-sample-app</em> do aplicativo de exemplo <br /> 4 - Abra o arquivo <em>DevicePrintSampleActivity</em> <br /> 5 - Com algumas configurações, o Android Studio pode detectar um Android Framework no projeto e não configurá-lo. Neste caso, abra o <em>Event Log</em> e clique em <em>Configure</em> <br /> 6 - Uma pop-up irá abrir para você selecionar o Android Framework. Clique em <em>OK</em> para corrigir os erros <br /> 7 - No Android Studio, selecione <em>File -&gt; New Module</em>. Expande <em>More Modules</em> e escolha <em>Import existing .jar or .aar package</em> <br /> 8 - Selecione o arquivo deviceprint-lib-1.2.0.aar, e clique em <em>Finish</em> <br /> 9 - Certifique-se de que o device-lib é uma dependência de compilação no arquivo build.gradle <br /> <img src="https://braspag.github.io//images/braspag/af/fingerprintandroid1.png" alt="Detalhes integração Android" /> <br /> 10 - Abra a pasta DevicePrintSampleActivity
11 - Na opção de navegação do projeto, abra <em>src/main/java/com/iovation/mobile/android/sample/DevicePrintSampleActivity.java</em> <br /> 12 - Clique com o botão direito e selecione <em>Run DevicePrintSampleAct</em> <br /> 13 - Selecione um dispositivo físico conectado ou um Android virtual para executar o aplicativo <br /> 14 - O aplicativo irá compilar e executar</p>

<p>O exemplo ao lado é simples, onde o mesmo possui um botão e ao clicar uma caixa de texto é preenchida com a <em>caixa preta</em>. Para obter um exemplo mais rico, consulte o aplicativo de exemplo do Android Studio incluído no SDK.</p>

<h3 id="cybersource">Cybersource</h3>

<p>Será necessário adicionar uma imagem de 1-pixel, que não é mostrada na tela, e 2 segmentos de código à tag ** da sua página de checkout, se certificando que serão necessários de 10 segundos entre a execução do código e a submissão da página para o servidor.</p>

<p><strong>IMPORTANTE!</strong>
Se os 3 segmentos de código não forem colocados na página de checkout, os resultados podem não ser precisos.</p>

<p><strong>Colocando os segmentos de código e substituindo os valores das variáveis</strong></p>

<p>Coloque os segmentos de código imediatamente acima da tag ** para garantir que a página Web será renderizada corretamente. Nunca adicione os segmentos de código em elementos HTML visíveis. Os segmentos de código precisam ser carregados antes que o comprador finalize o pedido de compra, caso contrário um erro será gerado.</p>

<p>Em cada segmento abaixo, substitua as variáveis com os valores referentes a loja e número do pedido.</p>

<p><em>Domain</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Ambiente</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Testing</code></td>
      <td style="text-align: left">Use h.online-metrix.net, que é o DNS do servidor de fingerprint, como apresentado no exemplo de HTML abaixo</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Production</code></td>
      <td style="text-align: left">Altere o domínio para uma URL local, e configure seu servidor Web para redirecionar esta URL para h.online-metrix.net</td>
    </tr>
  </tbody>
</table>

<p><em>Variáveis</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ProviderOrgId</code></td>
      <td style="text-align: left">Para obter este valor, entre em contato com a Braspag</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ProviderMerchantId</code></td>
      <td style="text-align: left">Para obter este valor, entre em contato com a Braspag</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ProviderSessionId</code></td>
      <td style="text-align: left">Prencha este campo com o mesmo valor do campo <code class="highlighter-rouge">MerchantOrderId</code> que será enviado na requisição da análise de fraude</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>PNG Image</p>
</blockquote>

<p><img src="https://braspag.github.io//images/braspag/af/exemplocyberimage.png" alt="Exemplo Image" /></p>

<blockquote>
  <p>Flash Code</p>
</blockquote>

<p><img src="https://braspag.github.io//images/braspag/af/exemplocyberflash.png" alt="Exemplo Image" /></p>

<blockquote>
  <p>Javascript Code</p>
</blockquote>

<p><img src="https://braspag.github.io//images/braspag/af/exemplocyberjavascript.png" alt="Exemplo Image" /></p>

<p><strong>IMPORTANTE!</strong>
Certifique-se de copiar todos os dados corretamente e de ter substituído as variáveis corretamente pelos respectivos valores.</p>

<p><strong>Configurando seu Servidor Web</strong></p>

<p>Na seção <em>Colocando os segmentos de código e substituindo os valores das variáveis (Domain)</em>, todos os objetos se referem a h.online-metrix.net, que é o DNS do servidor de fingerprint. Quando você estiver pronto para produção, você deve alterar o nome do servidor para uma URL local, e configurar no seu servidor Web um redirecionamento de URL para h.online-metrix.net.</p>

<p><strong>IMPORTANTE!</strong>
Se você não completar essa seção, você não receberá resultados corretos, e o domínio (URL) do fornecedor de fingerprint ficará visível, sendo mais provável que seu consumidor o bloqueie.</p>

<h3 id="integração-em-aplicativos-mobile-1">Integração em aplicativos mobile</h3>

<p><strong>Baixando o SDK</strong>
Se você ainda não baixou o SDK do iOS ou do Android, deve fazê-lo antes de continuar. Para isso acesse um dos links abaixo de acordo com o desejado.<br /> <a href="https://braspag.github.io//files/braspag/antifraude/cybersource-iossdk-fingerprint-v5.0.32.zip">Download Deviceprint SDK iOS</a> <br /> <a href="https://braspag.github.io//files/braspag/antifraude/cybersource-androidsdk-fingerprint-v5.0.96.zip">Download Deviceprint SDK Android</a></p>

<h1 id="pagamentos-com-cartão-de-débito">Pagamentos com Cartão de Débito</h1>

<h2 id="criando-uma-transação-com-cartão-de-débito">Criando uma transação com cartão de débito</h2>

<p>Uma transação com um Cartão de Débito se efetua de uma forma semelhante a um Cartão de Crédito, porém, é obrigatório submetê-la ao processo de autenticação.</p>

<h3 id="requisição-15">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051107"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"DebitCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051107"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Cielo"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"DebitCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.braspag.com.br"</span>,
     <span class="s2">"DebitCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento. Atualmente somente a “Cielo” suporta esta forma de pagamento via Pagador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. No caso do cartão de débito (DebitCard)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-15">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051107"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930690009D366FA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21423fa4-6bcf-448a-97e0-e683fa2581ba"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:19:58"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waiting"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051107"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"DebitCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"10069930690009D366FA"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"21423fa4-6bcf-448a-97e0-e683fa2581ba"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:19:58"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
    <span class="s2">"ReasonCode"</span>: 9,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Waiting"</span>,
    <span class="s2">"Status"</span>: 0,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para o qual o portador será redirecionado para autenticação</td>
      <td>Texto</td>
      <td>56</td>
      <td>https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-cartão-de-débito-sem-autenticação">Criando uma transação com cartão de débito sem autenticação</h2>

<p>Uma transação com um Cartão de Débito sem Autenticação é processada de forma semehante a transações de Cartão de Crédito, pois não é necessário autenticar-se na tela do banco emissor do cartão para finalizar a compra. <br />Para esta modalidade é obrigatório o envio do parâmetro Authenticate como “false”.</p>

<aside class="warning">É necessário verificar com a adquirente a disponibilidade deste serviço.</aside>

<h3 id="requisição-16">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051107"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Nome do Cliente"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"DebitCard"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051107"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Cliente"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Cielo"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"DebitCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.braspag.com.br"</span>,
     <span class="s2">"DebitCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento. Atualmente somente a “Cielo” suporta esta forma de pagamento via Pagador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. No caso do cartão de débito (DebitCard)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
      <td>Booleano</td>
      <td>–</td>
      <td>Sim (enviar false)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-16">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051107"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930690009D366FA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21423fa4-6bcf-448a-97e0-e683fa2581ba"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:19:58"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051107"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"DebitCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"10069930690009D366FA"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"21423fa4-6bcf-448a-97e0-e683fa2581ba"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:19:58"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/21423fa4-6bcf-448a-97e0-e683fa2581ba/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para o qual o portador será redirecionado para autenticação</td>
      <td>Texto</td>
      <td>56</td>
      <td>https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f</td>
    </tr>
  </tbody>
</table>

<h1 id="pagamentos-com-e-wallets">Pagamentos com e-Wallets</h1>

<h2 id="o-que-são-e-wallets-carteiras-digitais">O que são e-Wallets (Carteiras Digitais)</h2>

<p>São repositórios de cartões e dados de pagamentos para consumidores do e-commerce e mundo físico. As Carteiras digitais permitem que um consumidor realize o cadastro de seus dados de pagamento, tornando o processo de compra mais conveniente e seguro.</p>

<blockquote>
  <p><em>Para utilizar carteiras no Pagador, o lojista deverá possuir as carteiras integradas em seu checkout</em>.</p>
</blockquote>

<p>Para maiores informações, entre em contato com o provedor de sua preferência para contratar o serviço.</p>

<h2 id="e-wallets-disponíveis">e-Wallets Disponíveis</h2>

<p>O Pagador possui suporte para:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th style="text-align: center">Carteira</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://www.apple.com/br/apple-pay/"><em>Apple Pay</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://www.samsung.com.br/samsungpay/"><em>Samsung Pay</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://www.android.com/intl/pt-BR_br/pay/"><em>Android Pay</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://vaidevisa.visa.com.br/site/visa-checkout"><em>VisaCheckout</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://masterpass.com/pt-br/"><em>MasterPass</em></a></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<aside class="notice">Atenção: Quando o nó “Wallet” for enviado na requisição, o nó “CreditCard” passa a ser opcional.</aside>

<aside class="notice">Atenção: Para o cartão de débito, quando for enviado na requisição o nó “Wallet”, será necessário o nó “DebitCard” contendo a “ReturnUrl”.</aside>

<h2 id="integração">Integração</h2>

<h3 id="requisição-padrão">Requisição Padrão</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDENTIFICADOR DA LOJA NA WALLET"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN INFORMADO PELA WALLET"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.EphemeralPublicKey</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code>/ <code class="highlighter-rouge">AndroidPay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.capturecode</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
    </tr>
  </tbody>
</table>

<h4 id="walletkey">Walletkey</h4>

<p>Formato de <code class="highlighter-rouge">WalletKeys</code> que devem ser repassados ao Pagador API</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Apple Pay</em></td>
      <td>9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+easdhghrsa/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>Samsung Pay</em></td>
      <td>eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR–gApzoXH-fdafddfa-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ`</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>Android Pay</em></td>
      <td>En6NrAzy/V9l7U9FukJTlOkXLx8lsHJ9Lp3aO16WbZuXX+dHI6fy3G8PES5Leu63x+ZSAKQTQxJC/+hFCU3N3Vzl2Eo0bhQDv9pZwU9oghS1rx0QlqNPslspQ8ufTqfDDg2IlsVh7ANh8BXC1pi4YzhUXhAB5J2xSu7ivJwWL4/9FVJ2u0mZIK6QHtuGJXdvol54HtNn9Cik9IA7xeh/gutJ/z9K8rVk1KrCBSSTE1cgxbUbpBp535IXsP//okqXIf7qlTi/sUkfIjXVWLPVP/JPcm+MHE0s/37aVyprz0xfkJjHkUExsJ2h1v7LU5nnK7uYmyUdEI42wUuzfGkwvjvfS3xllxGwqy3Of4ts5mkPLNXdLnPNGvP8RE4uYyrQM4hXdie3tTPgW6FK5ExDsKyw8Qm0ikvbb4Clo9JvALTjqJkr1VkT20UITdetra/8JUWOX/PbcxDYv2oOPLG9hDumRExuifi04cNtwzFvyFVBnV1SO3GKp+k/fdfdfdfdafda=</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>VisaCheckout</em></td>
      <td>1140812334225873901</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>Masterpass</em></td>
      <td>a561da1c18a89cfdafas875f9d43fc46cd9bf3e1</td>
      <td>.</td>
    </tr>
  </tbody>
</table>

<h4 id="ephemeralpublickey">EphemeralPublicKey</h4>

<p>Formato de <code class="highlighter-rouge">EphemeralPublicKey</code> que devem ser repassados ao Pagador API</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Apple Pay</em></td>
      <td><code class="highlighter-rouge">MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ==</code></td>
    </tr>
    <tr>
      <td><em>Android Pay</em></td>
      <td><code class="highlighter-rouge">BG9mGFe2/kSo6PJDEoO5bRXRS4RKQ4b3jikXio0FUhZPqQe5f6SMlZQI3sfyiKteM0PRSeNDnQQ10XYeobN9avM=</code></td>
    </tr>
  </tbody>
</table>

<h3 id="respostas">Respostas</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leonardo Romano"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDENTIFICADOR DA LOJA NA WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="s2">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN INFORMADO PELA WALLET"</span><span class="w">
                              </span><span class="p">},</span><span class="w">                
                 </span><span class="p">},</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>–</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>–</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code>/ <code class="highlighter-rouge">AndroidPay</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>–</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<h2 id="exemplos">Exemplos</h2>

<h3 id="apple-pay">Apple Pay</h3>

<aside class="notice"><strong>Pré-requisitos:</strong> Para utilização da Apple Pay é necessário que a loja já esteja cadastrada junto à Apple e possua um MerchantIdentifier. Também é necessário o upload de um certificado CSR no formato PEM fornecido pela Braspag. Abaixo segue o passo a passo para disponibilizar a Apple Pay em sua loja.</aside>

<h4 id="passo-1-contratação-na-apple">Passo 1. Contratação na Apple</h4>

<p>É necessário que a Apple Pay seja contratada na Apple através do contato comercial abaixo (o contato deve ser feito em inglês):</p>

<p><em>Shawn Munyon (smunyon@apple.com)</em></p>

<h4 id="passo-2-obtenção-do-merchantidentifier">Passo 2. Obtenção do MerchantIdentifier</h4>

<p>Uma vez que a contratação estiver efetivada, receberá acesso ao painel “Apple Developer”, e será necessária a criação do <code class="highlighter-rouge">MerchantIdentifier</code>. Para tanto, realize os passos abaixo:</p>
<ol>
  <li>Faça login em <a href="https://developer.apple.com/">Apple Developer</a></li>
  <li>Selecione <strong>Certificate, IDs &amp; Profile</strong></li>
  <li>Dentro da área “Identifiers” clique em “Merchant IDs”</li>
  <li>Clique no <strong>+</strong> no canto direito, abaixo do “Registering a Merchant ID”</li>
  <li>Defina a descrição do MerchantID e o identificador. Exemplo.: “merchant.com.BRASPAG.merchantAccount”</li>
  <li>Clique em “continuar” e verifique se as informações inseridas estão corretas</li>
  <li>Finalize o processo.</li>
</ol>

<p>O `MerchantIdentifier` deve ser enviado à Braspag por meio do [canal de suporte](https://suporte.braspag.com.br/hc/pt-br/restricted?return_to=https%3A%2F%2Fsuporte.braspag.com.br%2Fhc%2Fpt-br) para criação de um **Certificado CSR no formato PEM**. 

#### Passo 3. Upload do Certificado CSR

Após enviar o `MerchantIdentifier` para a equipe da Braspag, a loja receberá o certificado de extensão `PEM` e deverá seguir os seguintes passos: 

1. Faça login em [Apple Developer](https://developer.apple.com/)
2. Selecione **Certificate, IDs &amp; Profiles**
![Aplle Pay](https://braspag.github.io//images/apple-paymid.jpg)
3. Realize o upload do certificado
![Aplle Pay](https://braspag.github.io//images/apple-pay.jpg)
4. Finalize o processo 

<p>O Certificado PEM contém o código CSR solicitado pela Apple. 

<p>Formato de um PEM:

<p>-----BEGIN CERTIFICATE REQUEST-----

<p>MIHyMIGYAgEAMDgxCzAJBgNVBAYTAkJSMRAwDgYDVQQKDAdicmFzcGFnMRcwFQYDVQQDDA5icmFzcGFnLmNvbS5icjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABFUL1F/ue9/T5SrEyE1wTPQxk5x3ZHEelB7VHObDTW7pjauFrE88J25w7iRCKNP6u2fPmBtM9nY30/xQCgBH9aUwCgYIKoZIzj0EAwIDSQAwRgIhAPyF47xmfy+9czlr0a94eSd/YG27G8akujpkIUd56qWmAiEAqV6aSVISmH9NveOKGJdZ6VvkbELK2uqu2yCpg/lfYc8=

<p>-----END CERTIFICATE REQUEST---

#### Passo 4. Integração com Apple Pay

A integração requer dois passos: o primeiro é a integração direta com a solução da Apple, para disponibilizar o botão "Pagar com Apple Pay" em seu site ou aplicativo. Para tanto, a equipe da Apple fará um acompanhamento de perto. [Clique aqui](https://developer.apple.com/apple-pay/) para acessar a documentação técnica da Apple.  

<p>Nesta etapa, não é preciso realizar o processo de criptografia de dados retornados pela Apple. Este trabalho será realizado pela Braspag, através dos procedimentos descritos na próxima etapa.  

#### Passo 5. Integração com Pagador (decriptografia e autorização)

O segundo passo de integração é efetivar o fluxo de autorização via gateway da Braspag (Pagador). Para tanto, é necessário fornecer os dados recebidos no fluxo com a Apple Pay, inclusive WalletKey e EphemeralPublicKey.

#### Requisição

Exemplo de Requisição padrão *Apple Pay*

&gt; É necessário que a loja ja possua cadastro e uma integração Apple Pay, caso contrario não será possivel a integração com a API

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

```json
{
  "MerchantOrderId": "6242-642-723",
  "Customer": {
    "Name": "Exemplo Wallet Padrão",
    "Identity": "11225468954",
    "IdentityType": "CPF"
  },
  "Payment": {
    "Type": "CreditCard",
    "Amount": 1100,
    "Provider": "Cielo",
    "Installments": 1,
    "Currency": "BRL",
    "Wallet": {
      "Type": "ApplePay",
      "WalletKey": "9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc",
      "AdditionalData": {
        "EphemeralPublicKey": "MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ=="
      }
    }
  }
}
```

| Propriedade                | Tipo   | Tamanho | Obrigatório | Descrição                                                                                               |
|----------------------------|--------|---------|-------------|---------------------------------------------------------------------------------------------------------|
| `MerchantId`               | Guid   | 36      | Sim         | Identificador da loja na Braspag                                                                        |
| `MerchantKey`              | Texto  | 40      | Sim         | Chave Publica para Autenticação Dupla na Braspag                                                        |
| `RequestId`                | Guid   | 36      | Não         | Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.  |
| `MerchantOrderId`          | Texto  | 50      | Sim         | Numero de identificação do Pedido.                                                                      |
| `Customer.Name`            | Texto  | 255     | Não         | Nome do Comprador.                                                                                      |
| `Customer.Status`          | Texto  | 255     | Não         | Status de cadastro do comprador na loja (NEW / EXISTING)                                                |
| `Payment.Type`             | Texto  | 100     | Sim         | Tipo do Meio de Pagamento.                                                                              |
| `Payment.Amount`           | Número | 15      | Sim         | Valor do Pedido (ser enviado em centavos).                                                              |
| `Payment.Provider`         | Texto  | 15      | Sim         | Somente providers Cielo (`Cielo` / `Cielo30`)                                                           |
| `Payment.Installments`     | Número | 2       | Sim         | Número de Parcelas.                                                                                     |
| `Wallet.Type`              | Texto  | 255     | Sim         | indica qual o tipo de carteira: `ApplePay` / `SamsungPay` / `AndroidPay` / `VisaCheckout`/ `Masterpass` |
| `Wallet.Walletkey`         | Texto  | 255     | Sim         | Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações       |
| `Wallet.AdditionalData.EphemeralPublicKey`| Texto  | 255    | Sim  | Token retornado pela Wallet. Deve ser enviado em Integrações: `ApplePay`/ `AndroidPay`           |

#### Resposta

```json
{
    "MerchantOrderId": "2014111703",
    "Customer": {
        "Name": "[Guest]"
    },
    "Payment": {
        "ServiceTaxAmount": 0,
        "Installments": 1,
        "Interest": 0,
        "Capture": false,
        "Authenticate": false,
        "Recurrent": false,
        "CreditCard": {
            "CardNumber": "453211******1521",
            "Holder": "Leonardo Romano",
            "ExpirationDate": "08/2020",
            "SaveCard": false,
            "Brand": "Visa"
        },
        "Tid": "0319040817883",
        "ProofOfSale": "817883",
        "AuthorizationCode": "027795",
        "Wallet": {
            "Type": "ApplePay",
            "WalletKey": "9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc",
            "Eci": 0
            "AdditionalData": {
                "EphemeralPublicKey": "MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ=="
                              },                
                 },
        "SoftDescriptor": "123456789ABCD",
        "Amount": 100,
        "ReceivedDate": "2018-03-19 16:08:16",
        "Status": 1,
        "IsSplitted": false,
        "ReturnMessage": "Operation Successful",
        "ReturnCode": "4",
        "PaymentId": "e57b09eb-475b-44b6-ac71-01b9b82f2491",
        "Type": "CreditCard",
        "Currency": "BRL",
        "Country": "BRA",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"
            },
            {
                "Method": "PUT",
                "Rel": "capture",
                "Href": "https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"
            },
            {
                "Method": "PUT",
                "Rel": "void",
                "Href": "https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"
            }
        ]
    }
}
```

| Propriedade         | Descrição                                                                                                                      | Tipo  | Tamanho | Formato                              |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------|-------|---------|--------------------------------------|
| `ProofOfSale`       | Número da autorização, identico ao NSU.                                                                                        | Texto | 6       | Texto alfanumérico                   |
| `Tid`               | Id da transação na adquirente.                                                                                                 | Texto | 20      | Texto alfanumérico                   |
| `AuthorizationCode` | Código de autorização.                                                                                                         | Texto | 6       | Texto alfanumérico                   |
| `SoftDescriptor`    | Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais | Texto | 13      | Texto alfanumérico                   |
| `PaymentId`         | Campo Identificador do Pedido.                                                                                                 | Guid  | 36      | xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
| `ECI`               | Eletronic Commerce Indicator. Representa o quão segura é uma transação.                                                        | Texto | 2       | Exemplos: 7                          |
| `Status`            | Status da Transação.                                                                                                           | Byte  | ---     | 2                                    |
| `ReturnCode`        | Código de retorno da Adquirência.                                                                                              | Texto | 32      | Texto alfanumérico                   |
| `ReturnMessage`     | Mensagem de retorno da Adquirência.                                                                                            | Texto | 512     | Texto alfanumérico                   |
| `Type`              |  indica qual o tipo de carteira: `ApplePay` / `SamsungPay` / `AndroidPay` / `VisaCheckout`/ `Masterpass`                       | Texto | 255     | Texto alfanumérico                   |
| `Walletkey`         | Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações                              | Texto | 255     | Ver tabela `WalletKey`               |       
| `AdditionalData.EphemeralPublicKey` | Token retornado pela Wallet. Deve ser enviado em Integrações: `ApplePay`/ `AndroidPay`                         | Texto | 255     | Ver Tabela `EphemeralPublicKey`      |

### Samsung Pay

#### Requisição

Exemplo de Requisição padrão *Samsung Pay*

&gt; É necessário que a loja ja possua cadastro e uma integração Samsung Pay, caso contrario não será possivel a integração com a API

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

```json
{
  "MerchantOrderId":"6242-642-723",
  "Customer":{
     "Name":"Exemplo Wallet Padrão",
     "Identity":"11225468954",
      "IdentityType":"CPF"
  },
  "Payment":{
     "Type":"CreditCard",
     "Amount":1,
     "Provider":"Cielo",
     "Installments":1,
     "Currency":"BRL",
     "Wallet":{
       "Type":"SamsungPay",
       "WalletKey":"eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ"
    }
  }
}

```

| Propriedade                | Tipo   | Tamanho | Obrigatório | Descrição                                                                                               |
|----------------------------|--------|---------|-------------|---------------------------------------------------------------------------------------------------------|
| `MerchantId`               | Guid   | 36      | Sim         | Identificador da loja na Braspag                                                                        |
| `MerchantKey`              | Texto  | 40      | Sim         | Chave Publica para Autenticação Dupla na Braspag                                                        |
| `RequestId`                | Guid   | 36      | Não         | Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.  |
| `MerchantOrderId`          | Texto  | 50      | Sim         | Numero de identificação do Pedido.                                                                      |
| `Customer.Name`            | Texto  | 255     | Não         | Nome do Comprador.                                                                                      |
| `Customer.Status`          | Texto  | 255     | Não         | Status de cadastro do comprador na loja (NEW / EXISTING)                                                |
| `Payment.Type`             | Texto  | 100     | Sim         | Tipo do Meio de Pagamento.                                                                              |
| `Payment.Amount`           | Número | 15      | Sim         | Valor do Pedido (ser enviado em centavos).                                                              |
| `Payment.Provider`         | Texto  | 15      | Sim         | Somente providers Cielo (`Cielo` / `Cielo30`)                                                           |
| `Payment.Installments`     | Número | 2       | Sim         | Número de Parcelas.                                                                                     |
| `Wallet.Type`              | Texto  | 255     | Sim         | indica qual o tipo de carteira: `ApplePay` / `SamsungPay` / `AndroidPay` / `VisaCheckout`/ `Masterpass` |
| `Wallet.Walletkey`         | Texto  | 255     | Sim         | Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações       |

#### Resposta

```json
{
    "MerchantOrderId": "2014111703",
    "Customer": {
        "Name": "[Guest]"
    },
    "Payment": {
        "ServiceTaxAmount": 0,
        "Installments": 1,
        "Interest": 0,
        "Capture": false,
        "Authenticate": false,
        "Recurrent": false,
        "CreditCard": {
            "CardNumber": "453211******1521",
            "Holder": "Leonardo Romano",
            "ExpirationDate": "08/2020",
            "SaveCard": false,
            "Brand": "Visa"
        },
        "Tid": "0319040817883",
        "ProofOfSale": "817883",
        "AuthorizationCode": "027795",
        "Wallet": {
            "Type": "SamsungPay",
            "WalletKey": "eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ",
            "Eci": 0
                 },
        "SoftDescriptor": "123456789ABCD",
        "Amount": 100,
        "ReceivedDate": "2018-03-19 16:08:16",
        "Status": 1,
        "IsSplitted": false,
        "ReturnMessage": "Operation Successful",
        "ReturnCode": "4",
        "PaymentId": "e57b09eb-475b-44b6-ac71-01b9b82f2491",
        "Type": "CreditCard",
        "Currency": "BRL",
        "Country": "BRA",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"
            },
            {
                "Method": "PUT",
                "Rel": "capture",
                "Href": "https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"
            },
            {
                "Method": "PUT",
                "Rel": "void",
                "Href": "https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"
            }
        ]
    }
}
```

| Propriedade         | Descrição                                                                                                                      | Tipo  | Tamanho | Formato                              |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------|-------|---------|--------------------------------------|
| `ProofOfSale`       | Número da autorização, identico ao NSU.                                                                                        | Texto | 6       | Texto alfanumérico                   |
| `Tid`               | Id da transação na adquirente.                                                                                                 | Texto | 20      | Texto alfanumérico                   |
| `AuthorizationCode` | Código de autorização.                                                                                                         | Texto | 6       | Texto alfanumérico                   |
| `SoftDescriptor`    | Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais | Texto | 13      | Texto alfanumérico                   |
| `PaymentId`         | Campo Identificador do Pedido.                                                                                                 | Guid  | 36      | xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
| `ECI`               | Eletronic Commerce Indicator. Representa o quão segura é uma transação.                                                        | Texto | 2       | Exemplos: 7                          |
| `Status`            | Status da Transação.                                                                                                           | Byte  | ---     | 2                                    |
| `ReturnCode`        | Código de retorno da Adquirência.                                                                                              | Texto | 32      | Texto alfanumérico                   |
| `ReturnMessage`     | Mensagem de retorno da Adquirência.                                                                                            | Texto | 512     | Texto alfanumérico                   |
| `Type`              |  indica qual o tipo de carteira: `ApplePay` / `SamsungPay` / `AndroidPay` / `VisaCheckout`/ `Masterpass`                       | Texto | 255     | Texto alfanumérico                   |
| `Walletkey`         | Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações                              | Texto | 255     | Ver tabela `WalletKey`               |

### Android Pay

#### Requisição

Exemplo de Requisição padrão *Android Pay*

&gt; É necessário que a loja ja possua cadastro e uma integração Android Pay, caso contrario não será possivel a integração com a API

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

```json
{
  "MerchantOrderId":"6242-642-723",
  "Customer":{
     "Name":"Exemplo Wallet Padrão",
     "Identity":"11225468954",
      "IdentityType":"CPF"
  },
  "Payment":{
     "Type":"CreditCard",
     "Amount":1,
     "Provider":"Cielo",
     "Installments":1,
     "Currency":"BRL",
     "Wallet":{
       "Type":"AndroidPay",
       "WalletKey":"En6NrAzy/V9l7U9FukJTlOkXLx8lsHJ9Lp3aO16WbZuXX+dHI6fy3G8PES5Leu63x+ZSAKQTQxJC/+hFCU3N3Vzl2Eo0bhQDv9pZwU9oghS1rx0QlqNPslspQ8ufTqfDDg2IlsVh7ANh8BXC1pi4YzhUXhAB5J2xSu7ivJwWL4/9FVJ2u0mZIK6QHtuGJXdvol54HtNn9Cik9IA7xeh/gutJ/z9K8rVk1KrCBSSTE1cgxbUbpBp535IXsP//okqXIf7qlTi/sUkfIjXVWLPVP/JPcm+MHE0s/37aVyprz0xfkJjHkUExsJ2h1v7LU5nnK7uYmyUdEI42wUuzfGkwvjvfS3xllxGwqy3Of4ts5mkPLNXdLnPNGvP8RE4uYyrQM4hXdie3tTPgW6FK5ExDsKyw8Qm0ikvbb4Clo9JvALTjqJkr1VkT20UITdetra/8JUWOX/PbcxDYv2oOPLG9hDumRExuifi04cNtwzFvyFVBnV1SO3GKp+k/gGNDs7EziHNjToEq7JOWoaAlhNEUu2nxQxNiDEaRckgYd5A=",
       "AdditionalData":{
           "EphemeralPublicKey":"BG9mGFe2/kSo6PJDEoO5bRXRS4RKQ4b3jikXio0FUhZPqQe5f6SMlZQI3sfyiKteM0PRSeNDnQQ10XYeobN9avM="
       }
    }
  }
}
```

| Propriedade                | Tipo   | Tamanho | Obrigatório | Descrição                                                                                               |
|----------------------------|--------|---------|-------------|---------------------------------------------------------------------------------------------------------|
| `MerchantId`               | Guid   | 36      | Sim         | Identificador da loja na Braspag                                                                        |
| `MerchantKey`              | Texto  | 40      | Sim         | Chave Publica para Autenticação Dupla na Braspag                                                        |
| `RequestId`                | Guid   | 36      | Não         | Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.  |
| `MerchantOrderId`          | Texto  | 50      | Sim         | Numero de identificação do Pedido.                                                                      |
| `Customer.Name`            | Texto  | 255     | Não         | Nome do Comprador.                                                                                      |
| `Customer.Status`          | Texto  | 255     | Não         | Status de cadastro do comprador na loja (NEW / EXISTING)                                                |
| `Payment.Type`             | Texto  | 100     | Sim         | Tipo do Meio de Pagamento.                                                                              |
| `Payment.Amount`           | Número | 15      | Sim         | Valor do Pedido (ser enviado em centavos).                                                              |
| `Payment.Provider`         | Texto  | 15      | Sim         | Somente providers Cielo (`Cielo` / `Cielo30`)                                                           |
| `Payment.Installments`     | Número | 2       | Sim         | Número de Parcelas.                                                                                     |
| `Wallet.Type`              | Texto  | 255     | Sim         | indica qual o tipo de carteira: `ApplePay` / `SamsungPay` / `AndroidPay` / `VisaCheckout`/ `Masterpass` |
| `Wallet.Walletkey`         | Texto  | 255     | Sim         | Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações       |
| `Wallet.AdditionalData.EphemeralPublicKey`| Texto  | 255    | Sim  | Token retornado pela Wallet. Deve ser enviado em Integrações: `ApplePay`/ `AndroidPay`           |

#### Resposta

```json
{
    "MerchantOrderId": "2014111703",
    "Customer": {
        "Name": "[Guest]"
    },
    "Payment": {
        "ServiceTaxAmount": 0,
        "Installments": 1,
        "Interest": 0,
        "Capture": false,
        "Authenticate": false,
        "Recurrent": false,
        "CreditCard": {
            "CardNumber": "453211******1521",
            "Holder": "Leonardo Romano",
            "ExpirationDate": "08/2020",
            "SaveCard": false,
            "Brand": "Visa"
        },
        "Tid": "0319040817883",
        "ProofOfSale": "817883",
        "AuthorizationCode": "027795",
        "Wallet": {
            "Type": "AndroidPay",
            "WalletKey": "En6NrAzy/V9l7U9FukJTlOkXLx8lsHJ9Lp3aO16WbZuXX+dHI6fy3G8PES5Leu63x+ZSAKQTQxJC/+hFCU3N3Vzl2Eo0bhQDv9pZwU9oghS1rx0QlqNPslspQ8ufTqfDDg2IlsVh7ANh8BXC1pi4YzhUXhAB5J2xSu7ivJwWL4/9FVJ2u0mZIK6QHtuGJXdvol54HtNn9Cik9IA7xeh/gutJ/z9K8rVk1KrCBSSTE1cgxbUbpBp535IXsP//okqXIf7qlTi/sUkfIjXVWLPVP/JPcm+MHE0s/37aVyprz0xfkJjHkUExsJ2h1v7LU5nnK7uYmyUdEI42wUuzfGkwvjvfS3xllxGwqy3Of4ts5mkPLNXdLnPNGvP8RE4uYyrQM4hXdie3tTPgW6FK5ExDsKyw8Qm0ikvbb4Clo9JvALTjqJkr1VkT20UITdetra/8JUWOX/PbcxDYv2oOPLG9hDumRExuifi04cNtwzFvyFVBnV1SO3GKp+k/gGNDs7EziHNjToEq7JOWoaAlhNEUu2nxQxNiDEaRckgYd5A",
            "Eci": 0
            "AdditionalData":{
                "EphemeralPublicKey":"BG9mGFe2/kSo6PJDEoO5bRXRS4RKQ4b3jikXio0FUhZPqQe5f6SMlZQI3sfyiKteM0PRSeNDnQQ10XYeobN9avM="
                 },
        "SoftDescriptor": "123456789ABCD",
        "Amount": 100,
        "ReceivedDate": "2018-03-19 16:08:16",
        "Status": 1,
        "IsSplitted": false,
        "ReturnMessage": "Operation Successful",
        "ReturnCode": "4",
        "PaymentId": "e57b09eb-475b-44b6-ac71-01b9b82f2491",
        "Type": "CreditCard",
        "Currency": "BRL",
        "Country": "BRA",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"
            },
            {
                "Method": "PUT",
                "Rel": "capture",
                "Href": "https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"
            },
            {
                "Method": "PUT",
                "Rel": "void",
                "Href": "https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"
            }
        ]
    }
}
```

| Propriedade         | Descrição                                                                                                                      | Tipo  | Tamanho | Formato                              |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------|-------|---------|--------------------------------------|
| `ProofOfSale`       | Número da autorização, identico ao NSU.                                                                                        | Texto | 6       | Texto alfanumérico                   |
| `Tid`               | Id da transação na adquirente.                                                                                                 | Texto | 20      | Texto alfanumérico                   |
| `AuthorizationCode` | Código de autorização.                                                                                                         | Texto | 6       | Texto alfanumérico                   |
| `SoftDescriptor`    | Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais | Texto | 13      | Texto alfanumérico                   |
| `PaymentId`         | Campo Identificador do Pedido.                                                                                                 | Guid  | 36      | xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
| `ECI`               | Eletronic Commerce Indicator. Representa o quão segura é uma transação.                                                        | Texto | 2       | Exemplos: 7                          |
| `Status`            | Status da Transação.                                                                                                           | Byte  | ---     | 2                                    |
| `ReturnCode`        | Código de retorno da Adquirência.                                                                                              | Texto | 32      | Texto alfanumérico                   |
| `ReturnMessage`     | Mensagem de retorno da Adquirência.                                                                                            | Texto | 512     | Texto alfanumérico                   |
| `Type`              |  indica qual o tipo de carteira: `ApplePay` / `SamsungPay` / `AndroidPay` / `VisaCheckout`/ `Masterpass`                       | Texto | 255     | Texto alfanumérico                   |
| `Walletkey`         | Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações                              | Texto | 255     | Ver tabela `WalletKey`               |       
| `AdditionalData.EphemeralPublicKey` | Token retornado pela Wallet. Deve ser enviado em Integrações: `ApplePay`/ `AndroidPay`                         | Texto | 255     | Ver Tabela `EphemeralPublicKey`      |  
| `AdditionalData.capturecode`        | Código informado pela `MasterPass` ao lojista                                                                  | Texto | 255     | 3                                    | 

### MasterPass

Para utilizar o MasterPass é necessário a contratação do serviço através do contato diretamente com a Mastercard, selecionando a Braspag como service provider

#### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

```json
{  
   "MerchantOrderId":"2014111708",
   "Customer":{  
      "Name":"Comprador MasterPass"     
   },
   "Payment":{  
     "Type":"CreditCard",
     "Amount":15700,
     "Installments":1,
     "Wallet":{
         "Type":"MasterPass",
         "WalletKey":"a561da1c18a89cfdafas875f9d43fc46cd9bf3e1",
         "AdditionalData":{
               "CaptureCode": "103"
         }
     }
   }
}

```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|---|---|---|---|---|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.|
|`MerchantOrderId`|Texto|50|Sim|Numero de identificação do Pedido.|
|`Customer.Name`|Texto|255|Não|Nome do Comprador.|
|`Customer.Status`|Texto|255|Não|Status de cadastro do comprador na loja (NEW / EXISTING)|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento.|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (ser enviado em centavos).|
|`Payment.Provider`|Texto|15|Sim|Somente providers Cielo (`Cielo` / `Cielo30`)|
|`Payment.Installments`|Número|2|Sim|Número de Parcelas.|
|`Wallet.Type`|Texto|255|Sim|indica qual o tipo de carteira: "Masterpass"|
|`Wallet.Walletkey`|Texto|255|Sim|Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações|
|`Wallet.AdditionalData`|---|---|---|Instancia para dados extras informados pela MasterPass. Obrigatório apenas se TYPE = "MasterPass"|
|`Wallet.capturecode`|Texto|255|Sim|Código informado pela MasterPass ao lojista|

#### Resposta

```json
{
  "MerchantOrderId": "2014111708",
  "Customer": {
    "Name": "comprador Masterpass"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": 0,
    "Capture": false,
    "Authenticate": false,
    "Recurrent": false,
    "CreditCard": {
      "CardNumber": "453211******3703",
      "Holder": "Teste Holder",
      "ExpirationDate": "12/2016",
      "SaveCard": false,
      "Brand": "Visa"
    },
    "Tid": "0915052536103",
    "Provider": "Simulado",
    "Wallet": {
      "Type": "Masterpass",
      "Eci": 0,
      "AdditionalData": {
        "CaptureCode": "103"
      }
    },
    "PaymentId": "689da793-fc99-4900-89f1-9e7fdaa06ef8",
    "Type": "CreditCard",
    "Amount": 15700,
    "ReceivedDate": "2016-09-15 17:25:35",
    "Currency": "BRL",
    "Country": "BRA",
    "ReturnCode": "57",
    "ReturnMessage": "Card Expired",
    "Status": 3,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/689da793-fc99-4900-89f1-9e7fdaa06ef8"
      }
    ]
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|---|---|---|---|---|
|`ProofOfSale`|Número da autorização, identico ao NSU.|Texto|6|Texto alfanumérico|
|`Tid`|Id da transação na adquirente.|Texto|20|Texto alfanumérico|
|`AuthorizationCode`|Código de autorização.|Texto|6|Texto alfanumérico|
|`SoftDescriptor`|Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais|Texto|13|Texto alfanumérico|
|`PaymentId`|Campo Identificador do Pedido.|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|
|`ECI`|Eletronic Commerce Indicator. Representa o quão segura é uma transação.|Texto|2|Exemplos: 7|
|`Status`|Status da Transação.|Byte|---|2|
|`ReturnCode`|Código de retorno da Adquirência.|Texto|32|Texto alfanumérico|
|`ReturnMessage`|Mensagem de retorno da Adquirência.|Texto|512|Texto alfanumérico|
|`Type`|indica qual o tipo de carteira: "VisaCheckout" ou "Masterpass"|Texto|255|Sim|
|`Capturecode`|Código informado pela MasterPass ao lojista|Texto|255|Sim|

### Visa Checkout

Para utilizar o Visa Checkout é necessário a contratação do serviço através do contato diretamente com a Visa.

#### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

```json
{  
   "MerchantOrderId":"2014111703",
   "Customer":{  
      "Name":"Comprador Teste"
   },
   "Payment":{  
      "Type":"CreditCard",
      "Amount":15700,
      "Installments":1,
      "SoftDescriptor":"123456789ABCD",
      "CreditCard":{  
         "SecurityCode":"123"
      },
      "Wallet":{  
         "Type":"VisaCheckout",
         "WalletKey":"1140814777695873901"
      }
   }
}

```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|---|---|---|---|---|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.|
|`MerchantOrderId`|Texto|50|Sim|Numero de identificação do Pedido.|
|`Customer.Name`|Texto|255|Não|Nome do Comprador.|
|`Customer.Status`|Texto|255|Não|Status de cadastro do comprador na loja (NEW / EXISTING)|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento.|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (ser enviado em centavos).|
|`Payment.Provider`|Texto|15|Sim|Somente providers Cielo (`Cielo` / `Cielo30`)|
|`Payment.Installments`|Número|2|Sim|Número de Parcelas.|
|`Payment.ReturnUrl`|Texto|1024|---|Obrigatório para cartão de débito|
|`CreditCard.SecurityCode`|Texto|4|Não|Código de segurança impresso no verso do cartão - Ver Anexo.|
|`Wallet.Type`|Texto|255|Sim|indica qual o tipo de carteira: "VisaCheckout"|
|`Wallet.Walletkey`|Texto|255|---|Chave criptografica enviada pelo VisaCheckout. Obrigatoria se TYPE =  "Visa Checkout"|

#### Resposta

```json
{
  "MerchantOrderId": "2014111708",
  "Customer": {
    "Name": "comprador VisaCheckout"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": 0,
    "Capture": false,
    "Authenticate": false,
    "Recurrent": false,
    "CreditCard": {
      "SaveCard": false,
      "Brand": "Undefined"
    },
    "Tid": "0915052340115",
    "Provider": "Simulado",
    "Wallet": {
      "Type": "VisaCheckout",
      "WalletKey": "1140814777695873901",
      "Eci": 0
    },
    "PaymentId": "efdb3338-9c8f-445a-8836-2cc93d8beacf",
    "Type": "CreditCard",
    "Amount": 15700,
    "ReceivedDate": "2016-09-15 17:23:39",
    "Currency": "BRL",
    "Country": "BRA",
    "ReturnCode": "77",
    "ReturnMessage": "Card Canceled",
    "Status": 3,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/efdb3338-9c8f-445a-8836-2cc93d8beacf"
      }
    ]
  }
}
```

# Pagamentos com Voucher

## Criando uma transação com voucher Alelo

Uma transação com um Cartão Alelo se efetua de uma forma semelhante a um Cartão de Débito, porém, sem o processo de autenticação. <br />Atualmente, somente o Provider "Alelo" suporta processamento desta modalidade.

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{
    "MerchantOrderId": "2017051001",
    "Customer": {
        "Name": "TesteBraspag"
    },
    "Payment": {
        "Provider": "Alelo",
        "Type": "DebitCard",
        "Amount": 10,
        "Installments": 1,
        "DebitCard": {
            "CardNumber": "****4903",
            "Holder": "TesteBraspag",
            "ExpirationDate": "02/2019",
            "SecurityCode": "***",
            "Brand": "Elo"
        },
        "ReturnUrl": "http://www.braspag.com.br"
    }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "2017051001",
    "Customer": {
        "Name": "TesteBraspag"
    },
    "Payment": {
        "Provider": "Alelo",
        "Type": "DebitCard",
        "Amount": 10,
        "Installments": 1,
        "DebitCard": {
            "CardNumber": "****4903",
            "Holder": "TesteBraspag",
            "ExpirationDate": "02/2019",
            "SecurityCode": "***",
            "Brand": "Elo"
        },
        "ReturnUrl": "http://www.braspag.com.br"
    }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|50|Sim|Numero de identificação do Pedido|
|`Customer.Name`|Texto|255|Sim|Nome do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento. Atualmente somente a "Cielo" suporta esta forma de pagamento via Pagador|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento. No caso do cartão de débito (DebitCard)|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (ser enviado em centavos)|
|`Payment.Installments`|Número|2|Sim|Número de Parcelas|
|`Payment.ReturnUrl`|URL para onde o usuário será redirecionado após o fim do pagamento|Texto |1024 |Sim|
|`DebitCard.CardNumber`|Texto|16|Sim|Número do Cartão do comprador|
|`DebitCard.Holder`|Texto|25|Sim|Nome do Comprador impresso no cartão|
|`DebitCard.ExpirationDate`|Texto|7|Sim|Data de validade impresso no cartão, no formato MM/AAAA|
|`DebitCard.SecurityCode`|Texto|4|Sim|Código de segurança impresso no verso do cartão|
|`DebitCard.Brand`|Texto|10|Sim |Bandeira do cartão|

### Resposta

```json
{
    "MerchantOrderId": "2017051001",
    "Customer": {
        "Name": "TesteBraspag"
    },
    "Payment": {
        "DebitCard": {
            "CardNumber": "527637******4903",
            "Holder": "TesteBraspag",
            "ExpirationDate": "02/2019",
            "SaveCard": false,
            "Brand": "Elo"
        },
        "ProofOfSale": "004045",
        "AcquirerTransactionId": "c63fb9f7-02ad-42b3-a182-c56e26238a00",
        "AuthorizationCode": "128752",
        "Eci": "0",
        "PaymentId": "562a8563-9181-4f12-bee8-0ccc89c8f931",
        "Type": "DebitCard",
        "Amount": 10,
        "ReceivedDate": "2018-02-21 10:59:57",
        "CapturedAmount": 10,
        "CapturedDate": "2018-02-21 11:00:48",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "Alelo",
        "ReturnUrl": "http://www.braspag.com.br",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 2,
        "ProviderReturnCode": "00",
        "ProviderReturnMessage": "Transacao capturada com sucesso",
        "Links": [{
            "Method": "GET",
            "Rel": "self",
            "Href": "https://apiquerydev.braspag.com.br/v2/sales/562a8563-9181-4f12-bee8-0ccc89c8f931"
        }, {
            "Method": "PUT",
            "Rel": "void",
            "Href": "https://apidev.braspag.com.br/v2/sales/562a8563-9181-4f12-bee8-0ccc89c8f931/void"
        }]
    }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "2017051001",
    "Customer": {
        "Name": "TesteBraspag"
    },
    "Payment": {
        "DebitCard": {
            "CardNumber": "527637******4903",
            "Holder": "TesteBraspag",
            "ExpirationDate": "02/2019",
            "SaveCard": false,
            "Brand": "Elo"
        },
        "ProofOfSale": "004045",
        "AcquirerTransactionId": "c63fb9f7-02ad-42b3-a182-c56e26238a00",
        "AuthorizationCode": "128752",
        "Eci": "0",
        "PaymentId": "562a8563-9181-4f12-bee8-0ccc89c8f931",
        "Type": "DebitCard",
        "Amount": 10,
        "ReceivedDate": "2018-02-21 10:59:57",
        "CapturedAmount": 10,
        "CapturedDate": "2018-02-21 11:00:48",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "Alelo",
        "ReturnUrl": "http://www.braspag.com.br",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 2,
        "ProviderReturnCode": "00",
        "ProviderReturnMessage": "Transacao capturada com sucesso",
        "Links": [{
            "Method": "GET",
            "Rel": "self",
            "Href": "https://apiquerydev.braspag.com.br/v2/sales/562a8563-9181-4f12-bee8-0ccc89c8f931"
        }, {
            "Method": "PUT",
            "Rel": "void",
            "Href": "https://apidev.braspag.com.br/v2/sales/562a8563-9181-4f12-bee8-0ccc89c8f931/void"
        }]
    }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`AcquirerTransactionId`|Id da transação no provedor de meio de pagamento|Texto|40|Texto alfanumérico|
|`ProofOfSale`|Número do Comprovante de Venda|Texto|20|Texto alfanumérico|
|`AuthorizationCode`|Código de autorização|Texto|300|Texto alfanumérico|
|`PaymentId`|Campo Identificador do Pedido|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|
|`ReceivedDate`|Data em que a transação foi recebida pela Brapag|Texto|19|AAAA-MM-DD HH:mm:SS|
|`ReasonCode`|Código de retorno da Operação|Texto|32|Texto alfanumérico|
|`ReasonMessage`|Mensagem de retorno da Operação|Texto|512|Texto alfanumérico|
|`Status`|Status da Transação|Byte|2|1|
|`ProviderReturnCode`|Código retornado pelo provedor do meio de pagamento (adquirente e bancos)|Texto|32|57|
|`ProviderReturnMessage`|Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)|Texto|512|Transação Aprovada|
|`AuthenticationUrl`|URL para o qual o portador será redirecionado para autenticação |Texto |56 |https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f|

## Cancelando/Estornando uma transação de voucher Alelo

Para cancelar ou estornar uma transação que utilizou voucher Alelo, é necessário fazer um PUT para o recurso Payment conforme o exemplo.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/void?amount=xxx</span></aside>

```json
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void?amount=xxx"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API. |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API. |Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`PaymentId`|Campo Identificador do Pedido. |Guid |36 |Sim|
|`Amount`|Valor a ser cancelado/estornado (ser enviado em centavos). Verifique se a adquirente contratada suporta a operação de cancelamento ou estorno|Número |15 |Não|

### Resposta

```json
{
    "Status": 10,
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "ProviderReasonCode": "9",
    "ProviderReasonMessage": "Operation Successful",
    "Links": [
        {
            "Method": "GET",
            "Rel": "self",
            "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"
        }
    ]
}
```

```shell
{
    "Status": 10,
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "ProviderReasonCode": "9",
    "ProviderReasonMessage": "Operation Successful",
    "Links": [
        {
            "Method": "GET",
            "Rel": "self",
            "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"
        }
    ]
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`Status`|Status da Transação. |Byte |--- |10|
|`ReasonCode`|Código de retorno da Adquirência. |Texto |32 |Texto alfanumérico 
|`ReasonMessage`|Mensagem de retorno da Adquirência. |Texto |512 |Texto alfanumérico

# Pagamentos com Transferência Eletrônica

## Criando uma transação

Para criar uma venda de transferência eletrônica (conhecido como Débito Online), é necessário fazer um POST para o recurso Payment conforme o exemplo.

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{  
    "MerchantOrderId":"2017051109",
    "Customer":
    {  
        "Name":"Nome do Comprador",
        "Identity": "12345678909",
        "IdentityType": "CPF",
        "Email": "comprador@braspag.com.br",
        "Address":
        {
             "Street":"Alameda Xingu",
             "Number":"512",
             "Complement":"27 andar",
             "ZipCode":"12345987",
             "City":"São Paulo",
             "State":"SP",
             "Country":"BRA",
             "District":"Alphaville"
         }
  },
    "Payment":
    {  
        "Provider":"Bradesco",
        "Type":"EletronicTransfer",
        "Amount":10000,
        "ReturnUrl":"http://www.braspag.com.br"
    }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{  
    "MerchantOrderId":"2017051109",
    "Customer":
    {  
        "Name":"Nome do Comprador",
        "Identity": "12345678909",
        "IdentityType": "CPF",
        "Email": "comprador@braspag.com.br",
        "Address":
        {
             "Street":"Alameda Xingu",
             "Number":"512",
             "Complement":"27 andar",
             "ZipCode":"12345987",
             "City":"São Paulo",
             "State":"SP",
             "Country":"BRA",
             "District":"Alphaville"
        }
    },
    "Payment":
    {  
        "Provider":"Bradesco",
        "Type":"EletronicTransfer",
        "Amount":10000,
        "ReturnUrl":"http://www.braspag.com.br"
    }
}
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API. |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API. |Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`MerchantOrderId`|Numero de identificação do Pedido. |Texto |50 |Sim|
|`Customer.Name`|Texto|255|Sim|Nome do comprador|
|`Customer.Identity`|Texto |14 |Sim|Número do RG, CPF ou CNPJ do Cliente| 
|`Customer.IdentityType`|Texto|255|Não|Tipo de documento de identificação do comprador (CPF ou CNPJ)|
|`Customer.Email`|Texto|255|Não|Email do comprador|
|`Customer.Address.Street`|Texto|255|Sim|Endereço de contato do comprador|
|`Customer.Address.Number`|Texto|15|Sim|Número endereço de contato do comprador|
|`Customer.Address.Complement`|Texto|50|Sim|Complemento do endereço de contato do Comprador|
|`Customer.Address.ZipCode`|Texto|9|Sim|CEP do endereço de contato do comprador|
|`Customer.Address.City`|Texto|50|Sim|Cidade do endereço de contato do comprador|
|`Customer.Address.State`|Texto|2|Sim|Estado do endereço de contato do comprador|
|`Customer.Address.Country`|Texto|35|Sim|Pais do endereço de contato do comprador|
|`Customer.Address.District`|Texto|35|Sim|Bairro do endereço de contato do comprador|
|`Payment.Type`|Tipo do Meio de Pagamento. |Texto |100 |Sim|
|`Payment.Amount`|Valor do Pedido (ser enviado em centavos)|Número |15 |Sim|
|`Payment.Provider`|Nome da provedora de Meio de Pagamento|Texto |15 |---|

### Resposta

```json
{
    "MerchantOrderId": "2017051109",
    "Customer": {
        "Name":"Nome do Comprador",
        "Identity": "12345678909",
        "IdentityType": "CPF",
        "Email": "comprador@braspag.com.br",
        "Address":
        {"Street":"Alameda Xingu",
        "Number":"512",
        "Complement":"27 andar",
        "ZipCode":"12345987",
        "City":"São Paulo",
        "State":"SP",
             "Country":"BRA",
             "District":"Alphaville"
            }
    },
    "Payment": {
        "Url": "https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}",
        "PaymentId": "765548b6-c4b8-4e2c-b9b9-6458dbd5da0a",
        "Type": "EletronicTransfer",
        "Amount": 10000,
        "ReceivedDate": "2015-06-25 09:37:55",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "Bradesco",
        "ReturnUrl": "http://www.braspag.com.br",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 0,
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"
            }
        ]
    }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "2017051109",
    "Customer": {
        "Name": "Comprador Teste",
    },
    "Payment": {
        "Url": "https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}",
        "PaymentId": "765548b6-c4b8-4e2c-b9b9-6458dbd5da0a",
        "Type": "EletronicTransfer",
        "Amount": 10000,
        "ReceivedDate": "2015-06-25 09:37:55",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "Bradesco",
        "ReturnUrl": "http://www.braspag.com.br",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 0,
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"
            }
        ]
    }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`PaymentId`|Campo Identificador do Pedido|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|
|`Url`|URL para a qual o comprador deverá ser redirecionado para autenticação da Transferência Eletrônica |Texto |256 |Url de Autenticação|
|`Status`|Status da Transação|Byte|2|1|

# Pagamentos com Boleto

## Boleto Registrado

Com o objetivo de promover maior controle e segurança ao transaiconal de boletos no e-commerce e garantir mais confiabilidade e comodidade aos usuários, a Febraban em conjunto com os Bancos lançou a Nova Plataforma de Cobrança. 

A partir de 21 de julho de 2018 todos os boletos emitidos no e-commerce, obrigatoriamente, terão de ser registrados. [Clique aqui](https://portal.febraban.org.br/pagina/3150/1094/pt-br/servicos-novo-plataforma-boletos) para acessar o comunicado completo.   

Abaixo seguem os procedimentos de migração/filiação de cada banco: 

[Bradesco](https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/24157160-4da2-46d4-a119-60d8f614a842/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Bradesco.pdf)<br />[Banco do Brasil](https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/0f4644c6-da10-42ab-b647-09786d5db5cb/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Banco_do_Brasil.pdf)<br />[Itaú](https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/de2e95e8-441a-4fa2-be01-9b89463477d0/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Ita%C3%BA_v1.1.pdf)<br />[Santander](https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/a8661c34-6341-466a-86cf-078fb5e19626/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Santander.pdf)<br />[Caixa Econômica](https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/fee80b87-2b37-4f19-b293-bb43389025de/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Caixa_v1.1.pdf)

## Criando uma transação de Boleto com Registro

Para gerar um boleto registrado, é necessário fornecer alguns dados a mais do comprador como CPF e endereço. Abaixo temos um exemplo de como criar um pedido com o meio de pagamento boleto. Neste fluxo, é necessário solicitar ao [time de suporte da Braspag](https://suporte.braspag.com.br/hc/pt-br/restricted?return_to=https%3A%2F%2Fsuporte.braspag.com.br%2Fhc%2Fpt-br) a ativação do meio de pagamento. 

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{  
    "MerchantOrderId":"2017091101",
    "Customer":
    {  
        "Name":"Nome do Comprador",
        "Identity":"12345678909",
    "IdentityType":"CPF",
    "Address":{  
       "Street":"Alameda Xingu",
       "Number":"512",
       "Complement":"27 andar",
       "ZipCode":"12345987",
       "City":"São Paulo",
       "State":"SP",
       "Country":"BRA",
       "District":"Alphaville"
     }
    },
    "Payment":
    {  
        "Provider":"Simulado",
    "Type":"Boleto",
    "Amount":10000,
    "BoletoNumber":"2017091101",
    "Assignor": "Empresa Teste",
        "Demonstrative": "Desmonstrative Teste",
        "ExpirationDate": "2017-12-31",
        "Identification": "12346578909",
        "Instructions": "Aceitar somente até a data de vencimento."     
    }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{  
    "MerchantOrderId":"2017091101",
    "Customer":
    {  
        "Name":"Nome do Comprador",
        "Identity":"12345678909",
    "IdentityType":"CPF",
    "Address":{
        "Street":"Alameda Xingu",
        "Number":"512",
        "Complement":"27 andar",
        "ZipCode":"12345987",
        "City":"São Paulo",
        "State":"SP",
        "Country":"BRA",
        "District":"Alphaville"
     }
    },
    "Payment":
    {  
        "Provider":"Simulado",
    "Type":"Boleto",
    "Amount":10000,
    "BoletoNumber":"2017091101",
    "Assignor": "Empresa Teste",
        "Demonstrative": "Desmonstrative Teste",
        "ExpirationDate": "2017-12-31",
        "Identification": "12346578909",
        "Instructions": "Aceitar somente até a data de vencimento."      
    }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|vide tabela abaixo|Sim|Numero de identificação do Pedido. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Name`|Texto|vide tabela abaixo|Sim|Nome do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Identity`|Texto |14 |Sim|Número do RG, CPF ou CNPJ do Cliente| 
|`Customer.IdentityType`|Texto|255|Sim|Tipo de documento de identificação do comprador (CPF ou CNPJ)|
|`Customer.Address.Street`|Texto|vide tabela abaixo|Sim|Endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.Number`|Texto|vide tabela abaixo|Sim|Número endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.Complement`|Texto|vide tabela abaixo|Não|Complemento do endereço de contato do Comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.ZipCode`|Texto|8|Sim|CEP do endereço de contato do comprador|
|`Customer.Address.District`|Texto|vide tabela abaixo|Sim|Bairro do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.City`|Texto|vide tabela abaixo|Sim|Cidade do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.State`|Texto|2|Sim|Estado do endereço de contato do comprador|
|`Customer.Address.Country`|Texto|35|Sim|Pais do endereço de contato do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento de Boleto. [Clique aqui](https://braspag.github.io/manual/braspag-pagador#providers-para-boleto-com-registro) para acessar a lista de provedoras. |
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento. No caso "Boleto"|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (deve ser enviado em centavos)|
|`Payment.BoletoNumber`|Texto |vide tabela abaixo|Não|Número do Boleto ("Nosso Número"). Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo|
|`Payment.Assignor`|Texto |200|Não|Nome do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento|
|`Payment.Demonstrative`|Texto |vide tabela abaixo|Não|Texto de Demonstrativo. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Payment.ExpirationDate`|Date |10 |Não|Dias para vencer o boleto. Caso não esteja previamente cadastrado no meio de pagamento, o envio deste campo é obrigatório. Se enviado na requisição, sobrepõe o valor configurado no meio de pagamento.|
|`Payment.Identification`|Texto |14 |Não|CNPJ do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento|
|`Payment.Instructions`|Texto |vide tabela abaixo|Não|Instruções do Boleto. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Payment.NullifyDays`|Número |2 |Não|Prazo para baixa automática do boleto. O cancelamento automático do boleto acontecerá após o número de dias estabelecido neste campo contado a partir da data do vencimento. Ex.: um boleto com vencimento para 15/12 que tenha em seu registro o prazo para baixa de 5 dias, poderá ser pago até 20/12, após esta data o título é cancelado. *Recurso válido somente para boletos registrados do Banco Santander.|

### Tabela de Especificação de quantidade de caracteres do campo por Provider

| Propriedade | Bradesco | BancoBanco do Brasil | Itaú Shopline | Santander | Caixa Econômica | Citibank |
|------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:--------------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------:|
| Provider | Bradesco2 | BancoDoBrasil2 | ItauShopline | Santander2 | Caixa2 | Citibank2 |
| `MerchantOrderId` | 27 (OBS 1) | 50 (OBS 1) | 8 | 50 (OBS 1) | 11 (OBS 1) | 10 (OBS 1) |
| `Payment.BoletoNumber` | 11 (OBS 2) | 9 (OBS 2) | 8 (OBS 1) | 13 (OBS 2) | 14 (OBS 2) | 11 (OBS 2) |
| `Customer.Name` | 34 (OBS 3) | 60 (OBS,3) | 30 | 40 (OBS 3) | 40 (OBS 3) | 50 (OBS 3) |
| `Customer.Address.Street`; `Customer.Address.Number`; `Customer.Address.Complement`; `Customer.Address.District` | Street: 70 (OBS 4); Number: 10 (OBS 4); Complement: 20 (OBS 4); District: 50 (OBS 4) | Os campos devem totalizar até 60 caracteres | Street, Number e Complement devem totalizar até 40 caracteres;  District: 15 | Street, Number e Complement devem totalizar até 40 caracteres (OBS 3); District: 15 (OBS 3) | Street, Number e Complement devem totalizar até 40 caracteres (OBS 3); District: 15 (OBS 3) | Street, Number e Complement devem totalizar até 40 caracteres (OBS 3); District: 50 (OBS 3) |
| `Customer.Address.City` | 50 (OBS 4) | 18 (OBS 3) | 15 | 30 (OBS 3) | 15 (OBS 3) | 50 (OBS 4) |
| `Payment.Instructions` | 450 | 450 | não é enviado ao banco | 450 | 450 | 450 |
| `Payment.Demonstrative` | 255 | não é enviado ao banco | não é enviado ao banco | 255 | 255 | 255 |
| &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; |  |  |  |  |  |  |
| Particularidades e Observações: | OBS 1: letras, números e caracteres como "_" e "$" | OBS 1: não é enviado ao banco | OBS geral: o Pagador trunca automaticamente os campos | OBS 1: não é enviado ao banco | OBS 1: quando ultrapassa os 11 dígitos, o pagador considera o número incremental cadastrado no admin | OBS geral: o Pagador não valida os campos, porém é truncado automaticamente pelo Banco |
|  | OBS 2: o valor é presistido no banco | OBS 2: quando enviado acima de 9 posições, o Pagador trunca automaticamente, considerando os últimos 9 dígitos | OBS 1: o nosso número será sempre igual ao Order ID, sendo que o pagador valida o tamanho do campo | OBS 2: o valor é persistido no banco | OBS 2: inicia-se com "14" + 14 dígitos + dígito verificador gerado automaticamente. Quando maior que 14, o Pagador trunca pegando os últimos 14 digitos | OBS 1: quando fora do limite, o pagador gera um número incremental configurado a partir do Admin |
|  | OBS 3: o Pagador trunca automaticamente | OBS 3: são aceitos como caracteres válidos: as letras de A a Z (MAIÚSCULAS); caracteres especiais de conjunção: hífen (-), apóstrofo ('). Quando utilizados não pode conter espaços entre as letras; Exemplos corretos: D'EL-REI, D'ALCORTIVO, SANT'ANA. Exemplos incorretos: D'EL - REI; até um espaço em branco entre palavras |  | OBS 3: o valor é persistido no Pagador | OBS 3: o valor é persistido no Pagador | OBS 2: quando fora do limite, o pagador gera um número aleatório |
|  | OBS 4: o valor é persistido no Pagador |  |  |  |  | OBS 3: o Pagador trunca até o limite permitido e remove os caracteres especiais e acentuados |
|  |  |  |  |  |  | OBS 4: não é enviado para banco |

### Resposta

```json
{
  "MerchantOrderId": "2017091101",
  "Customer": {
    "Name": "Nome do Comprador",
    "Identity": "12345678909",
    "IdentityType": "CPF",
    "Address": {
      "Street": "Alameda Xingu",
      "Number": "512",
      "Complement": "27 andar",
      "ZipCode": "12345987",
      "City": "São Paulo",
      "State": "SP",
      "Country": "BRA"
    }
  },
  "Payment": {
    "Instructions": "Aceitar somente até a data de vencimento.",
    "ExpirationDate": "2017-12-31",
    "Demonstrative": "Desmonstrative Teste",
    "Url": "https://homologacao.pagador.com.br/post/pagador/reenvia.asp/d24b0aa4-21c9-449d-b85c-6279333f070f",
    "BoletoNumber": "2017091101",
    "BarCodeNumber": "00091739000000100000494250000000263400656560",
    "DigitableLine": "00090.49420 50000.000260 34006.565609 1 73900000010000",
    "Assignor": "Empresa Teste",
    "Address": "Av. Brigadeiro Faria Lima, 160",
    "Identification": "12346578909",
    "PaymentId": "d24b0aa4-21c9-449d-b85c-6279333f070f",
    "Type": "Boleto",
    "Amount": 10000,
    "ReceivedDate": "2017-05-11 16:42:55",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Status": 1,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/d24b0aa4-21c9-449d-b85c-6279333f070f"
      }
    ]
  }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
  "MerchantOrderId": "2017091101",
  "Customer": {
    "Name": "Nome do Comprador",
    "Identity": "12345678909",
    "IdentityType": "CPF",
    "Address": {
      "Street": "Alameda Xingu",
      "Number": "512",
      "Complement": "27 andar",
      "ZipCode": "12345987",
      "City": "São Paulo",
      "State": "SP",
      "Country": "BRA",
     "District":"Alphaville"
    }
  },
  "Payment": {
    "Instructions": "Aceitar somente até a data de vencimento.",
    "ExpirationDate": "2017-12-31",
    "Demonstrative": "Desmonstrative Teste",
    "Url": "https://homologacao.pagador.com.br/post/pagador/reenvia.asp/d24b0aa4-21c9-449d-b85c-6279333f070f",
    "BoletoNumber": "2017091101",
    "BarCodeNumber": "00091739000000100000494250000000263400656560",
    "DigitableLine": "00090.49420 50000.000260 34006.565609 1 73900000010000",
    "Assignor": "Empresa Teste",
    "Address": "Av. Brigadeiro Faria Lima, 160",
    "Identification": "12346578909",
    "PaymentId": "d24b0aa4-21c9-449d-b85c-6279333f070f",
    "Type": "Boleto",
    "Amount": 10000,
    "ReceivedDate": "2017-05-11 16:42:55",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Status": 1,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/d24b0aa4-21c9-449d-b85c-6279333f070f"
      }
    ]
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`PaymentId`|Campo Identificador do Pedido. |Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`ExpirationDate`|Data de expiração. |Texto |10 |2014-12-25 |
|`Url`|URL do Boleto gerado |string |256 |https://.../pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d |
|`Number`|"NossoNumero" gerado. |Texto|50 |2017091101 |
|`BarCodeNumber`|Representação numérica do código de barras. |Texto |44 |00091628800000157000494250100000001200656560 |
|`DigitableLine`|Linha digitável. |Texto |256 |00090.49420 50100.000004 12006.565605 1 62880000015700 |
|`Address`|Endereço do Loja cadastrada no banco |Texto |256 |Av. Teste, 160 |
|`Status`|Status da Transação. |Byte |--- |1|

## Criando uma transação de Boleto Registrado Bradesco com dados de afiliação 

Para gerar um boleto registrado, é necessário fornecer alguns dados a mais do comprador como CPF e endereço. Exemplificamos a seguir o envio dos dados de afiliação via requisição para geração de boletos registrados do Banco Bradesco. Neste fluxo não é necessário ter o meio de pagamento previamente cadastrano, basta enviar as credenciais via requisição. 

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{
    "MerchantOrderId": "201803061142",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "São Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Provider": "Bradesco2",
        "Type": "Boleto",
        "Amount": 100,
        "BoletoNumber": "2018030601",
        "Assignor": "Empresa Teste",
        "Demonstrative": "Desmonstrative Teste",
        "ExpirationDate": "2018-03-31",
        "Identification": "12346578909",
        "Instructions": "Aceitar somente até a data de vencimento.",
        "credentials": {
            "agency": "1234",
            "account": "123456-7",
            "wallet": "26",
            "code": "100001234",
            "signature": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M",
            "username": "consultasondaboleto@nomefantasia.com.br",
            "password": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M"
        }
    }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "201803061142",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "São Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Provider": "Bradesco2",
        "Type": "Boleto",
        "Amount": 100,
        "BoletoNumber": "2018030601",
        "Assignor": "Empresa Teste",
        "Demonstrative": "Desmonstrative Teste",
        "ExpirationDate": "2018-03-31",
        "Identification": "12346578909",
        "Instructions": "Aceitar somente até a data de vencimento.",
        "credentials": {
            "agency": "1234",
            "account": "123456-7",
            "wallet": "26",
            "code": "100001234",
            "signature": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M",
            "username": "consultasondaboleto@nomefantasia.com.br",
            "password": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M"
        }
    }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|vide tabela abaixo|Sim|Numero de identificação do Pedido. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Name`|Texto|vide tabela abaixo|Sim|Nome do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Identity`|Texto |14 |Sim|Número do RG, CPF ou CNPJ do Cliente| 
|`Customer.IdentityType`|Texto|255|Sim|Tipo de documento de identificação do comprador (CPF ou CNPJ)|
|`Customer.Address.Street`|Texto|vide tabela abaixo|Sim|Endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.Number`|Texto|vide tabela abaixo|Sim|Número endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.Complement`|Texto|vide tabela abaixo|Não|Complemento do endereço de contato do Comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.ZipCode`|Texto|8|Sim|CEP do endereço de contato do comprador|
|`Customer.Address.District`|Texto|vide tabela abaixo|Sim|Bairro do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.City`|Texto|vide tabela abaixo|Sim|Cidade do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.State`|Texto|2|Sim|Estado do endereço de contato do comprador|
|`Customer.Address.Country`|Texto|35|Sim|Pais do endereço de contato do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento de Boleto|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento. No caso "Boleto"|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (deve ser enviado em centavos)|
|`Payment.BoletoNumber`|Texto |vide tabela abaixo|Não|Número do Boleto ("Nosso Número"). Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo|
|`Payment.Assignor`|Texto |200|Não|Nome do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento|
|`Payment.Demonstrative`|Texto |vide tabela abaixo|Não|Texto de Demonstrativo. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Payment.ExpirationDate`|Date |10 |Não|Dias para vencer o boleto. Caso não esteja previamente cadastrado no meio de pagamento, o envio deste campo é obrigatório. Se enviado na requisição, sobrepõe o valor configurado no meio de pagamento.|
|`Payment.Identification`|Texto |14 |Não|CNPJ do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento|
|`Payment.Instructions`|Texto |vide tabela abaixo|Não|Instruções do Boleto. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Payment.Credentials.Agency`|Número |4 |Sim|O número da agência bancária deve conter 4 posições; o dígito verificador não deve ser enviado. Caso necessário, completar com zeros à esquerda. Ex.: 0123.|
|`Payment.Credentials.Account`|Número |7 |Sim|O número da conta bancária deve ser enviado com 7 posições, considerando o dígito verificador. Caso necessário, completar com zeros à esquerda. Ex.: 001234-5.|
|`Payment.Credentials.Wallet`|Número |3 |Sim|Número da carteira registrada gerada pelo Banco. Ex.: 26|
|`Payment.Credentials.Code`|Número |9 |Sim|Código do cliente gerado pelo Bradesco. Informação disponível em [Portal Bradesco](https://meiosdepagamentobradesco.com.br/gerenciadorapi/login.jsp). Ex.: 100012345|
|`Payment.Credentials.Signature`|Texto |50 |Sim|Chave de Segurança gerada no [Portal Bradesco](https://meiosdepagamentobradesco.com.br/gerenciadorapi/login.jsp). Ex.: asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M|
|`Payment.Credentials.Username`|Texto |100 |Sim|Usuário gerado no [Portal Bradesco](https://meiosdepagamentobradesco.com.br/gerenciadorapi/login.jsp).|
|`Payment.Credentials.Password`|Texto |50 |Sim|Chave de Segurança gerada no [Portal Bradesco](https://meiosdepagamentobradesco.com.br/gerenciadorapi/login.jsp).|

[Tabela de Especificação de quantidade de caracteres dos campos do Boleto Registrado](https://braspag.github.io//manual/braspag-pagador#tabela-de-especifica%C3%A7%C3%A3o-de-quantidade-de-caracteres-do-campo-por-provider).

### Resposta

```json
{
    "MerchantOrderId": "201803061142",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "São Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Instructions": "Aceitar somente até a data de vencimento.",
        "ExpirationDate": "2018-03-31",
        "Demonstrative": "Desmonstrative Teste",
        "Url": "https://www.pagador.com.br/post/pagador/reenvia.asp/a94c5614-374c-4df6-8535-e071a57bd033",
        "BoletoNumber": "2018030601",
        "BarCodeNumber": "23792374296020123456501016630004874800000000100",
        "DigitableLine": "23792.37429 12345.803065 01016.630004 8 74800000000100",
        "Assignor": "Empresa Teste",
        "Address": "Rua Leão XIII, 500",
        "Identification": "12346578909",
        "IsRecurring": false,
        "Credentials": {
            "Agency": "1234",
            "Account": "123456-7",
            "Wallet": "26",
            "Code": "100001234",
            "Password": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M",
            "Signature": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M",
            "Username": "consultasondaboleto@nomefantasia.com.br"
        },
        "PaymentId": "werr56deg-374c-1a2d-8535-e071a57bd033",
        "Type": "Boleto",
        "Amount": 100,
        "ReceivedDate": "2018-03-06 11:42:56",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "Bradesco2",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 1,
        "ProviderReturnCode": "0",
        "ProviderReturnMessage": "REGISTRO EFETUADO COM SUCESSO - CIP NAO CONFIRMADA",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquery.braspag.com.br/v2/sales/werr56deg-374c-1a2d-8535-e071a57bd033"
            }
        ]
    }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "201803061142",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "São Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Instructions": "Aceitar somente até a data de vencimento.",
        "ExpirationDate": "2018-03-31",
        "Demonstrative": "Desmonstrative Teste",
        "Url": "https://www.pagador.com.br/post/pagador/reenvia.asp/a94c5614-374c-4df6-8535-e071a57bd033",
        "BoletoNumber": "2018030601",
        "BarCodeNumber": "23792374296020123456501016630004874800000000100",
        "DigitableLine": "23792.37429 12345.803065 01016.630004 8 74800000000100",
        "Assignor": "Empresa Teste",
        "Address": "Rua Leão XIII, 500",
        "Identification": "12346578909",
        "IsRecurring": false,
        "Credentials": {
            "Agency": "1234",
            "Account": "123456-7",
            "Wallet": "26",
            "Code": "100001234",
            "Password": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M",
            "Signature": "asdasd7325fgh-vUrPa9d8a7sdas7sdf8sdfiV0Z-_y_M",
            "Username": "consultasondaboleto@nomefantasia.com.br"
        },
        "PaymentId": "werr56deg-374c-1a2d-8535-e071a57bd033",
        "Type": "Boleto",
        "Amount": 100,
        "ReceivedDate": "2018-03-06 11:42:56",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "Bradesco2",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 1,
        "ProviderReturnCode": "0",
        "ProviderReturnMessage": "REGISTRO EFETUADO COM SUCESSO - CIP NAO CONFIRMADA",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquery.braspag.com.br/v2/sales/werr56deg-374c-1a2d-8535-e071a57bd033"
            }
        ]
    }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`PaymentId`|Campo Identificador do Pedido. |Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`ExpirationDate`|Data de expiração. |Texto |10 |2014-12-25 |
|`Url`|URL do Boleto gerado |string |256 |https://.../pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d |
|`Number`|"NossoNumero" gerado. |Texto|50 |2017091101 |
|`BarCodeNumber`|Representação numérica do código de barras. |Texto |44 |00091628800000157000494250100000001200656560 |
|`DigitableLine`|Linha digitável. |Texto |256 |00090.49420 50100.000004 12006.565605 1 62880000015700 |
|`Address`|Endereço do Loja cadastrada no banco |Texto |256 |Av. Teste, 160 |
|`Status`|Status da Transação. |Byte |--- |1|

## Criando uma transação de Boleto Registrado Banco do Brasil com dados de afiliação 

Para gerar um boleto registrado, é necessário fornecer alguns dados a mais do comprador como CPF e endereço. Exemplificamos a seguir o envio dos dados de afiliação via requisição para geração de boletos registrados do Banco do Brasil. Neste fluxo não é necessário ter o meio de pagamento previamente cadastrano, basta enviar as credenciais via requisição. 

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{
    "MerchantOrderId": "201803061615",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "Sao Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Provider": "BancoDoBrasil2",
        "Type": "Boleto",
        "Amount": 100,
        "BoletoNumber": "2018030601",
        "Assignor": "Empresa Teste",
        "Demonstrative": "Desmonstrative Teste",
        "ExpirationDate": "2018-03-31",
        "Identification": "12346578909",
        "Instructions": "Aceitar somente até a data de vencimento.",
        "credentials": {
            "agency": "1234-1",
            "account": "5678-2",
            "code": "1234567",
            "agreement": "123456"

        }
    }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "201803061615",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "Sao Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Provider": "BancoDoBrasil2",
        "Type": "Boleto",
        "Amount": 100,
        "BoletoNumber": "2018030601",
        "Assignor": "Empresa Teste",
        "Demonstrative": "Desmonstrative Teste",
        "ExpirationDate": "2018-03-31",
        "Identification": "12346578909",
        "Instructions": "Aceitar somente até a data de vencimento.",
        "credentials": {
            "agency": "1234-1",
            "account": "5678-2",
            "code": "1234567",
            "agreement": "123456"

        }
    }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|vide tabela abaixo|Sim|Numero de identificação do Pedido. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Name`|Texto|vide tabela abaixo|Sim|Nome do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Identity`|Texto |14 |Sim|Número do RG, CPF ou CNPJ do Cliente| 
|`Customer.IdentityType`|Texto|255|Sim|Tipo de documento de identificação do comprador (CPF ou CNPJ)|
|`Customer.Address.Street`|Texto|vide tabela abaixo|Sim|Endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.Number`|Texto|vide tabela abaixo|Sim|Número endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.Complement`|Texto|vide tabela abaixo|Não|Complemento do endereço de contato do Comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.ZipCode`|Texto|8|Sim|CEP do endereço de contato do comprador|
|`Customer.Address.District`|Texto|vide tabela abaixo|Sim|Bairro do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.City`|Texto|vide tabela abaixo|Sim|Cidade do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Customer.Address.State`|Texto|2|Sim|Estado do endereço de contato do comprador|
|`Customer.Address.Country`|Texto|35|Sim|Pais do endereço de contato do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento de Boleto|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento. No caso "Boleto"|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (deve ser enviado em centavos)|
|`Payment.BoletoNumber`|Texto |vide tabela abaixo|Não|Número do Boleto ("Nosso Número"). Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo|
|`Payment.Assignor`|Texto |200|Não|Nome do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento|
|`Payment.Demonstrative`|Texto |vide tabela abaixo|Não|Texto de Demonstrativo. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Payment.ExpirationDate`|Date |10 |Não|Dias para vencer o boleto. Caso não esteja previamente cadastrado no meio de pagamento, o envio deste campo é obrigatório. Se enviado na requisição, sobrepõe o valor configurado no meio de pagamento.|
|`Payment.Identification`|Texto |14 |Não|CNPJ do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento|
|`Payment.Instructions`|Texto |vide tabela abaixo|Não|Instruções do Boleto. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)|
|`Payment.Credentials.Agency`|Número |10 |Sim|Número da agência bancária. O dígito verificadro da agência deve ser enviado. Ex.: 0123-1.|
|`Payment.Credentials.Account`|Número |10 |Sim|Número da conta bancária. O dígito verificador da conta deve ser enviado. Ex.: 123456-2.|
|`Payment.Credentials.Code`|Número |7 |Sim|Número do Convênio de Cobrança fornecido pelo Banco do Brasil no momento da liberação do produto. Ex.: 1234567|
|`Payment.Credentials.Agreement`|Número |6 |Sim |Convênio de Comércio Eletrônico fornecido pelo Banco do Brasil no momento da liberação do produto. |

[Tabela de Especificação de quantidade de caracteres dos campos do Boleto Registrado](https://braspag.github.io//manual/braspag-pagador#tabela-de-especifica%C3%A7%C3%A3o-de-quantidade-de-caracteres-do-campo-por-provider).

### Resposta

```json
{
    "MerchantOrderId": "201803061615",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "Sao Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Instructions": "Aceitar somente até a data de vencimento.",
        "ExpirationDate": "2018-03-31",
        "Demonstrative": "Desmonstrative Teste",
        "Url": "https://www.pagador.com.br/post/pagador/reenvia.asp/c78699d8-ffba-4f8a-aecf-s5da5s4d5a",
        "BoletoNumber": "2018030601",
        "BarCodeNumber": "",
        "DigitableLine": "",
        "Assignor": "Empresa Teste",
        "Address": "Alameda Joaquim Eugênio de Lima , 187, Sala 92, 9 Andar CEP: 01403-001, São Paulo, SP",
        "Identification": "12346578909",
        "IsRecurring": false,
        "Credentials": {
            "Agency": "1234-1",
            "Account": "4567-2",
            "Agreement": "123456",
            "Code": "1234567"
        },
        "PaymentId": "c78699d8-ffba-4f8a-aecf-s5da5s4d5a",
        "Type": "Boleto",
        "Amount": 100,
        "ReceivedDate": "2018-03-06 16:14:38",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "BancoDoBrasil2",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 1,
        "ProviderReturnCode": "0",
        "ProviderReturnMessage": "Transação criada com sucesso",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquery.braspag.com.br/v2/sales/c78699d8-ffba-4f8a-aecf-s5da5s4d5a"
            }
        ]
    }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "201803061615",
    "Customer": {
        "Name": "Nome do Comprador",
        "Identity": "42156145890",
        "IdentityType": "CPF",
        "Address": {
            "Street": "Alameda Xingu",
            "Number": "512",
            "Complement": "27 andar",
            "ZipCode": "06455030",
            "City": "Sao Paulo",
            "State": "SP",
            "Country": "BRA",
            "District": "Alphaville"
        }
    },
    "Payment": {
        "Instructions": "Aceitar somente até a data de vencimento.",
        "ExpirationDate": "2018-03-31",
        "Demonstrative": "Desmonstrative Teste",
        "Url": "https://www.pagador.com.br/post/pagador/reenvia.asp/c78699d8-ffba-4f8a-aecf-s5da5s4d5a",
        "BoletoNumber": "2018030601",
        "BarCodeNumber": "",
        "DigitableLine": "",
        "Assignor": "Empresa Teste",
        "Address": "Alameda Joaquim Eugênio de Lima , 187, Sala 92, 9 Andar CEP: 01403-001, São Paulo, SP",
        "Identification": "12346578909",
        "IsRecurring": false,
        "Credentials": {
            "Agency": "1234-1",
            "Account": "4567-2",
            "Agreement": "123456",
            "Code": "1234567"
        },
        "PaymentId": "c78699d8-ffba-4f8a-aecf-s5da5s4d5a",
        "Type": "Boleto",
        "Amount": 100,
        "ReceivedDate": "2018-03-06 16:14:38",
        "Currency": "BRL",
        "Country": "BRA",
        "Provider": "BancoDoBrasil2",
        "ReasonCode": 0,
        "ReasonMessage": "Successful",
        "Status": 1,
        "ProviderReturnCode": "0",
        "ProviderReturnMessage": "Transação criada com sucesso",
        "Links": [
            {
                "Method": "GET",
                "Rel": "self",
                "Href": "https://apiquery.braspag.com.br/v2/sales/c78699d8-ffba-4f8a-aecf-s5da5s4d5a"
            }
        ]
    }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`PaymentId`|Campo Identificador do Pedido. |Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`ExpirationDate`|Data de expiração. |Texto |10 |2014-12-25 |
|`Url`|URL do Boleto gerado |string |256 |https://.../pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d |
|`Number`|"NossoNumero" gerado. |Texto|50 |2017091101 |
|`BarCodeNumber`|Representação numérica do código de barras. O Banco do Brasil não retorna este dado no response da transação.|-- |-- |-- |
|`DigitableLine`|Linha digitável. O Banco do Brasil não retorna este dado no response da transação.|-- |-- |-- |
|`Address`|Endereço do Loja cadastrada no banco |Texto |256 |Av. Teste, 160 |
|`Status`|Status da Transação. |Byte |--- |1|

# Pagamentos Recorrentes

* **Recorrente**: A Recorrência Inteligente é um recurso indispensável para estabelicimentos que precisam cobrar regularmente por seus produtos/serviços.
É muito utilizado para assinaturas de revistas, mensalidades, licenças de software, entre outros. Os lojistas contarão com recursos diferenciados para modelar sua cobrança de acordo com o seu negócio, pois toda parametrização é configurável, tais como: periodicidade, data de início e fim, quantidade de tentativas, intervalo entre elas, entre outros.

## Autorizar uma transação e agendar as próximas recorrências

Neste exemplo, uma transação é submetida para autorização, e quando aprovada, a recorrência é agendada conforme as regras especificadas na transação. Uma transação recorrente não poderá ser parcelada.

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{
   "MerchantOrderId":"2017051113",
   "Customer":{
      "Name":"Nome do Cliente"
   },
   "Payment":{
     "Provider":"Simulado",
     "Type":"CreditCard",
     "Amount":10000,
     "Installments":1,
     "CreditCard":{
         "CardNumber":"4551870000000181",
         "Holder":"Nome do Portador",
         "ExpirationDate":"12/2021",
         "SecurityCode":"123",
         "Brand":"Visa"
     },
     "RecurrentPayment":{
       "AuthorizeNow":"true",
       "EndDate":"2019-12-31",
       "Interval":"Monthly"
     }
   }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
   "MerchantOrderId":"2017051113",
   "Customer":{
      "Name":"Nome do Cliente"
   },
   "Payment":{
     "Provider":"Simulado",
     "Type":"CreditCard",
     "Amount":10000,
     "Installments":1,
     "CreditCard":{
         "CardNumber":"4551870000000181",
         "Holder":"Nome do Portador",
         "ExpirationDate":"12/2021",
         "SecurityCode":"123",
         "Brand":"Visa"
     },
     "RecurrentPayment":{
       "AuthorizeNow":"true",
       "EndDate":"2019-12-31",
       "Interval":"Monthly"
     }
   }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|50|Sim|Numero de identificação do Pedido|
|`Customer.Name`|Texto|255|Sim|Nome do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (ser enviado em centavos)|
|`Payment.Installments`|Número|2|Sim|Número de Parcelas|
|`Payment.RecurrentPayment.EndDate`|Texto |10 |Não|Data para termino da recorrência|
|`Payment.RecurrentPayment.Interval`|Texto |10 |Não|Intervalo da recorrência.<br /><ul><li>Monthly (Default) </li><li>Bimonthly </li><li>Quarterly </li><li>SemiAnnual </li><li>Annual</li></ul> |
|`Payment.RecurrentPayment.AuthorizeNow`|Booleano |--- |Sim|Se true, autoriza no momento da requisição. false para agendamento futuro|
|`CreditCard.CardNumber`|Texto|16|Sim|Número do Cartão do comprador|
|`CreditCard.Holder`|Texto|25|Sim|Nome do Comprador impresso no cartão|
|`CreditCard.ExpirationDate`|Texto|7|Sim|Data de validade impresso no cartão, no formato MM/AAAA|
|`CreditCard.SecurityCode`|Texto|4|Sim|Código de segurança impresso no verso do cartão|
|`CreditCard.Brand`|Texto|10|Sim |Bandeira do cartão|

### Resposta

```json
{
  "MerchantOrderId": "2017051113",
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "Recurrent": false,
    "CreditCard": {
      "CardNumber": "455187******0181",
      "Holder": "Nome do Portador",
      "ExpirationDate": "12/2021",
      "SaveCard": false,
      "Brand": "Visa"
    },
    "ProofOfSale": "5646418",
    "AcquirerTransactionId": "0511045646418",
    "AuthorizationCode": "100024",
    "PaymentId": "067f73ce-62fb-4d76-871d-0bcbb88fbd22",
    "Type": "CreditCard",
    "Amount": 10000,
    "ReceivedDate": "2017-05-11 16:56:46",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Status": 1,
    "ProviderReturnCode": "4",
    "ProviderReturnMessage": "Operation Successful",
    "RecurrentPayment": {
      "RecurrentPaymentId": "808d3631-47ca-43b4-97f5-bd29ab06c271",
      "ReasonCode": 0,
      "ReasonMessage": "Successful",
      "NextRecurrency": "2017-06-11",
      "EndDate": "2019-12-31",
      "Interval": "Monthly",
      "Link": {
        "Method": "GET",
        "Rel": "recurrentPayment",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/808d3631-47ca-43b4-97f5-bd29ab06c271"
      },
      "AuthorizeNow": true
    },
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/067f73ce-62fb-4d76-871d-0bcbb88fbd22"
      },
      {
        "Method": "PUT",
        "Rel": "capture",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/067f73ce-62fb-4d76-871d-0bcbb88fbd22/capture"
      },
      {
        "Method": "PUT",
        "Rel": "void",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/067f73ce-62fb-4d76-871d-0bcbb88fbd22/void"
      }
    ]
  }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
  "MerchantOrderId": "2017051113",
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "Recurrent": false,
    "CreditCard": {
      "CardNumber": "455187******0181",
      "Holder": "Nome do Portador",
      "ExpirationDate": "12/2021",
      "SaveCard": false,
      "Brand": "Visa"
    },
    "ProofOfSale": "5646418",
    "AcquirerTransactionId": "0511045646418",
    "AuthorizationCode": "100024",
    "PaymentId": "067f73ce-62fb-4d76-871d-0bcbb88fbd22",
    "Type": "CreditCard",
    "Amount": 10000,
    "ReceivedDate": "2017-05-11 16:56:46",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Status": 1,
    "ProviderReturnCode": "4",
    "ProviderReturnMessage": "Operation Successful",
    "RecurrentPayment": {
      "RecurrentPaymentId": "808d3631-47ca-43b4-97f5-bd29ab06c271",
      "ReasonCode": 0,
      "ReasonMessage": "Successful",
      "NextRecurrency": "2017-06-11",
      "EndDate": "2019-12-31",
      "Interval": "Monthly",
      "Link": {
        "Method": "GET",
        "Rel": "recurrentPayment",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/808d3631-47ca-43b4-97f5-bd29ab06c271"
      },
      "AuthorizeNow": true
    },
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/067f73ce-62fb-4d76-871d-0bcbb88fbd22"
      },
      {
        "Method": "PUT",
        "Rel": "capture",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/067f73ce-62fb-4d76-871d-0bcbb88fbd22/capture"
      },
      {
        "Method": "PUT",
        "Rel": "void",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/067f73ce-62fb-4d76-871d-0bcbb88fbd22/void"
      }
    ]
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`RecurrentPaymentId`|ID que representa a recorrência, utilizada para consultas e alterações futuras |Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`NextRecurrency`|Data de quando acontecerá a próxima recorrência |Texto |7 |05/2019 (MM/YYYY) |
|`EndDate`|Data do fim da recorrência |Texto |7 |05/2019 (MM/YYYY) |
|`Interval`|Intervalo entre as recorrência. |Texto |10 |<ul><li>Monthly</li><li>Bimonthly </li><li>Quarterly </li><li>SemiAnnual </li><li>Annual</li></ul> |
|`AuthorizeNow`|Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não. |Booleano |--- |true ou false |

## Agendamento de uma Recorrência

Diferentementemente da recorrência anterior, este exemplo não autoriza imediatamente, mas apenas agenda uma autorização futura. Quando esta autorização tiver sucesso, então o agendamento das próximas recorrências será efetivada.

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{
   "MerchantOrderId":"2017051114",
   "Customer":{
      "Name":"Nome do Cliente"
   },
   "Payment":{
     "Provider":"Simulado",
     "Type":"CreditCard",
     "Amount":10000,
     "Installments":1,
     "CreditCard":{
         "CardNumber":"4551870000000181",
         "Holder":"Nome do Portador",
         "ExpirationDate":"12/2021",
         "SecurityCode":"123",
         "Brand":"Visa"
     },
     "RecurrentPayment":{
       "AuthorizeNow":"false",
       "StartDate":"2017-12-31",
       "EndDate":"2019-12-31",
       "Interval":"Monthly"
     }
   }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
   "MerchantOrderId":"2017051114",
   "Customer":{
      "Name":"Nome do Cliente"
   },
   "Payment":{
     "Provider":"Simulado",
     "Type":"CreditCard",
     "Amount":10000,
     "Installments":1,
     "CreditCard":{
         "CardNumber":"4551870000000181",
         "Holder":"Nome do Portador",
         "ExpirationDate":"12/2021",
         "SecurityCode":"123",
         "Brand":"Visa"
     },
     "RecurrentPayment":{
       "AuthorizeNow":"false",
       "StartDate":"2017-12-31",
       "EndDate":"2019-12-31",
       "Interval":"Monthly"
     }
   }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|50|Sim|Numero de identificação do Pedido|
|`Customer.Name`|Texto|255|Sim|Nome do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (ser enviado em centavos)|
|`Payment.Installments`|Número|2|Sim|Número de Parcelas|
|`Payment.RecurrentPayment.StartDate`|Texto |10 |Não|Data para início da recorrência|
|`Payment.RecurrentPayment.EndDate`|Texto |10 |Não|Data para termino da recorrência|
|`Payment.RecurrentPayment.Interval`|Texto |10 |Não|Intervalo da recorrência.<br /><ul><li>Monthly (Default) </li><li>Bimonthly </li><li>Quarterly </li><li>SemiAnnual </li><li>Annual</li></ul> |
|`Payment.RecurrentPayment.AuthorizeNow`|Booleano |--- |Sim|Se true, autoriza no momento da requisição. false para agendamento futuro|
|`CreditCard.CardNumber`|Texto|16|Sim|Número do Cartão do comprador|
|`CreditCard.Holder`|Texto|25|Sim|Nome do Comprador impresso no cartão|
|`CreditCard.ExpirationDate`|Texto|7|Sim|Data de validade impresso no cartão, no formato MM/AAAA|
|`CreditCard.SecurityCode`|Texto|4|Sim|Código de segurança impresso no verso do cartão|
|`CreditCard.Brand`|Texto|10|Sim |Bandeira do cartão|

### Resposta

```json
{
  "MerchantOrderId": "2017051114",
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "Recurrent": false,
    "CreditCard": {
      "CardNumber": "455187******0181",
      "Holder": "Nome do Portador",
      "ExpirationDate": "12/2021",
      "SaveCard": false,
      "Brand": "Undefined"
    },
    "Type": "CreditCard",
    "Amount": 10000,
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "Status": 20,
    "RecurrentPayment": {
      "RecurrentPaymentId": "32703035-7dfb-4369-ac53-34c7ff7b84e8",
      "ReasonCode": 0,
      "ReasonMessage": "Successful",
      "NextRecurrency": "2017-12-31",
      "StartDate": "2017-12-31",
      "EndDate": "2019-12-31",
      "Interval": "Monthly",
      "Link": {
        "Method": "GET",
        "Rel": "recurrentPayment",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/32703035-7dfb-4369-ac53-34c7ff7b84e8"
      },
      "AuthorizeNow": false
    }
  }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
  "MerchantOrderId": "2017051114",
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "Recurrent": false,
    "CreditCard": {
      "CardNumber": "455187******0181",
      "Holder": "Nome do Portador",
      "ExpirationDate": "12/2021",
      "SaveCard": false,
      "Brand": "Undefined"
    },
    "Type": "CreditCard",
    "Amount": 10000,
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "Status": 20,
    "RecurrentPayment": {
      "RecurrentPaymentId": "32703035-7dfb-4369-ac53-34c7ff7b84e8",
      "ReasonCode": 0,
      "ReasonMessage": "Successful",
      "NextRecurrency": "2017-12-31",
      "StartDate": "2017-12-31",
      "EndDate": "2019-12-31",
      "Interval": "Monthly",
      "Link": {
        "Method": "GET",
        "Rel": "recurrentPayment",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/32703035-7dfb-4369-ac53-34c7ff7b84e8"
      },
      "AuthorizeNow": false
    }
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`RecurrentPaymentId`|Campo Identificador da próxima recorrência. |Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`NextRecurrency`|Data da próxima recorrência. |Texto |7 |05/2019 (MM/YYYY) |
|`StartDate`|Data do inicio da recorrência. |Texto |7 |05/2019 (MM/YYYY) |
|`EndDate`|Data do fim da recorrência. |Texto |7 |05/2019 (MM/YYYY) |
|`Interval`|Intervalo entre as recorrência. |Texto |10 |<ul><li>Monthly</li><li>Bimonthly </li><li>Quarterly </li><li>SemiAnnual </li><li>Annual</li></ul> |
|`AuthorizeNow`|Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não. |Booleano |--- |true ou false |

## Criando uma transação recorrente com Card Token

Este é um exemplo de como utilizar o Card Token, previamente salvo, para criar uma transação. Por questão de segurança, um Card Token não tem guardado o Código de Segurança. Desta forma, é necessário solicitar à adquirente a ativação do recurso de recorrência em seu estabelecimento e a liberação para transacionar sem o envio do Código de Segurança.

### Requisição

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

```json
{
    "MerchantOrderId": "2017051105",
    "Customer": {
        "Name": "Nome do Cliente"
    },
    "Payment": {
        "Provider": "Simulado",
        "Type": "CreditCard",
        "Amount": 10000,
        "Capture": true,
        "Installments": 1,
        "Recurrent": true,
        "CreditCard": {
            "CardToken": "250e7c7c-5501-4a7c-aa42-a33d7ad61167",
            "Brand": "Visa"
        }
    }
}
```

```shell
curl
--request POST "https://apisandbox.braspag.com.br/v2/sales/"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "MerchantOrderId": "2017051105",
    "Customer": {
        "Name": "Nome do Cliente"
    },
    "Payment": {
        "Provider": "Simulado",
        "Type": "CreditCard",
        "Amount": 10000,
        "Capture": true,
        "Installments": 1,
        "Recurrent": true,
        "CreditCard": {
            "CardToken": "250e7c7c-5501-4a7c-aa42-a33d7ad61167",
            "Brand": "Visa"
        }
    }
}
--verbose
```

|Propriedade|Tipo|Tamanho|Obrigatório|Descrição|
|-----------|----|-------|-----------|---------|
|`MerchantId`|Guid|36|Sim|Identificador da loja na Braspag|
|`MerchantKey`|Texto|40|Sim|Chave Publica para Autenticação Dupla na Braspag|
|`RequestId`|Guid|36|Não|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT|
|`MerchantOrderId`|Texto|50|Sim|Numero de identificação do Pedido|
|`Customer.Name`|Texto|255|Sim|Nome do comprador|
|`Payment.Provider`|Texto|15|Sim|Nome da provedora de Meio de Pagamento|
|`Payment.Type`|Texto|100|Sim|Tipo do Meio de Pagamento|
|`Payment.Amount`|Número|15|Sim|Valor do Pedido (ser enviado em centavos)|
|`Payment.Installments`|Número|2|Sim|Número de Parcelas|
|`Payment.Recurrent`|Booleano|--|Sim|Booleano que indica uma transação recorrente. Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV.|
|`CreditCard.CardToken`|Token no Cartão Protegido que representa os dados do cartão|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|
|`CreditCard.Brand`|Texto|10|Sim |Bandeira do cartão|

### Resposta

```json
{
  "MerchantOrderId": "2017051105",
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "Recurrent": true,
    "CreditCard": {
      "SaveCard": false,
      "CardToken": "250e7c7c-5501-4a7c-aa42-a33d7ad61167",
      "Brand": "Visa"
    },
    "ProofOfSale": "124305",
    "AcquirerTransactionId": "0511030124305",
    "AuthorizationCode": "065964",
    "PaymentId": "23cd8bf5-2251-4991-9042-533ff5608788",
    "Type": "CreditCard",
    "Amount": 10000,
    "ReceivedDate": "2017-05-11 15:01:24",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Status": 1,
    "ProviderReturnCode": "4",
    "ProviderReturnMessage": "Operation Successful",
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788"
      },
      {
        "Method": "PUT",
        "Rel": "capture",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/capture"
      },
      {
        "Method": "PUT",
        "Rel": "void",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/void"
      }
    ]
  }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
  "MerchantOrderId": "2017051105",
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "Recurrent": true,
    "CreditCard": {
      "SaveCard": false,
      "CardToken": "250e7c7c-5501-4a7c-aa42-a33d7ad61167",
      "Brand": "Visa"
    },
    "ProofOfSale": "124305",
    "AcquirerTransactionId": "0511030124305",
    "AuthorizationCode": "065964",
    "PaymentId": "23cd8bf5-2251-4991-9042-533ff5608788",
    "Type": "CreditCard",
    "Amount": 10000,
    "ReceivedDate": "2017-05-11 15:01:24",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Status": 1,
    "ProviderReturnCode": "4",
    "ProviderReturnMessage": "Operation Successful",
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788"
      },
      {
        "Method": "PUT",
        "Rel": "capture",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/capture"
      },
      {
        "Method": "PUT",
        "Rel": "void",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/23cd8bf5-2251-4991-9042-533ff5608788/void"
      }
    ]
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`AcquirerTransactionId`|Id da transação no provedor de meio de pagamento|Texto|40|Texto alfanumérico|
|`ProofOfSale`|Número do Comprovante de Venda|Texto|20|Texto alfanumérico|
|`AuthorizationCode`|Código de autorização|Texto|300|Texto alfanumérico|
|`PaymentId`|Campo Identificador do Pedido|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|
|`ReceivedDate`|Data em que a transação foi recebida pela Brapag|Texto|19|AAAA-MM-DD HH:mm:SS|
|`ReasonCode`|Código de retorno da Operação|Texto|32|Texto alfanumérico|
|`ReasonMessage`|Mensagem de retorno da Operação|Texto|512|Texto alfanumérico|
|`Status`|Status da Transação|Byte|2|1|
|`ProviderReturnCode`|Código retornado pelo provedor do meio de pagamento (adquirente e bancos)|Texto|32|57|
|`ProviderReturnMessage`|Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)|Texto|512|Transação Aprovada|

## Alterar dados do comprador

Para alterar os dados do comprador em uma recorrência, basta fazer um PUT conforme o exemplo.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Customer</span></aside>

```json
{  
  "Name":"Outro nome do Comprador",
  "Email":"outrocomprador@braspag.com.br",
  "Birthdate":"1999-12-12",
  "Identity":"0987654321",
  "IdentityType":"CPF",
  "Address":{
      "Street":"Avenida Brigadeiro Faria Lima",
      "Number":"1500",
      "Complement":"AP 201",
      "ZipCode":"05426200",
      "City":"São Paulo",
      "State":"SP",
      "Country":"BRA",
      "District":"Alphaville"
      },
   "DeliveryAddress":{  
      "Street":"Avenida Brigadeiro Faria Lima",
      "Number":"1500",
      "Complement":"AP 201",
      "ZipCode":"05426200",
      "City":"São Paulo",
      "State":"SP",
      "Country":"BRA",
      "District":"Alphaville"
      }
    }
}
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Customer"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{   
    "Name":"Outro nome do Comprador",
    "Email":"outrocomprador@braspag.com.br",
    "Birthdate":"1999-12-12",
    "Identity":"0987654321",
    "IdentityType":"CPF",
    "Address":{  
    "Street":"Avenida Brigadeiro Faria Lima",
      "Number":"1500",
      "Complement":"AP 201",
      "ZipCode":"05426200",
      "City":"São Paulo",
      "State":"SP",
      "Country":"BRA",
      "District":"Alphaville"
   },
   "DeliveryAddress":{  
    "Street":"Avenida Brigadeiro Faria Lima",
      "Number":"1500",
      "Complement":"AP 201",
      "ZipCode":"05426200",
      "City":"São Paulo",
      "State":"SP",
      "Country":"BRA",
      "District":"Alphaville"
      }
}
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`Customer.Name`|Nome do Comprador. |Texto |255|Sim|
|`Customer.Email`|Email do Comprador. |Texto |255|Não|
|`Customer.Birthdate`|Data de nascimento do Comprador. |Date |10 |Não|
|`Customer.Identity`|Número do RG, CPF ou CNPJ do Cliente. |Texto |14 |Não|
|`Customer.IdentityType`|Texto|255|Não|Tipo de documento de identificação do comprador (CFP/CNPJ)|
|`Customer.Address.Street`|Endereço do Comprador. |Texto |255 |Não|
|`Customer.Address.Number`|Número do endereço do Comprador. |Texto |15 |Não|
|`Customer.Address.Complement`|Complemento do endereço do comprador|Texto |50 |Não|
|`Customer.Address.ZipCode`|CEP do endereço do Comprador. |Texto |9 |Não|
|`Customer.Address.City`|Cidade do endereço do Comprador. |Texto |50 |Não|
|`Customer.Address.State`|Estado do endereço do Comprador. |Texto |2 |Não|
|`Customer.Address.Country`|Pais do endereço do Comprador. |Texto |35 |Não|
|`Customer.Address.District`|Bairro do Comprador. |Texto |50 |Não|
|`Customer.DeliveryAddress.Street`|Endereço do Comprador. |Texto |255 |Não|
|`Customer.DeliveryAddress.Number`|Número do endereço do Comprador. |Texto |15 |Não|
|`Customer.DeliveryAddress.Complement`|Complemento do endereço do Comprador. |Texto |50 |Não|
|`Customer.DeliveryAddress.ZipCode`|CEP do endereço do Comprador. |Texto |9 |Não|
|`Customer.DeliveryAddress.City`|Cidade do endereço do Comprador. |Texto |50 |Não|
|`Customer.DeliveryAddress.State`|Estado do endereço do Comprador. |Texto |2 |Não|
|`Customer.DeliveryAddress.Country`|Pais do endereço do Comprador. |Texto |35 |Não|
|`Customer.DeliveryAddress.District`|Bairro do Comprador. |Texto |50 |Não|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Alterar a data final da Recorrência

Para alterar a data final da Recorrência, basta fazer um PUT conforme o exemplo.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/EndDate</span></aside>

```json
"2021-01-09"
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/EndDate"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
"2021-01-09"
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`EndDate`|Data para termino da recorrência|Texto |10 |Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Alterar o intevalo da Recorrência

Para alterar o Intervalo da Recorrência, basta fazer um PUT conforme o exemplo.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Interval</span></aside>

```json
6
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Interval"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
6
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`Interval`|Intervalo da recorrência. <ul><li>Monthly</li><li>Bimonthly </li><li>Quarterly </li><li>SemiAnnual </li><li>Annual</li></ul>|Número |2 |Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Alterar o dia da Recorrência

Para modificar o dia da recorrência, basta fazer um PUT conforme o exemplo.

<aside class="notice"><strong>Regra:</strong> Se o novo dia informado for depois do dia atual, iremos atualizar o dia da recorrência com efeito na próxima recorrência Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/05. Quando eu atualizar para o dia 10, a data da próxima recorrência será dia10/05. Se o novo dia informado for antes do dia atual, iremos atualizar o dia da recorrência, porém este só terá efeito depois que a próxima recorrência for executada com sucesso. Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/05. Quando eu atualizar para o dia 3, a data da próxima recorrência permanecerá dia 25/05, e após ela ser executada, a próxima será agendada para o dia 03/06. Se o novo dia informado for antes do dia atual, mas a próxima recorrência for em outro mês, iremos atualizar o dia da recorrência com efeito na próxima recorrência. Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/09. Quando eu atualizar para o dia 3, a data da próxima recorrência será 03/09</aside>

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay</span></aside>

```json
16
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
16
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`RecurrencyDay`|Dia da Recorrência|Número |2 |Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Alterar o valor da transação da Recorrência

Para modificar o valor da transação da recorrência, basta fazer um PUT conforme o exemplo.

### Requsição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Amount</span></aside>

```json
156
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Amount"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
156
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`Payment.Amount`|Valor do Pedido em centavos: 156 equivale a R$ 1,56|Número|15|Sim|

<aside class="warning">Essa alteração só afeta a data de pagamento da próxima recorrência.</aside>

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Alterar a data do próximo Pagamento

Para alterar a data do próximo Pagamento, basta fazer um PUT conforme o exemplo. Esta operação modifica somente a data do próximo pagamento, ou seja, a recorrências futuras a esta permanecerão com as carcaterísticas originais.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate</span></aside>

```json
"2017-06-15"
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
"2016-06-15"
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`NextPaymentDate`|Data de pagamento da próxima recorrência|Texto |10 |Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Alterar os dados do Pagamento da Recorrência

Para alterar os dados de pagamento da Recorrência, basta fazer um PUT conforme o exemplo.

<aside class="notice"><strong>Atenção:</strong> Essa alteração afeta a todos os dados do nó Payment. Então para manter os dados anteriores você deve informar os campos que não vão sofre alterações com os mesmos valores que já estavam salvos.</aside>

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Payment</span></aside>

```json
{  
   "Type":"CreditCard",
   "Amount":"20000",
   "Installments":3,
   "Country":"USA",
   "Currency":"USD",
   "SoftDescriptor":"Mensagem",
   "Provider":"Simulado",
   "CreditCard":{  
      "Brand":"Master",
      "Holder":"Nome do Portador",
      "CardNumber":"4111111111111111",
      "ExpirationDate":"05/2019"
   }
}
```

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Payment"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{  
   "Provider":"Simulado",
   "Type":"CreditCard",
   "Amount":"20000",
   "Installments":3,
   "Country":"USA",
   "Currency":"USD",
   "SoftDescriptor":"Mensagem",
   "CreditCard":{  
      "Brand":"Master",
      "Holder":"Nome do Portador",
      "CardNumber":"4111111111111111",
      "ExpirationDate":"05/2019"
   }
}
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|
|`Payment.Provider`|Nome da provedora de Meio de Pagamento|Texto|15|Sim|
|`Payment.Type`|Tipo do Meio de Pagamento. |Texto |100|Sim|
|`Payment.Amount`|Valor do Pedido (ser enviado em centavos)|Número |15 |Sim|
|`Payment.Installments`|Número de Parcelas|Número |2 |Sim|
|`Payment.SoftDescriptor`|Texto que será impresso na fatura do portador|Texto |13|Não|
|`CreditCard.CardNumber`|Número do Cartão do comprador|Texto |16|Sim|
|`CreditCard.Holder`|Nome do Comprador impresso no cartão|Texto |25|Sim|
|`CreditCard.ExpirationDate`|Data de validade impresso no cartão|Texto |7 |Sim|
|`CreditCard.SecurityCode`|Código de segurança impresso no verso do cartão|Texto |4 |Sim|
|`CreditCard.Brand`|Bandeira do cartão|Texto|10|Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Desabilitando um Pedido Recorrente

Para desabilitar um pedido recorrente, basta fazer um PUT conforme o exemplo.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Deactivate</span></aside>

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Deactivate"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

## Reabilitando um Pedido Recorrente

Para Reabilitar um pedido recorrente, basta fazer um Put conforme o exemplo.

### Requisição

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Reactivate</span></aside>

```shell
curl
--request PUT "https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Reactivate"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Numero de identificação da Recorrência. |Texto |50 |Sim|

### Resposta

```shell
HTTP Status 200
```

Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.

# Consultas

## Consultando uma transação via PaymentID

Para consultar uma transação de cartão de crédito, é necessário fazer um GET para o recurso Payment conforme o exemplo.

### Requisição

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales/{PaymentId}</span></aside>

```shell
curl
--request GET "https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`PaymentId`|Numero de identificação do Pagamento. |Texto |36 |Sim|

### Resposta

```json
{
  "MerchantOrderId": "2017051001",
  "Customer": {
    "Name": "Nome do Cliente",
    "Address": {}
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "CreditCard": {
      "CardNumber": "455187******0181",
      "Holder": "Nome do Portador",
      "ExpirationDate": "12/2021",
      "Brand": "Visa"
    },
    "ProofOfSale": "2539492",
    "AcquirerTransactionId": "0510042539492",
    "AuthorizationCode": "759497",
    "VelocityAnalysis": {
      "Id": "f8078b32-be17-4c35-b164-ad74c3cd0725",
      "ResultMessage": "Accept",
      "Score": 0
    },
    "PaymentId": "f8078b32-be17-4c35-b164-ad74c3cd0725",
    "Type": "CreditCard",
    "Amount": 10000,
    "ReceivedDate": "2017-05-10 16:25:38",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "Status": 1,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"
      },
      {
        "Method": "PUT",
        "Rel": "capture",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"
      },
      {
        "Method": "PUT",
        "Rel": "void",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"
      }
    ]
  }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
  "MerchantOrderId": "2017051001",
  "Customer": {
    "Name": "Nome do Cliente",
    "Address": {}
  },
  "Payment": {
    "ServiceTaxAmount": 0,
    "Installments": 1,
    "Interest": "ByMerchant",
    "Capture": true,
    "Authenticate": false,
    "CreditCard": {
      "CardNumber": "455187******0181",
      "Holder": "Nome do Portador",
      "ExpirationDate": "12/2021",
      "Brand": "Visa"
    },
    "ProofOfSale": "2539492",
    "AcquirerTransactionId": "0510042539492",
    "AuthorizationCode": "759497",
    "PaymentId": "f8078b32-be17-4c35-b164-ad74c3cd0725",
    "Type": "CreditCard",
    "Amount": 10000,
    "ReceivedDate": "2017-05-10 16:25:38",
    "Currency": "BRL",
    "Country": "BRA",
    "Provider": "Simulado",
    "ReasonCode": 0,
    "Status": 1,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"
      },
      {
        "Method": "PUT",
        "Rel": "capture",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"
      },
      {
        "Method": "PUT",
        "Rel": "void",
        "Href": "https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"
      }
    ]
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`MerchantOrderId`|Numero de identificação do Pedido|Texto|50|Texto alfanumérico|
|`Customer.Name`|Nome do comprador|Texto|255|Texto alfanumérico|
|`Customer.Identity`|Número do RG, CPF ou CNPJ do Cliente|Texto |14 |Texto alfanumérico|
|`Customer.IdentityType`|Tipo de documento de identificação do comprador (CPF ou CNPJ)|Texto|255|CPF ou CNPJ|
|`Customer.Email`|Email do comprador|Texto|255|Texto alfanumérico|
|`Customer.Birthdate`|Data de nascimento do Comprador|Date|10|formato AAAA-MM-DD|
|`Customer.Address.Street`|Endereço de contato do comprador|Texto|255|Texto alfanumérico|
|`Customer.Address.Number`|Número endereço de contato do comprador|Texto|15|Texto alfanumérico|
|`Customer.Address.Complement`|Complemento do endereço de contato do Comprador|Texto|50|Texto alfanumérico|
|`Customer.Address.ZipCode`|CEP do endereço de contato do comprador|Texto|9|Texto alfanumérico|
|`Customer.Address.City`|Cidade do endereço de contato do comprador|Texto|50|Texto alfanumérico|
|`Customer.Address.State`|Estado do endereço de contato do comprador|Texto|2|Texto alfanumérico|
|`Customer.Address.Country`|Pais do endereço de contato do comprador|Texto|35|Texto alfanumérico|
|`Customer.Address.District`|Bairro do Comprador|Texto |50 |Texto alfanumérico|
|`Customer.DeliveryAddress.Street`|Endereço do comprador|Texto|255|Texto alfanumérico|
|`Customer.DeliveryAddress.Number`|Número do endereço de entrega do pedido|Texto|15|Texto alfanumérico|
|`Customer.DeliveryAddress.Complement`|Complemento do endereço de entrega do pedido|Texto|50|Texto alfanumérico|
|`Customer.DeliveryAddress.ZipCode`|CEP do endereço de entrega do pedido|Texto|9|Texto alfanumérico|
|`Customer.DeliveryAddress.City`|Cidade do endereço de entrega do pedido|Texto|50|Texto alfanumérico|
|`Customer.DeliveryAddress.State`|Estado do endereço de entrega do pedido|Texto|2|Texto alfanumérico|
|`Customer.DeliveryAddress.Country`|Pais do endereço de entrega do pedido|Texto|35|Texto alfanumérico|
|`Customer.DeliveryAddress.District`|Bairro do Comprador. |Texto |50 |Texto alfanumérico|
|`Payment.Provider`|Nome da provedora de Meio de Pagamento|Texto|15| Consulta os provedores disponíveis nos anexos|
|`Payment.Type`|Tipo do Meio de Pagamento|Texto|100|Ex. CreditCard|
|`Payment.Amount`|Valor do Pedido (ser enviado em centavos)|Número|15|10000|
|`Payment.ServiceTaxAmount`|Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização|Número|15|10000|
|`Payment.Currency`|Moeda na qual o pagamento será feito|Texto|3|BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP|
|`Payment.Country`|País na qual o pagamento será feito|Texto|3|BRA|
|`Payment.Installments`|Número de Parcelas|Número|2|6|
|`Payment.Interest`|Tipo de parcelamento|Texto|10|Loja (ByMerchant) ou Emissor (ByIssuer)|
|`Payment.Capture`|Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade|Booleano|--- (Default false)|Booleano|
|`Payment.Authenticate`|Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade|Booleano|--- (Default false)|Booleano|
|`Payment.Recurrent`|Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true|Booleano|--- (Default false)|Booleano|
|`Payment.SoftDescriptor`|Texto que será impresso na fatura do portador|Texto|13|Texto alfanumérico|
|`Payment.ExtraDataCollection.Name`|Nome do campo que será gravado o Dado Extra|Texto|50|Texto alfanumérico|
|`Payment.ExtraDataCollection.Value`|Valor do campo que será gravado o Dado Extra|Texto|1024|Texto alfanumérico|
|`Payment.AcquirerTransactionId`|Id da transação no provedor de meio de pagamento|Texto|40|Texto alfanumérico|
|`Payment.ProofOfSale`|Número do Comprovante de Venda|Texto|20|Texto alfanumérico|
|`Payment.AuthorizationCode`|Código de autorização|Texto|300|Texto alfanumérico|
|`Payment.PaymentId`|Campo Identificador do Pedido|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|
|`Payment.ReceivedDate`|Data em que a transação foi recebida pela Brapag|Texto|19|AAAA-MM-DD HH:mm:SS|
|`Payment.ReasonCode`|Código de retorno da Adquirência|Texto|32|Texto alfanumérico|
|`Payment.ReasonMessage`|Mensagem de retorno da Adquirência|Texto|512|Texto alfanumérico|
|`Payment.Status`|Status da Transação|Byte|2|1|
|`Payment.ProviderReturnCode`|Código retornado pelo provedor do meio de pagamento (adquirente e bancos)|Texto|32|57|
|`Payment.ProviderReturnMessage`|Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)|Texto|512|Transação Aprovada|
|`CreditCard.CardNumber`|Número do Cartão do comprador|Texto|16|
|`CreditCard.Holder`|Nome do portador impresso no cartão|Texto|25|
|`CreditCard.ExpirationDate`|Data de validade impresso no cartão|Texto|7|
|`CreditCard.SecurityCode`|Código de segurança impresso no verso do cartão|Texto|4|
|`CreditCard.Brand`|Bandeira do cartão|Texto|10 |
|`CreditCard.SaveCard`|Booleano que identifica se o cartão será salvo para gerar o token (CardToken)|Booleano|--- (Default false)|

<aside class="notice"><strong>Regra:</strong>
<ul>
<li>Transação com vida até 3 meses – consulta via API ou  Painel Admin Braspag&lt;/a&gt;</li>
<li>Transação com vida de 3 meses a 12 meses - somente via consulta no  Painel Admin Braspag&lt;/a&gt; com a opção “Histórico” selecionada</li>
<li>Transação com vida acima de 12 meses - entrar em contato com seu Executivo Comercial Braspag</li>
</ul>
</aside>

## Consultando uma venda pelo identificador da loja

Não é possível consultar diretamente uma pagamento pelo identificador enviado pela loja (MerchantOrderId), mas é possível obter todos os PaymentIds associados ao identificador.

Para consultar uma venda pelo identificador da loja, é necessário fazer um GET para o recuso sales conforme o exemplo.

### Requisição

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales?merchantOrderId={merchantOrderId}</span></aside>

```shell
curls
--request GET "https://apiquerysandbox.braspag.com.brv2/sales?merchantOrderId={merchantOrderId}"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`MerchantOrderId`|Campo Identificador do Pedido na Loja. |Texto |36 |Sim|

### Resposta

```json
{
    "Payment": [
        {
            "PaymentId": "5fb4d606-bb63-4423-a683-c966e15399e8",
            "ReceveidDate": "2015-04-06T10:13:39.42"
        },
        {
            "PaymentId": "6c1d45c3-a95f-49c1-a626-1e9373feecc2",
            "ReceveidDate": "2014-12-19T20:23:28.847"
        }
    ]
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
    "ReasonCode": 0,
    "ReasonMessage": "Successful",
    "Payments": [
        {
            "PaymentId": "5fb4d606-bb63-4423-a683-c966e15399e8",
            "ReceveidDate": "2015-04-06T10:13:39.42"
        },
        {
            "PaymentId": "6c1d45c3-a95f-49c1-a626-1e9373feecc2",
            "ReceveidDate": "2014-12-19T20:23:28.847"
        }
    ]
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`PaymentId`|Campo Identificador do Pedido|Guid|36|xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx|

<aside class="notice"><strong>Regra:</strong>
<ul>
<li>Transação com vida até 3 meses – consulta via API ou  Painel Admin Braspag&lt;/a&gt;</li>
<li>Transação com vida de 3 meses a 12 meses - somente via consulta no  Painel Admin Braspag&lt;/a&gt; com a opção “Histórico” selecionada</li>
<li>Transação com vida acima de 12 meses - entrar em contato com seu Executivo Comercial Braspag</li>
</ul>
</aside>

## Consultando um pedido Recorrente

Para consultar um pedido de Recorrência, é necessário fazer um GET conforme o exemplo.

### Requisição

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}</span></aside>

```shell
curl
--request GET "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"
--header "Content-Type: application/json"
--header "MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--header "MerchantKey: 0123456789012345678901234567890123456789"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
--verbose
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`MerchantId`|Identificador da loja na API |Guid |36 |Sim|
|`MerchantKey`|Chave Publica para Autenticação Dupla na API|Texto |40 |Sim|
|`RequestId`|Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT | Guid | 36 |Não|
|`RecurrentPaymentId`|Campo Identificador da Recorrência. |Texto |36 |Sim|

### Resposta

```json
{
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "RecurrentPayment": {
    "Installments": 1,
    "RecurrentPaymentId": "f5a83c14-0254-4e73-bdd3-9afba1007266",
    "NextRecurrency": "2017-06-11",
    "StartDate": "2017-05-11",
    "EndDate": "2019-12-31",
    "Interval": "Monthly",
    "Amount": 10000,
    "Country": "BRA",
    "CreateDate": "2017-05-11T00:00:00",
    "Currency": "BRL",
    "CurrentRecurrencyTry": 1,
    "OrderNumber": "2017051120",
    "Provider": "Simulado",
    "RecurrencyDay": 11,
    "SuccessfulRecurrences": 1,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/f5a83c14-0254-4e73-bdd3-9afba1007266"
      }
    ],
    "RecurrentTransactions": [
      {
        "PaymentNumber": 0,
        "RecurrentPaymentId": "f5a83c14-0254-4e73-bdd3-9afba1007266",
        "TransactionId": "cd694ffb-c0c4-47db-9390-737df70a2012",
        "TryNumber": 1,
        "Links": [
          {
            "Method": "GET",
            "Rel": "self",
            "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/cd694ffb-c0c4-47db-9390-737df70a2012"
          }
        ]
      }
    ],
    "Status": 1
  }
}
```

```shell
--header "Content-Type: application/json"
--header "RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
--data-binary
{
  "Customer": {
    "Name": "Nome do Cliente"
  },
  "RecurrentPayment": {
    "Installments": 1,
    "RecurrentPaymentId": "f5a83c14-0254-4e73-bdd3-9afba1007266",
    "NextRecurrency": "2017-06-11",
    "StartDate": "2017-05-11",
    "EndDate": "2019-12-31",
    "Interval": "Monthly",
    "Amount": 10000,
    "Country": "BRA",
    "CreateDate": "2017-05-11T00:00:00",
    "Currency": "BRL",
    "CurrentRecurrencyTry": 1,
    "OrderNumber": "2017051120",
    "Provider": "Simulado",
    "RecurrencyDay": 11,
    "SuccessfulRecurrences": 1,
    "Links": [
      {
        "Method": "GET",
        "Rel": "self",
        "Href": "https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/f5a83c14-0254-4e73-bdd3-9afba1007266"
      }
    ],
    "RecurrentTransactions": [
      {
        "PaymentNumber": 0,
        "RecurrentPaymentId": "f5a83c14-0254-4e73-bdd3-9afba1007266",
        "TransactionId": "cd694ffb-c0c4-47db-9390-737df70a2012",
        "TryNumber": 1,
        "Links": [
          {
            "Method": "GET",
            "Rel": "self",
            "Href": "https://apiquerysandbox.braspag.com.br/v2/sales/cd694ffb-c0c4-47db-9390-737df70a2012"
          }
        ]
      }
    ],
    "Status": 1
  }
}
```

|Propriedade|Descrição|Tipo|Tamanho|Formato|
|-----------|---------|----|-------|-------|
|`RecurrentPaymentId`|Campo Identificador da próxima recorrência. |Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`NextRecurrency`|Data da próxima recorrência. |Texto |7 |05/2019 (MM/YYYY) |
|`StartDate`|Data do inicio da recorrência. |Texto |7 |05/2019 (MM/YYYY) |
|`EndDate`|Data do fim da recorrência. |Texto |7 |05/2019 (MM/YYYY) |
|`Interval`|Intervalo entre as recorrência. |Texto |10 |<ul><li>Monthly</li><li>Bimonthly </li><li>Quarterly </li><li>SemiAnnual </li><li>Annual</li></ul> |
|`CurrentRecurrencyTry`|Indica o número de tentativa da recorrência atual |Número|1|1|
|`OrderNumber`|Identificado do Pedido na loja |Texto|50 |2017051101|
|`Status`|Status do pedido recorrente |Número|1 |<ul><li>1 - Ativo</li><li>2 - Finalizado</li><li>3,4,5 - Inativo</li></ul> |
|`RecurrencyDay`|O dia da recorrência |Número|2 |22 |
|`SuccessfulRecurrences`|Quantidade de recorrência realizada com sucesso|Número|2 |5|
|`RecurrentTransactions.RecurrentPaymentId`|Id da Recorrência|Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`RecurrentTransactions.TransactionId`|Payment ID da transação gerada na recorrência|Guid |36 |xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx |
|`RecurrentTransactions.PaymentNumber`|Número da Recorrência. A primeira é zero |Número|2 |3 |
|`RecurrentTransactions.TryNumber`|Número da tentativa atual na recorrência específica |Número|2 |1 |

# Post de Notificação

Para receber a notificação de alteração de status deve-se ter configurado no cadastro de sua loja na Braspag, o campo URL Status Pagamento para receber os parametros conforme o exemplo ao lado.

Resposta esperada da Loja: HTTP Status Code 200 OK

Caso não seja retornado o HTTP Status Code 200 OK será tentado mais duas vezes enviar o Post de Notificação.

```json
{
   "RecurrentPaymentId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
   "PaymentId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
   "ChangeType": "2"
}
```

|Propriedade|Descrição|Tipo|Tamanho|Obrigatório|
|-----------|---------|----|-------|-----------|
|`RecurrentPaymentId`|Identificador que representa o pedido Recorrente (aplicável somente para ChangeType 2 ou 4|GUID|36|Não|
|`PaymentId`|Identificador que representa a transação|GUID|36|Sim|
|`ChangeType`|Especifica o tipo de notificação. Vide tabela abaixo | Número | 1 |Sim|

|ChangeType|Descrição|
|----------|---------|
|1|Mudança de status do pagamento|
|2|Recorrência criada|
|3|Mudança de status do Antifraude|
|4|Mudança de status do pagamento recorrente (Ex. desativação automática)|
|5|Estorno negado (aplicável para Rede)|
|6|Boleto registrado pago a menor|

# Anexos

## Lista de Providers

### Providers para Crédito

|Provider|Brand|
|--------|-----|
|Simulado|---|
|Cielo|Visa, Master, Amex, Elo, Aura, Jcb, Diners, Discover|
|Cielo30 (Cielo 3.0)|Visa, Master, Amex, Elo, Aura, Jcb, Diners, Discover, Hipercard, Hiper|
|Redecard (Komerci)|Visa, Master, Hipercard, Hiper, Diners|
|Rede (e-Rede SOAP)|Visa, Master, Hipercard, Hiper, Diners, Elo, Amex|
|Rede2 (e-Rede REST)|Visa, Master, Hipercard, Hiper, Diners, Elo, Amex|
|RedeSitef|Visa, Master, Hipercard, Diners|
|CieloSitef|Visa, Master, Amex, Elo, Aura, Jcb, Diners, Discover|
|SantanderSitef|Visa, Master|
|Banorte|Visa, Master, Carnet|
|Getnet|Visa, Master, Elo, Amex|
|FirstData|Visa, Master, Cabal|
|GlobalPayments|Visa, Master|
|DMCard|---|
|Sub1|Visa, Master, Diners, Amex, Discover, Cabal, Naranja e Nevada|
|Credibanco|Visa, Master, Diners, Amex, Credential|
|Transbank|Visa, Master, Diners, Amex|

### Providers pra Débito

|Provider|Brand|
|--------|-----|
|Cielo|Visa, Master|
|Cielo30 (Cielo 3.0)|Visa, Master|
|Getnet|Visa, Master|
|FirstData|Visa, Master|
|GlobalPayments|Visa, Master|

### Providers pra Voucher

|Provider|Brand|
|--------|-----|
|Alelo|Elo|

### Providers para Boleto com Registro

|Provider|
|--------|
|Bradesco2, BancoDoBrasil2, ItauShopline, Santander2, Caixa2, CitiBank2, BankOfAmerica|

### Providers para Transferência Eletronica (Débito Online)

|Provider|
|--------|
|Bradesco, BancoDoBrasil, SafetyPay, Itau|

## Lista de Status da Transação

Status retornados pela API

|Código|Status do Pagamento|Meio de pagamento|Descrição|
|------|-------------------|-----------------|---------|
|0|NotFinished|Todos|Falha ao processar o pagamento|
|1|Authorized|Todos|Meio de pagamento apto a ser capturado ou pago(Boleto)|
|2|PaymentConfirmed|Todos|Pagamento confirmado e finalizado|
|3|Denied|Cartão de Crédito e Débito (Transferência eletrônica) |
|10|Voided|Todos|Pagamento cancelado|
|11|Refunded|Cartão de crédito e Débito|Pagamento Cancelado/Estornado|
|12|Pending|Cartão de Crédito e Débito  (Transferência eletrônica) |Esperando retorno da instituição financeira|
|13|Aborted|Todos|Pagamento cancelado por falha no processamento|
|20|Scheduled|Cartão de crédito|Recorrência agendada|

## Lista de Status do Antifraude

| Código | Descrição  |
|--------|------------|
| 500    | Started    |
| 501    | Accept     |
| 502    | Review     |
| 503    | Reject     |
| 504    | Pendent    |
| 505    | Unfinished |
| 506    | Aborted    |

## Lista de HTTP Status Code

| HTTP Status Code | Descrição             |
|------------------|-----------------------|
| 200              | OK                    |
| 400              | Bad Request           |
| 404              | Resource Not Found    |
| 500              | Internal Server Error |

## Lista de Status da Recorrência

| Código | Descrição                 |
|--------|---------------------------|
| 1      | Active                    |
| 2      | Finished                  |
| 3      | DisabledByMerchant        |
| 4      | DisabledMaxAttempts       |
| 5      | DisabledExpiredCreditCard |

## Lista de ReasonCode/ReasonMessage

| Reason Code | Reason Message               |
|-------------|------------------------------|
| 0           | Successful                   |
| 1           | AffiliationNotFound          |
| 2           | IssuficientFunds             |
| 3           | CouldNotGetCreditCard        |
| 4           | ConnectionWithAcquirerFailed |
| 5           | InvalidTransactionType       |
| 6           | InvalidPaymentPlan           |
| 7           | Denied                       |
| 8           | Scheduled                    |
| 9           | Waiting                      |
| 10          | Authenticated                |
| 11          | NotAuthenticated             |
| 12          | ProblemsWithCreditCard       |
| 13          | CardCanceled                 |
| 14          | BlockedCreditCard            |
| 15          | CardExpired                  |
| 16          | AbortedByFraud               |
| 17          | CouldNotAntifraud            |
| 18          | TryAgain                     |
| 19          | InvalidAmount                |
| 20          | ProblemsWithIssuer           |
| 21          | InvalidCardNumber            |
| 22          | TimeOut                      |
| 23          | CartaoProtegidoIsNotEnabled  |
| 24          | PaymentMethodIsNotEnabled    |
| 98          | InvalidRequest               |
| 99          | InternalError                |

## Códigos de Erros da API

Códigos retornados em caso de erro, identificando o motivo do erro e suas respectivas mensagens.

|Código|Mensagem|Descrição|
|------|--------|---------|
|0|Internal error|Dado enviado excede o tamanho do campo|
|100|RequestId is required|Campo enviado está vazio ou invalido|
|101|MerchantId is required|Campo enviado está vazio ou invalido|
|102|Payment Type is required|Campo enviado está vazio ou invalido|
|103|Payment Type can only contain letters|Caracteres especiais não permitidos|
|104|Customer Identity is required|Campo enviado está vazio ou invalido|
|105|Customer Name is required|Campo enviado está vazio ou invalido|
|106|Transaction ID is required|Campo enviado está vazio ou invalido|
|107|OrderId is invalid or does not exists|Campo enviado excede o tamanho ou contem caracteres especiais |
|108|Amount must be greater or equal to zero|Valor da transação deve ser maior que "0"|
|109|Payment Currency is required|Campo enviado está vazio ou invalido|
|110|Invalid Payment Currency|Campo enviado está vazio ou invalido|
|111|Payment Country is required|Campo enviado está vazio ou invalido|
|112|Invalid Payment Country|Campo enviado está vazio ou invalido|
|113|Invalid Payment Code|Campo enviado está vazio ou invalido|
|114|The provided MerchantId is not in correct format|O MerchantId enviado não é um GUID|
|115|The provided MerchantId was not found|O MerchantID não existe ou pertence a outro ambiente (EX: Sandbox)|
|116|The provided MerchantId is blocked|Loja bloqueada, entre em contato com o suporte Braspag|
|117|Credit Card Holder is required|Campo enviado está vazio ou invalido|
|118|Credit Card Number is required|Campo enviado está vazio ou invalido|
|119|At least one Payment is required|Nó "Payment" não enviado|
|120|Request IP not allowed. Check your IP White List|IP bloqueado por questões de segurança|
|121|Customer is required|Nó "Customer" não enviado|
|122|MerchantOrderId is required|Campo enviado está vazio ou invalido|
|123|Installments must be greater or equal to one|Numero de parcelas deve ser superior a 1|
|124|Credit Card is Required|Campo enviado está vazio ou invalido|
|125|Credit Card Expiration Date is required|Campo enviado está vazio ou invalido|
|126|Credit Card Expiration Date is invalid|Campo enviado está vazio ou invalido|
|127|You must provide CreditCard Number|Numero do cartão de crédito é obrigatório|
|128|Card Number length exceeded|Numero do cartão superiro a 16 digitos|
|129|Affiliation not found|Meio de pagamento não vinculado a loja ou Provider invalido|
|130|Could not get Credit Card|---|
|131|MerchantKey is required|Campo enviado está vazio ou invalido|
|132|MerchantKey is invalid|O Merchantkey enviado não é um válido|
|133|Provider is not supported for this Payment Type|Provider enviado não existe|
|134|FingerPrint length exceeded|Dado enviado excede o tamanho do campo|
|135|MerchantDefinedFieldValue length exceeded|Dado enviado excede o tamanho do campo|
|136|ItemDataName length exceeded|Dado enviado excede o tamanho do campo|
|137|ItemDataSKU length exceeded|Dado enviado excede o tamanho do campo|
|138|PassengerDataName length exceeded|Dado enviado excede o tamanho do campo|
|139|PassengerDataStatus length exceeded|Dado enviado excede o tamanho do campo|
|140|PassengerDataEmail length exceeded|Dado enviado excede o tamanho do campo|
|141|PassengerDataPhone length exceeded|Dado enviado excede o tamanho do campo|
|142|TravelDataRoute length exceeded|Dado enviado excede o tamanho do campo|
|143|TravelDataJourneyType length exceeded|Dado enviado excede o tamanho do campo|
|144|TravelLegDataDestination length exceeded|Dado enviado excede o tamanho do campo|
|145|TravelLegDataOrigin length exceeded|Dado enviado excede o tamanho do campo|
|146|SecurityCode length exceeded|Dado enviado excede o tamanho do campo|
|147|Address Street length exceeded|Dado enviado excede o tamanho do campo|
|148|Address Number length exceeded|Dado enviado excede o tamanho do campo|
|149|Address Complement length exceeded|Dado enviado excede o tamanho do campo|
|150|Address ZipCode length exceeded|Dado enviado excede o tamanho do campo|
|151|Address City length exceeded|Dado enviado excede o tamanho do campo|
|152|Address State length exceeded|Dado enviado excede o tamanho do campo|
|153|Address Country length exceeded|Dado enviado excede o tamanho do campo|
|154|Address District length exceeded|Dado enviado excede o tamanho do campo|
|155|Customer Name length exceeded|Dado enviado excede o tamanho do campo|
|156|Customer Identity length exceeded|Dado enviado excede o tamanho do campo|
|157|Customer IdentityType length exceeded|Dado enviado excede o tamanho do campo|
|158|Customer Email length exceeded|Dado enviado excede o tamanho do campo|
|159|ExtraData Name length exceeded|Dado enviado excede o tamanho do campo|
|160|ExtraData Value length exceeded|Dado enviado excede o tamanho do campo|
|161|Boleto Instructions length exceeded|Dado enviado excede o tamanho do campo|
|162|Boleto Demostrative length exceeded|Dado enviado excede o tamanho do campo|
|163|Return Url is required|URL de retorno não é valida - Não é aceito paginação ou extenções (EX .PHP) na URL de retorno|
|166|AuthorizeNow is required|---|
|167|Antifraud not configured|Antifraude não vinculado ao cadastro do lojista|
|168|Recurrent Payment not found|Recorrencia não encontrada|
|169|Recurrent Payment is not active|Recorrencia não está ativa. Execução paralizada|
|170|Cartão Protegido not configured|Cartão protegido não vinculado ao cadastro do lojista|
|171|Affiliation data not sent|Falha no processamento do pedido - Entre em contato com o suporte Braspag|
|172|Credential Code is required|Falha na validação das credenciadas enviadas|
|173|Payment method is not enabled|Meio de pagamento não vinculado ao cadastro do lojista|
|174|Card Number is required|Campo enviado está vazio ou invalido|
|175|EAN is required|Campo enviado está vazio ou invalido|
|176|Payment Currency is not supported|Campo enviado está vazio ou invalido|
|177|Card Number is invalid|Campo enviado está vazio ou invalido|
|178|EAN is invalid|Campo enviado está vazio ou invalido|
|179|The max number of installments allowed for recurring payment is 1|Campo enviado está vazio ou invalido|
|180|The provided Card PaymentToken was not found|Token do Cartão protegido não encontrado|
|181|The MerchantIdJustClick is not configured|Token do Cartão protegido bloqueado|
|182|Brand is required|Bandeira do cartão não enviado|
|183|Invalid customer bithdate|Data de nascimento invalida ou futura|
|184|Request could not be empty|Falha no formado ta requisição. Verifique o código enviado|
|185|Brand is not supported by selected provider|Bandeira não suportada pela API Braspag|
|186|The selected provider does not support the options provided (Capture, Authenticate, Recurrent or Installments)|Meio de pagamento não suporta o comando enviado|
|187|ExtraData Collection contains one or more duplicated names|---|
|188|Avs with CPF invalid|---|
|189|Avs with length of street exceeded|Dado enviado excede o tamanho do campo|
|190|Avs with length of number exceeded|Dado enviado excede o tamanho do campo|
|190|Avs with length of complement exceeded|Dado enviado excede o tamanho do campo|
|191|Avs with length of district exceeded|Dado enviado excede o tamanho do campo|
|192|Avs with zip code invalid|CEP enviado é invalido|
|193|Split Amount must be greater than zero|Valor para realização do SPLIT deve ser superior a 0|
|194|Split Establishment is Required|SPLIT não habilitado para o cadastro da loja|
|195|The PlataformId is required|Validados de plataformas não enviado|
|196|DeliveryAddress is required|Campo obrigatório não enviado|
|197|Street is required|Campo obrigatório não enviado|
|198|Number is required|Campo obrigatório não enviado|
|199|ZipCode is required|Campo obrigatório não enviado|
|200|City is required|Campo obrigatório não enviado|
|201|State is required|Campo obrigatório não enviado|
|202|District is required|Campo obrigatório não enviado|
|203|Cart item Name is required|Campo obrigatório não enviado|
|204|Cart item Quantity is required|Campo obrigatório não enviado|
|205|Cart item type is required|Campo obrigatório não enviado|
|206|Cart item name length exceeded |Dado enviado excede o tamanho do campo|
|207|Cart item description length exceeded |Dado enviado excede o tamanho do campo|
|208|Cart item sku length exceeded |Dado enviado excede o tamanho do campo|
|209|Shipping addressee sku length exceeded |Dado enviado excede o tamanho do campo|
|210|Shipping data cannot be null|Campo obrigatório não enviado|
|211|WalletKey is invalid|Dados da Visa Checkout invalidos|
|212|Merchant Wallet Configuration not found|Visa Checkout não vinculado a conta do lojista|
|213|Credit Card Number is invalid|Cartão de crédito enviado é invalido|
|214|Credit Card Holder Must Have Only Letters|Portador do cartão não deve conter caracteres especiais|
|215|Agency is required in Boleto Credential|Campo obrigatório não enviado|
|216|Customer IP address is invalid|IP bloqueado por questões de segurança|
|300|MerchantId was not found|---|
|301|Request IP is not allowed|---|
|302|Sent MerchantOrderId is duplicated|---|
|303|Sent OrderId does not exist|---|
|304|Customer Identity is required|---|
|306|Merchant is blocked|---|
|307|Transaction not found|Transação não encontrada ou não existente no ambiente|
|308|Transaction not available to capture|Transação não pode ser capturada - Entre em contato com o suporte Braspag|
|309|Transaction not available to void|Transação não pode ser Cancelada - Entre em contato com o suporte Braspag|
|310|Payment method doest not support this operation|Comando enviado não suportado pelo meio de pagamento|
|311|Refund is not enabled for this merchant|Cancelamento após 24 horas não liberado para o lojista|
|312|Transaction not available to refund|Transação não permite cancelamento após 24 horas|
|313|Recurrent Payment not found|Transação recorrente não encontrada ou não disponivel no ambiente|
|314|Invalid Integration|---|
|315|Cannot change NextRecurrency with pending payment|---|
|316|Cannot set NextRecurrency to past date|Não é permitido alterada dada da recorrencia para uma data passada|
|317|Invalid Recurrency Day|---|
|318|No transaction found|---|
|319|Smart recurrency is not enabled|Recorrencia não vinculada ao cadastro do lojista|
|320|Can not Update Affiliation Because this Recurrency not Affiliation saved|---|
|321|Can not set EndDate to before next recurrency|---|
|322|Zero Dollar Auth is not enabled|Zero Dollar não vinculado ao cadastro do lojista|
|323|Bin Query is not enabled|Consulta de Bins não vinculada ao cadastro do lojista|

## Cartões para Teste (Simulado)

O Simulado é um meio de pagamento que emula a utilizaçao de pagamentos com Cartão de Crétido. Com esse meio de pagamento é possivel simular todos os fluxos de Autorização, Captura e Cancelamento.

Para melhor utilização do Meio de Pagamento Simulado, estamos disponibilizando cartões de testes na tabela abaixo.

Os status das transações serão conforme a utilização de cada cartão.

|Status da Transação|Cartões para realização dos testes|Código de Retorno|Mensagem de Retorno|
|-------------------|----------------------------------|-----------------|-------------------|
|Autorizado|0000.0000.0000.0001 / 0000.0000.0000.0004|4|Operação realizada com sucesso|
|Não Autorizado|0000.0000.0000.0002|2|Não Autorizada|
|Autorização Aleatória|0000.0000.0000.0009|4 / 99|Operation Successful / Time Out|
|Não Autorizado|0000.0000.0000.0007|77|Cartão Cancelado|
|Não Autorizado|0000.0000.0000.0008|70|Problemas com o Cartão de Crédito|
|Não Autorizado|0000.0000.0000.0005|78|Cartão Bloqueado|
|Não Autorizado|0000.0000.0000.0003|57|Cartão Expirado|
|Não Autorizado|0000.0000.0000.0006|99|Time Out|

As informações de Cód.Segurança (CVV) e validade podem ser aleatórias, mantendo o formato - CVV (3 dígitos) Validade (MM/YYYY).

# FAQ

|Perguntas|Respostas|Tema|
|---------|---------|----|
|Qual é a diferença entre *Status*, ReasonCode e ProviderReturnCode?|A explicação conforme a seguir:<br /><ul><li>Status: representa o status atual da transação.</li><li>ReasonCode: representa o status da requisição.</li><li>ProviderReturnCode: representa o código de resposta da transação da adquirente.</li></ul>Por exemplo, uma requisição de autorização poderá ter o retorno com ReasonCode=0 (Sucessfull), ou seja, a requisição finalizou com sucesso, porém, o Status poderá ser 0-Denied, por ter a transação não autorizada pela adquirente, por exemplo, ProviderReturnCode 57 (um dos códigos de negada da Cielo)|Integração|

```
</p></p></p></p></p></p></p>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://braspag.github.io//assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="http://www.braspag.com.br/fale-conosco/">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://braspag.github.io//">
        <img src="https://braspag.github.io//assets/images/logo.png" alt="Documentações e tutoriais">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="http://www.braspag.com.br/fale-conosco/">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/braspag">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://braspag.github.io//assets/bundles/js/bundle.min.js"></script>
        <script>
        
        var selectors = 'h1,h2,h3,h4,h5,h6';
        
        </script>

        
        <script src="https://braspag.github.io//assets/bundles/js/search.min.js"></script>
        

        
        <script>
        var langs = '';
        var langsArray = [];

        
        langs += "<a data-language-name='json'>JSON</a>";
        langsArray.push('json');
        
        langs += "<a data-language-name='shell'>cURL</a>";
        langsArray.push('shell');
        
        langs += "<a data-language-name='html'>HTML</a>";
        langsArray.push('html');
        

        var toggleCode = 'Comutar';
        </script>

        <script src='https://braspag.github.io//assets/bundles/js/language_buttons.min.js'></script>
        

        <!-- Hotjar Tracking Code for https://braspag.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:715256,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
