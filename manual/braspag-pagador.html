<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Manual de integração API Rest &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://braspag.github.io//assets/favicon.png">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <script src="https://use.fontawesome.com/3ae06f1030.js"></script>
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/poole.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/syntax.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/hyde.css">

    <link rel="stylesheet" href="https://braspag.github.io//assets/css/bootstrap.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery.tocify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/jquery-ui.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/prettify.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/custom.css">
    <link rel="stylesheet" href="https://braspag.github.io//assets/css/braspag.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://braspag.github.io//manual/braspag-pagador" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://braspag.github.io//en/manual/braspag-pagador" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://braspag.github.io//atom.xml">
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                    <li><a data-language-name='html'>HTML</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="http://www.braspag.com.br/suporte/" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://braspag.github.io//manual/braspag-pagador">
                                    

                                        <img alt="Português" src="https://braspag.github.io//assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://braspag.github.io//en/manual/braspag-pagador">
                                    

                                        <img alt="English" src="https://braspag.github.io//assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://braspag.github.io//manual/braspag-pagador">Manual de integração API Rest</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="introdução-ao-pagador-api">Introdução ao Pagador API</h1>

<p><strong>O objetivo desta documentação é orientar o desenvolvedor sobre como integrar com o API do Pagador, gateway de pagamentos da Braspag, descrevendo os serviços disponíveis com exemplos de requisição e respostas.</strong></p>

<p>Todas as operações requerem credenciais de acesso (Merchant ID e Merchant Key) específicos para respectivos ambientes: <strong>Sandbox</strong> e <strong>Produção</strong>. <a href="https://github.com/markdownlint/markdownlint/blob/master/docs/RULES.md">Para executar</a> uma operação, combine o endpoint base do ambiente com o endpoint da operação desejada e envie utilizando o VERBO HTTP conforme descrito na operação.</p>

<h2 id="ambientes">Ambientes</h2>

<h3 id="ambiente-sandbox">Ambiente Sandbox</h3>

<p>Experimente as nossas APIs sem compromisso!</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credenciais de Acesso à API</td>
      <td>Acesse o <a href="https://cadastrosandbox.braspag.com.br/">Cadastro do Sandbox</a> e crie uma conta de testes.<br />Ao fim do cadastro você receberá um <code class="highlighter-rouge">MerchantId</code> e um <code class="highlighter-rouge">MerchantKey</code>,<br /> que deverão ser utilizados para autenticar todas as requisições feitas para os endpoints da API</td>
    </tr>
    <tr>
      <td>Endpoint Transacional</td>
      <td>https://apisandbox.braspag.com.br/</td>
    </tr>
    <tr>
      <td>Endpoint para Serviços de Consultas</td>
      <td>https://apiquerysandbox.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h3 id="ambiente-de-produção">Ambiente de Produção</h3>

<p>Já estou pronto para entrar em Produção!</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credenciais de Acesso à API</td>
      <td>Envie um email para comercial@braspag.com.br para mais informações sobre a Braspag e sobre como podemos ajudar no seu negócio!</td>
    </tr>
    <tr>
      <td>Endpoint Transacional</td>
      <td>https://api.braspag.com.br/</td>
    </tr>
    <tr>
      <td>Endpoint para Serviços de Consultas</td>
      <td>https://apiquery.braspag.com.br/</td>
    </tr>
  </tbody>
</table>

<h2 id="suporte-braspag">Suporte Braspag</h2>

<aside class="notice">A Braspag oferece suporte de alta disponibilidade, com atendimento de segunda à sexta, das 9h às 19h, e telefone de emergência 24×7, através de ferramenta via web. Contamos com a equipe que poderá atender em português, inglês e espanhol</aside>

<ul>
  <li>Atendimento Web: <a href="http://suporte.braspag.com.br/">Zendesk</a></li>
</ul>

<h2 id="características-da-solução">Características da Solução</h2>

<p>A solução API Pagador foi desenvolvida com a tecnologia REST, que é padrão de mercado e independe da tecnologia utilizada por nossos clientes. Desta forma, é possível integrar-se utilizando as mais variadas linguagens de programação, tais como: ASP, ASP. Net, Java, PHP, Ruby, Python, entre outras.</p>

<p>Entre outras características, os atributos que mais se destacam na plataforma Braspag eCommerce:</p>

<ul>
  <li><strong>Ausência de aplicativos proprietários</strong>: não é necessário instalar aplicativos no ambiente da loja virtual em nenhuma hipótese.</li>
  <li><strong>Simplicidade</strong>: o protocolo utilizado é puramente o HTTPS.</li>
  <li><strong>Facilidade de testes</strong>: a plataforma Braspag oferece um ambiente Sandbox publicamente acessível, que permite ao desenvolvedor a criação de uma conta de testes sem a necessidade de credenciamento, facilitando e agilizando o início da integração.</li>
  <li><strong>Credenciais</strong>: o tratamento das credenciais do cliente (número de afiliação e chave de acesso) trafega no cabeçalho da requisição HTTP da mensagem.</li>
  <li><strong>Segurança</strong>: a troca de informações se dá sempre entre o Servidor da Loja e da Braspag, ou seja, sem o browser do comprador.</li>
  <li><strong>Multiplataforma</strong>: a integração é realizada através de Web Service REST.</li>
</ul>

<h2 id="arquitetura">Arquitetura</h2>

<p>A integração é realizada através de serviços disponibilizados como Web Services. O modelo empregado é bastante simples: Existem duas URLs (endpoints), uma específica para autorização, captura e cancelamento de transações, e uma outra para operações como pesquisa de transações. Essas duas URLs receberão as mensagens HTTP através dos métodos POST, GET ou PUT. Cada tipo de mensagem deve ser enviada para um endereço identificado através do “path”.</p>

<ul>
  <li><strong>POST</strong> - O método HTTP POST é utilizado na criação de uma transação.</li>
  <li><strong>PUT</strong> - O método HTTP PUT é utilizado para atualização de um recurso já existente. Por exemplo, captura ou cancelamento de uma transação previamente autorizada.</li>
  <li><strong>GET</strong> - O método HTTP GET é utilizado para consultas de recursos já existentes. Por exemplo, consulta de transações.</li>
</ul>

<p>Para que você possa desfrutar de todos os recursos disponíveis em nossa API, é importante que antes você conheça os conceitos envolvidos no processamento de uma transação de cartão de crédito.</p>

<ul>
  <li><strong>Autorização</strong>: A autorização (ou pré-autorização) é uma operação que viabiliza o processamento de uma venda com um cartão de crédito.A pré-autorização apenas sensibiliza o limite do cliente, mas ainda não gera cobrança na fatura para o consumidor. Desta forma, é necessário uma segunda operação, chamada ‘captura’.</li>
  <li><strong>Captura</strong>: Ao realizar uma pré-autorização, é necessário confirmá-la para que a cobrança seja efetivada. O tempo limite para capturar uma transação pré-autorizada varia de adquirente para adquirente, que pode ser por exemplo, de até 5 dias após a data da pré-autorização.</li>
  <li><strong>Captura Automática</strong>: É quando uma transação é autorizada e capturada no mesmo momento, isentando do lojista enviar uma confirmação posterior.</li>
</ul>

<aside class="warning">Uma transação autorizada somente gera o crédito para o lojista se ela for capturada.</aside>

<ul>
  <li><strong>Cancelamento</strong>: O cancelamento é necessário quando, por algum motivo, não se quer mais efetivar uma venda. No caso de uma pré-autorização, o cancelamento irá liberar o limite do cartão que foi sensibilizado em uma pré-autorização. Quando a transação já estiver sido capturada, o cancelamento irá desfazer a venda, mas deve ser executado até às 23:59:59 da data da autorização/captura.</li>
  <li><strong>Estorno</strong>: O estorno é aplicável quando uma transação criada no dia anterior ou antes já estiver capturada. Neste caso, a transação será submetida no processo de ‘chargeback’ pela adquirente.</li>
  <li><strong>Autenticação</strong>: O processo de autenticação possibilita realizar uma venda a qual passará pelo processo de autenticação do banco emissor do cartão, assim trazendo mais segurança para a venda e transferindo para o banco, o risco de fraude.</li>
  <li><strong>Cartão Protegido</strong>: É uma plataforma que permite o armazenamento seguro de dados sensíveis de cartão de crédito. Estes dados são transformados em um código criptografrado chamado de “token”, que poderá ser armazenado em banco de dados. Com a plataforma, a loja poderá oferecer recursos como “Compra com 1 clique” e “Retentativa de envio de transação”, sempre preservando a integridade e a confidencialidade das informações.</li>
  <li><strong>Antifraude</strong>: É uma plataforma de prevenção à fraude que fornece uma análise de risco detalhada das compras on-line. Este processo é totalmente transparente para o portador do cartão. De acordo com os critérios preestabelecidos, o pedido pode ser automaticamente aceito, recusado ou encaminhado para análise manual.</li>
</ul>

<h1 id="pagamentos">Pagamentos</h1>

<h2 id="cartão-de-crédito-e-débito">Cartão de Crédito e Débito</h2>

<h3 id="criando-uma-transação">Criando uma transação</h3>

<p>Para autoriazar uma transação de crédito, é necessário seguir o contrato abaixo. Os dados referentes à sua afiliação são enviados no nó <code class="highlighter-rouge">Payment.Credentials</code>, e devem ser enviados sempre que uma nova requisição de autorização for submetida para aprovação.</p>

<p>Caso a sua loja utilize os serviços de Retentaiva ou Loadbalance, as afiliações devem ser cadastradas pela equipe de suporte ao cliente. Para requisitar o cadastro de afiliações, clique <a href="http://suporte.braspag.com.br/">Aqui</a>.</p>

<aside class="notice">Os parâmetros contidos nos nós Address e DeliveryAddress são obrigatórios quando a transação é submetida ao Antifraude ou análise do Velocity. Na tabela de parâmetros abaixo, eles estão marcados com um * na coluna de obrigatoriedade.</aside>

<h4 id="requisição">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Alias"</span><span class="p">:</span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Credentials"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"password"</span><span class="p">:</span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"signature"</span><span class="p">:</span><span class="s2">"001"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ExtraDataCollection"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"ValorDoCampo"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051002"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678909"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:10000,
      <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
      <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
      <span class="s2">"Capture"</span>:true,
      <span class="s2">"Authenticate"</span>:false,
      <span class="s2">"Recurrent"</span>:false,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
      <span class="s2">"DoSplit"</span>:false,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Alias"</span>:<span class="s2">""</span>
      <span class="o">}</span>,
      <span class="s2">"Credentials"</span>:<span class="o">{</span>  
         <span class="s2">"code"</span>:<span class="s2">"9999999"</span>,
         <span class="s2">"key"</span>:<span class="s2">"D8888888"</span>,
         <span class="s2">"password"</span>:<span class="s2">"LOJA9999999"</span>,
         <span class="s2">"username"</span>:<span class="s2">"#Braspag2018@NOMEDALOJA#"</span>,
         <span class="s2">"signature"</span>:<span class="s2">"001"</span>
      <span class="o">}</span>,
      <span class="s2">"ExtraDataCollection"</span>:[  
         <span class="o">{</span>  
            <span class="s2">"Name"</span>:<span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>:<span class="s2">"ValorDoCampo"</span>
         <span class="o">}</span>
      <span class="o">]</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não*</td>
      <td>Endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não*</td>
      <td>Número endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Complemento do endereço de contato do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não*</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Cidade do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não*</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não*</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não*</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não*</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não*</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não*</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não*</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.DoSplit</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação será dividida entre várias contas (true) ou não (false)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo que será gravado o Dado Extra</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Code</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>afiliação gerada pela adquirente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Key</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>chave de afiliação/token gerado pela adquirente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Username</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>usuário gerado no credenciamento com a adquirente GetnNet (o campo deve obrigatoriamente ser enviado se a transação é direcionada para GetNet)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Password</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>senha gerada no credenciamento com a adquirente GetnNet (o campo deve obrigatoriamente ser enviado se a transação é direcionada para GetNet)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Signature</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Enviar o TerminalID da adquirete Global Payments (aplicável para lojistas filiados a esta adquirente). Ex.: 001</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Alias</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Não</td>
      <td>Nome atribuído pelo lojista ao cartão salvo como CardToken</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValorDoCampo"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
<span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051002"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>: <span class="s2">"Alphaville"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"DoSplit"</span>:false,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
            <span class="s2">"Alias"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="s2">"credentials"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"9999999"</span>,
            <span class="s2">"key"</span>: <span class="s2">"D8888888"</span>,
            <span class="s2">"password"</span>: <span class="s2">"LOJA9999999"</span>,
            <span class="s2">"username"</span>: <span class="s2">"#Braspag2018@NOMEDALOJA#"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
            <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
            <span class="s2">"Score"</span>: 0
        <span class="o">}</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"CapturedAmount"</span>: 10000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[{</span>
            <span class="s2">"Name"</span>: <span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>: <span class="s2">"ValorDoCampo"</span>
        <span class="o">}]</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedDate</code></td>
      <td>Data em que a transação foi capturada a transação</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CapturedAmount</code></td>
      <td>Valor capturado (sem pontuação)</td>
      <td>Número</td>
      <td>15</td>
      <td>100 equivale a R$ 1,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o resultado da autenticação</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h3 id="capturando-uma-transação">Capturando uma transação</h3>

<p>Uma transação submetida com o parâmetro <code class="highlighter-rouge">Payment.Capture</code> igual a <em>false</em> necessita de uma operação PUT de “Captura” para confirmar a transação posteriormente.</p>

<p>Transações que não forem capturadas em até 15 dias são automaticamente desfeitas pelas Processadoras. Clientes podem ter negociações específicas com as Processadoras que aumentam esse prazo.</p>

<h4 id="requisição-1">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/capture</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture?amount=xxx&amp;serviceTaxAmount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor a ser capturado (em centavos). Verificar se a adquirente utilizada suporta uma captura parcial</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Aplicável para companhias aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-1">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReasonCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ProviderReasonMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-com-autenticação">Transação com autenticação</h3>

<p>Quando uma transação é submetida ao processo de autenticação, o portador será redirecionado ao ambiente do emissor, onde deverá realizar a confirmação de seus dados. Quando validado corretamente, o risco de chargeback da transação passa a ser do emissor, ou seja, a loja não receberá contestações.</p>

<p>Existem duas maneiras para autenticar transações na Braspag: <strong>Padrão</strong> quando o lojista não possui uma conexão direta com um autenticador (MPI), e espera que o meio de pagamento redirecione o cliente para o ambiente de autenticação. <strong>Externa</strong> quando o lojista possui um autenticador próprio (MPI) e não espera que o meio de pagamento redirecione seu consumidor para o ambiente de autenticação.</p>

<h4 id="autenticação-padrão">Autenticação Padrão</h4>

<h5 id="requisição-2">Requisição</h5>

<p>O Parâmetro <code class="highlighter-rouge">Payment.Authenticate</code> deverá ser enviado como <em>true</em> conforme exemplo abaixo</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000000181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"SaveCard"</span>: <span class="s2">"false"</span>,
            <span class="s2">"Alias"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão. Para transaçõe autenticadas, neste campo, deve-se enviar o valor “True”. *Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim (quando Autenticate é true)</td>
      <td>URL para onde o usuário será redirecionado após o fim da autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-2">Resposta</h5>

<p>Uma transação com autenticação padrão receberá, além do retorno padrão da transação de autorização, o parâmetro <code class="highlighter-rouge">Payment.AuthenticationUrl</code>.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=9e61c78c0b0ca3e5db41fa7e31585eab"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930690009D2A47A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b125109f-681b-4338-8450-f3e38bc71b32"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 11:09:49"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000000181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"SaveCard"</span>: <span class="s2">"false"</span>,
            <span class="s2">"Alias"</span>: <span class="s2">""</span>
        <span class="o">[</span>...]
    <span class="o">}</span>,
    <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=9e61c78c0b0ca3e5db41fa7e31585eab"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"10069930690009D2A47A"</span>,
    <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"b125109f-681b-4338-8450-f3e38bc71b32"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 11:09:49"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"ReasonCode"</span>: 9,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Waiting"</span>,
    <span class="s2">"Status"</span>: 0,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
   <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para qual o Lojista deve redirecionar o Cliente para o fluxo de autenticação</td>
      <td>Texto</td>
      <td>256</td>
      <td>https://qasecommerce.cielo.com.br/web/index.cbmp?id=5f177203bf524c78982ad28f7ece5f08</td>
    </tr>
  </tbody>
</table>

<h4 id="autenticação-externa">Autenticação Externa</h4>

<h5 id="requisição-3">Requisição</h5>

<p>Adicione o nó <code class="highlighter-rouge">Payment.ExternalAuthentication</code> ao contrato padrão conforme exemplo. Este fluxo é suportado pelas adquirentes Cielo, Global Payments e Banorte.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
 </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ExternalAuthentication"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Xid"</span><span class="p">:</span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
     </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="o">[</span>...]
 <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000000181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"SaveCard"</span>: <span class="s2">"false"</span>,
            <span class="s2">"Alias"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
        <span class="s2">"Cavv"</span>:<span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
        <span class="s2">"Xid"</span>:<span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
        <span class="s2">"Eci"</span>:<span class="s2">"5"</span>
        <span class="o">}</span>,
     <span class="o">[</span>...]
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Cavv</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Sim</td>
      <td>O valor Cavv é retornado pelo mecanismo de autenticação externa</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Xid</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Sim</td>
      <td>O valor Xid é retornado pelo mecanismo de autenticação externa</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Eci</code></td>
      <td>Número</td>
      <td>1</td>
      <td>Sim</td>
      <td>O valor Eci é retornado pelo mecanismo de autenticação externa</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-3">Resposta</h5>

<p>Uma transação com autenticação externa receberá, além do retorno padrão da transação de autorização, o nó <code class="highlighter-rouge">Payment.ExternalAuthentication</code> com as mesmas informações envidas na requisição.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Xid"</span><span class="p">:</span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="o">[</span>...]
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
    <span class="s2">"CapturedAmount"</span>: 10000,
    <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
       <span class="s2">"Cavv"</span>:<span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
       <span class="s2">"Xid"</span>:<span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
       <span class="s2">"Eci"</span>:<span class="s2">"5"</span>,
     <span class="o">}</span>,
     <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Cavv</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Valor Cavv submetido na requisição de autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Xid</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Valor Xid submetido na requisição de autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Eci</code></td>
      <td>Número</td>
      <td>1</td>
      <td>Valor ECI submetido na requisição de autorização</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-com-cartão-de-débito">Transação com cartão de débito</h3>

<p>Uma transação com um Cartão de Débito se efetua de uma forma semelhante a um Cartão de Crédito, porém, é obrigatório submetê-la ao processo de autenticação.</p>

<h4 id="requisição-4">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DebitCard"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"DebitCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento. Atualmente somente a “Cielo” suporta esta forma de pagamento via Pagador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. No caso do cartão de débito (DebitCard)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-4">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930690009D366FA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21423fa4-6bcf-448a-97e0-e683fa2581ba"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:19:58"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
 <span class="o">[</span>...]
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"DebitCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"10069930690009D366FA"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"21423fa4-6bcf-448a-97e0-e683fa2581ba"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:19:58"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
    <span class="s2">"ReasonCode"</span>: 9,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Waiting"</span>,
    <span class="s2">"Status"</span>: 0,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para o qual o portador será redirecionado para autenticação</td>
      <td>Texto</td>
      <td>56</td>
      <td>https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-com-qr-code">Transação com QR Code</h3>

<p>Para criar uma transação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment, conforme o exemplo. Esse exemplo contempla o mínimo de campos necessários a serem enviados para a autorização.</p>

<aside class="notice">Atenção: Não é possivel realizar uma transação com valor (`Amount`) 0.</aside>

<h4 id="requisição-5">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
 </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"20191123"</span><span class="p">,</span><span class="w">
 </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"QRCode Test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
 </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cielo30"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
 <span class="s2">"MerchantOrderId"</span>:<span class="s2">"20191023"</span>,
 <span class="s2">"Customer"</span>:<span class="o">{</span>  
  <span class="s2">"Name"</span>:<span class="s2">"QRCode Test"</span>
  <span class="o">}</span>,
 <span class="s2">"Payment"</span>:<span class="o">{</span>
   <span class="s2">"Provider"</span>:<span class="s2">"Cielo30"</span>,
   <span class="s2">"Type"</span>:<span class="s2">"qrcode"</span>,
   <span class="s2">"Amount"</span>:500,
   <span class="s2">"Installments"</span>:1,
   <span class="s2">"Capture"</span>:false
   <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Número de identificação do pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Nome da provedora do meio de pagamento. Atualmente somente disponível na “Cielo”</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do meio de pagamento. Enviar <strong>qrcode</strong> para pagamento com QR Code.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Enviar <strong>true</strong> para uma transação de captura automática.</td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-5">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"20191023"</span><span class="p">,</span><span class="w">
 </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode Test"</span><span class="w">
 </span><span class="p">},</span><span class="w">
 </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52d641fb-2880-4024-89f4-7b452dc5d9cd"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"QrCodeBase64Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iVBORw0KGgoAAAA(...)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"403dba6-23e3-468b-92f8-f9af56d3b9d7"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QrCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-10-23 21:30:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo30"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode gerado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://apiquerysandbox.braspag.com.br/v2/sales/4031dba6-23e3-468b-92f8-f9af56d3b9d7"</span><span class="w">
   </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
 <span class="s2">"MerchantOrderId"</span>:<span class="s2">"20191023"</span>,
 <span class="s2">"Customer"</span>: <span class="o">{</span>
  <span class="s2">"Name"</span>: <span class="s2">"QRCode Test"</span>
 <span class="o">}</span>,
 <span class="s2">"Payment"</span>: <span class="o">{</span>
  <span class="s2">"Installments"</span>: 1,
  <span class="s2">"Capture"</span>: <span class="nb">false</span>,
  <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"52d641fb-2880-4024-89f4-7b452dc5d9cd"</span>,
  <span class="s2">"QrCodeBase64Image"</span>: <span class="s2">"iVBORw0KGgoAAAA(...)"</span>,
  <span class="s2">"PaymentId"</span>: <span class="s2">"403dba6-23e3-468b-92f8-f9af56d3b9d7"</span>,
  <span class="s2">"Type"</span>: <span class="s2">"QrCode"</span>,
  <span class="s2">"Amount"</span>: 100,
  <span class="s2">"ReceivedDate"</span>: <span class="s2">"2019-10-23 21:30:00"</span>,
  <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
  <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
  <span class="s2">"Provider"</span>: <span class="s2">"Cielo30"</span>,
  <span class="s2">"ReasonCode"</span>: 0,
  <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
  <span class="s2">"Status"</span>: 12,
  <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
  <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"QRCode gerado com sucesso"</span>,
  <span class="s2">"Links"</span>: <span class="o">[</span>
   <span class="o">{</span>
    <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
    <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
    <span class="s2">"Href"</span>: <span class="s2">"http://apiquerysandbox.braspag.com.br/v2/sales/4031dba6-23e3-468b-92f8-f9af56d3b9d7"</span>
   <span class="o">}</span>
  <span class="o">]</span>
 <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">QrCodeBase64Image</code></td>
      <td>QR Code codificado em base 64. Por exemplo, a imagem do QR Code poderá ser apresentada na página utilizando um código HTML como este:</td>
      <td>Texto</td>
      <td>Variável</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo identificador do pedido, necessário para operações como consulta, captura e cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da transação. No caso da transação de geração com QR Code, o status inicial é “12” (Pendente).</td>
      <td>Byte</td>
      <td>-</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirênica</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="cancelandoestornando-uma-transação">Cancelando/Estornando uma transação</h3>

<p>Para cancelar uma transação que utilizou cartão de crédito, é necessário fazer um PUT para o recurso Payment conforme o exemplo.</p>

<p>Abaixo segue a lista de adquirentes com as quais temos integração para solicitações de estorno:</p>

<table>
  <thead>
    <tr>
      <th>Adquirente</th>
      <th>Prazo Máximo para Solicitação de Estorno</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cielo</td>
      <td>300 dias</td>
    </tr>
    <tr>
      <td>Rede</td>
      <td>Tecnologia Komerci: 90 dias; Tecnologia eRede: 60 dias</td>
    </tr>
    <tr>
      <td>Getnet</td>
      <td>90 dias</td>
    </tr>
    <tr>
      <td>Transbank</td>
      <td>90 dias</td>
    </tr>
    <tr>
      <td>Banorte</td>
      <td>30 dias</td>
    </tr>
    <tr>
      <td>First Data</td>
      <td>90 dias</td>
    </tr>
    <tr>
      <td>Alelo</td>
      <td>300 dias</td>
    </tr>
  </tbody>
</table>

<aside class="warning">A disponibilidade do serviço de Estorno varia de adquirente para adquirente.</aside>

<h4 id="requisição-6">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/void?amount=xxx</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void?amount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor a ser cancelado/estornado (ser enviado em centavos). Verifique se a adquirente contratada suporta a operação de cancelamento ou estorno</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-6">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 10,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReasonCode"</span>: <span class="s2">"9"</span>,
    <span class="s2">"ProviderReasonMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-com-velocity-check">Transação com Velocity Check</h3>

<p>O Velocity Check é uma ferramenta de combate à fraudes massivas, que disparam rajadas de transações com dados de pagamento repetidos.  Ele analisa a frequência de elementos de rastreabilidade tais como Número do Cartão, CPF, CEP de entrega, entre outros, e bloqueia transações suspeitas.</p>

<p>A funcionalidade deve ser contratada à parte, e posteriormente habilitada em sua loja via painel. Quando o Velocity está ativo, a resposta da transação trará um nó específico chamado “Velocity”, com os detalhes da análise.</p>

<p>No caso da rejeição pela regra de Velocity, o ProviderReasonCode será BP 171 - Rejected by fraud risk (velocity, com ReasonCode 16 - AbortedByFraud).</p>

<h4 id="resposta-7">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reject"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"RejectReasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"RuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bloqueado pela regra CardNumber. Name: Máximo de 3 Hits de Cartão em 1 dia. HitsQuantity: 3. HitsTimeRangeInSeconds: 1440. ExpirationBlockTimeInSeconds: 1440"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">{</span>
    <span class="o">[</span>...]
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span>,
        <span class="s2">"ResultMessage"</span>: <span class="s2">"Reject"</span>,
        <span class="s2">"Score"</span>: 100,
        <span class="s2">"RejectReasons"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"RuleId"</span>: 49,
            <span class="s2">"Message"</span>: <span class="s2">"Bloqueado pela regra CardNumber. Name: Máximo de 3 Hits de Cartão em 1 dia. HitsQuantity: 3. HitsTimeRangeInSeconds: 1440. ExpirationBlockTimeInSeconds: 1440"</span>
        <span class="o">}]</span>
    <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.Id</code></td>
      <td>Identificador da análise efetuada</td>
      <td>GUID</td>
      <td>36</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.ResultMessage</code></td>
      <td>Accept ou Reject</td>
      <td>Texto</td>
      <td>25</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.Score</code></td>
      <td>100</td>
      <td>Número</td>
      <td>10</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.RejectReasons.RuleId</code></td>
      <td>Código da Regra que rejeitou</td>
      <td>Número</td>
      <td>10</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.RejectReasons.Message</code></td>
      <td>Descrição da Regra que rejeitou</td>
      <td>Texto</td>
      <td>512</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="boletos">Boletos</h2>

<h3 id="boleto-registrado">Boleto Registrado</h3>

<p>Com o objetivo de promover maior controle e segurança ao transacional de boletos no e-commerce e garantir mais confiabilidade e comodidade aos usuários, a Febraban em conjunto com os Bancos lançou a Nova Plataforma de Cobrança.</p>

<p>A partir de 21 de julho de 2018 todos os boletos emitidos no e-commerce, obrigatoriamente, terão de ser registrados. <a href="https://portal.febraban.org.br/pagina/3150/1094/pt-br/servicos-novo-plataforma-boletos">Clique aqui</a> para acessar o comunicado completo.</p>

<p>Abaixo seguem os procedimentos de migração/filiação de cada banco:</p>

<p><a href="https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/24157160-4da2-46d4-a119-60d8f614a842/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Bradesco.pdf">Bradesco</a><br /><a href="https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/0f4644c6-da10-42ab-b647-09786d5db5cb/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Banco_do_Brasil.pdf">Banco do Brasil</a><br /><a href="https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/de2e95e8-441a-4fa2-be01-9b89463477d0/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Ita%C3%BA_v1.1.pdf">Itaú</a><br /><a href="https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/a8661c34-6341-466a-86cf-078fb5e19626/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Santander.pdf">Santander</a><br /><a href="https://gallery.mailchimp.com/365fc3ca5e4f598460f07ecaa/files/fee80b87-2b37-4f19-b293-bb43389025de/Procedimento_de_Migra%C3%A7%C3%A3o_Boleto_Registrado_Caixa_v1.1.pdf">Caixa Econômica</a></p>

<h3 id="criando-uma-transação-de-boleto">Criando uma transação de Boleto</h3>

<p>Para gerar um boleto em Sandbox, é necessário fornecer dados do comprador como CPF e endereço. Abaixo temos um exemplo de como criar um pedido com o meio de pagamento boleto.</p>

<h4 id="requisição-7">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017091101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
     </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"BoletoNumber"</span><span class="p">:</span><span class="s2">"2017091101"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desmonstrative Teste"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12346578909"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento."</span><span class="p">,</span><span class="w">
     </span><span class="nl">"DaysToFine"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"FineRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"FineAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"DaysToInterest"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"InterestRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.00000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"InterestAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017091101"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Address"</span>:<span class="o">{</span>  
            <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
            <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
            <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
            <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
            <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
            <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
            <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"Boleto"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"BoletoNumber"</span>:<span class="s2">"2017091101"</span>,
     <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
     <span class="s2">"Demonstrative"</span>: <span class="s2">"Desmonstrative Teste"</span>,
     <span class="s2">"ExpirationDate"</span>: <span class="s2">"2017-12-31"</span>,
     <span class="s2">"Identification"</span>: <span class="s2">"12346578909"</span>,
     <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento."</span>,
     <span class="s2">"DaysToFine"</span>: 1,
     <span class="s2">"FineRate"</span>: 10.00000,
     <span class="s2">"FineAmount"</span>: 1000,
     <span class="s2">"DaysToInterest"</span>: 1,
     <span class="s2">"InterestRate"</span>: 5.00000,
     <span class="s2">"InterestAmount"</span>: 500
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Sim</td>
      <td>Nome do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Sim</td>
      <td>Endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Sim</td>
      <td>Número endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Não</td>
      <td>Complemento do endereço de contato do Comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>8</td>
      <td>Sim</td>
      <td>CEP do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Sim</td>
      <td>Bairro do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Sim</td>
      <td>Cidade do endereço de contato do comprador. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Estado do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
      <td>Pais do endereço de contato do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento de Boleto. <a href="https://braspag.github.io/manual/braspag-pagador#providers-para-boleto-com-registro">Clique aqui</a> para acessar a lista de provedoras.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. No caso “Boleto”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (deve ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Não</td>
      <td>Número do Boleto (“Nosso Número”). Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Assignor</code></td>
      <td>Texto</td>
      <td>200</td>
      <td>Não</td>
      <td>Nome do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Demonstrative</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Não</td>
      <td>Texto de Demonstrativo. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExpirationDate</code></td>
      <td>Date</td>
      <td>AAAA-MM-DD</td>
      <td>Não</td>
      <td>Dias para vencer o boleto. Caso não esteja previamente cadastrado no meio de pagamento, o envio deste campo é obrigatório. Se enviado na requisição, sobrepõe o valor configurado no meio de pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Identification</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>CNPJ do Cedente. Caso preenchido, sobrepõe o valor configurado no meio de pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Instructions</code></td>
      <td>Texto</td>
      <td>vide tabela abaixo</td>
      <td>Não</td>
      <td>Instruções do Boleto. Caso preenchido, sobrepõe o valor configurado no meio de pagamento. A regra varia de acordo com o Provider utilizado (vide tabela abaixo)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.NullifyDays</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Não</td>
      <td>Prazo para baixa automática do boleto. O cancelamento automático do boleto acontecerá após o número de dias estabelecido neste campo contado a partir da data do vencimento. Ex.: um boleto com vencimento para 15/12 que tenha em seu registro o prazo para baixa de 5 dias, poderá ser pago até 20/12, após esta data o título é cancelado. *Recurso válido somente para boletos registrados do Banco Santander.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.DaysToFine</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Opcional e somente para provider Bradesco2. Quantidade de dias após o vencimento para cobrar o valor da multa, em número inteiro. Ex: 3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FineRate</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Opcional e somente para provider Bradesco2. Valor da multa após o vencimento em percentual, com base no valor do boleto (%). Permitido decimal com até 5 casas decimais. Não enviar se utilizar FineAmount. Ex: 10.12345 = 10.12345%</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FineAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Opcional e somente para provider Bradesco2. Valor da multa após o vencimento em valor absoluto em centavos. Não enviar se utilizar FineRate.  Ex: 1000 = R$ 10,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.DaysToInterest</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Opcional e somente para provider Bradesco2.Quantidade de dias após o vencimento para iniciar a cobrança de juros por dia sobre o valor do boleto, em número inteiro. Ex: 3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.InterestRate</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Opcional e somente para provider Bradesco2. Valor de juros mensal após o vencimento em percentual, com base no valor do boleto (%). O valor de juros é cobrado proporcionalmente por dia (Mensal dividido por 30). Permitido decimal com até 5 casas decimais. Não enviar se utilizar InterestAmount. Ex: 10.12345</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.InterestAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Opcional e somente para provider Bradesco2. Valor absoluto de juros diário após o vencimento em centavos. Não enviar se utilizar InterestRate. Ex: 1000 = R$ 10,00</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-8">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017091101"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desmonstrative Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://homologacao.pagador.com.br/post/pagador/reenvia.asp/d24b0aa4-21c9-449d-b85c-6279333f070f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BoletoNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017091101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00091739000000100000494250000000263400656560"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00090.49420 50000.000260 34006.565609 1 73900000010000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Brigadeiro Faria Lima, 160"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12346578909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d24b0aa4-21c9-449d-b85c-6279333f070f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 16:42:55"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InterestAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FineAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DaysToFine"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DaysToInterest"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/d24b0aa4-21c9-449d-b85c-6279333f070f"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017091101"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Comprador"</span>,
    <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
    <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
    <span class="s2">"Address"</span>: <span class="o">{</span>
      <span class="s2">"Street"</span>: <span class="s2">"Alameda Xingu"</span>,
      <span class="s2">"Number"</span>: <span class="s2">"512"</span>,
      <span class="s2">"Complement"</span>: <span class="s2">"27 andar"</span>,
      <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
      <span class="s2">"City"</span>: <span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
     <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento."</span>,
    <span class="s2">"ExpirationDate"</span>: <span class="s2">"2017-12-31"</span>,
    <span class="s2">"Demonstrative"</span>: <span class="s2">"Desmonstrative Teste"</span>,
    <span class="s2">"Url"</span>: <span class="s2">"https://homologacao.pagador.com.br/post/pagador/reenvia.asp/d24b0aa4-21c9-449d-b85c-6279333f070f"</span>,
    <span class="s2">"BoletoNumber"</span>: <span class="s2">"2017091101"</span>,
    <span class="s2">"BarCodeNumber"</span>: <span class="s2">"00091739000000100000494250000000263400656560"</span>,
    <span class="s2">"DigitableLine"</span>: <span class="s2">"00090.49420 50000.000260 34006.565609 1 73900000010000"</span>,
    <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
    <span class="s2">"Address"</span>: <span class="s2">"Av. Brigadeiro Faria Lima, 160"</span>,
    <span class="s2">"Identification"</span>: <span class="s2">"12346578909"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"d24b0aa4-21c9-449d-b85c-6279333f070f"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 16:42:55"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"InterestAmount"</span>: 1,
    <span class="s2">"FineAmount"</span>: 5,
    <span class="s2">"DaysToFine"</span>: 1,
    <span class="s2">"DaysToInterest"</span>: 1,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/d24b0aa4-21c9-449d-b85c-6279333f070f"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ExpirationDate</code></td>
      <td>Data de expiração.</td>
      <td>Texto</td>
      <td>10</td>
      <td>2014-12-25</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Url</code></td>
      <td>URL do Boleto gerado</td>
      <td>string</td>
      <td>256</td>
      <td>https://…/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BoletoNumber</code></td>
      <td>“NossoNumero” gerado.</td>
      <td>Texto</td>
      <td>50</td>
      <td>2017091101</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BarCodeNumber</code></td>
      <td>Representação numérica do código de barras.</td>
      <td>Texto</td>
      <td>44</td>
      <td>00091628800000157000494250100000001200656560</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DigitableLine</code></td>
      <td>Linha digitável.</td>
      <td>Texto</td>
      <td>256</td>
      <td>00090.49420 50100.000004 12006.565605 1 62880000015700</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Address</code></td>
      <td>Endereço do Loja cadastrada no banco</td>
      <td>Texto</td>
      <td>256</td>
      <td>Av. Teste, 160</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
  </tbody>
</table>

<h3 id="conciliação-de-boletos">Conciliação de Boletos</h3>

<p>Para atualizar o status de um Boleto para Pago, o Pagador deve receber dos bancos os arquivos CNAB com as liquidações referentes. Para habilitar sua loja a receber os arquivos bancários, basta seguir o procedimento descrito <a href="https://suporte.braspag.com.br/hc/pt-br/articles/360007068352-Como-funciona-a-Concilia%C3%A7%C3%A3o-via-Nexxera-">aqui</a></p>

<h3 id="tabela-de-especificação-de-quantidade-de-caracteres-do-campo-por-provider">Tabela de Especificação de quantidade de caracteres do campo por Provider</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Propriedade</th>
      <th style="text-align: center">Bradesco</th>
      <th style="text-align: center">BancoBanco do Brasil</th>
      <th style="text-align: center">Itaú Shopline</th>
      <th style="text-align: center">Santander</th>
      <th style="text-align: center">Caixa Econômica</th>
      <th style="text-align: center">Citibank</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Provider</td>
      <td style="text-align: center">Bradesco2</td>
      <td style="text-align: center">BancoDoBrasil2</td>
      <td style="text-align: center">ItauShopline</td>
      <td style="text-align: center">Santander2</td>
      <td style="text-align: center">Caixa2</td>
      <td style="text-align: center">Citibank2</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td style="text-align: center">27 (OBS 1)</td>
      <td style="text-align: center">50 (OBS 1)</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">50 (OBS 1)</td>
      <td style="text-align: center">11 (OBS 1)</td>
      <td style="text-align: center">10 (OBS 1)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.BoletoNumber</code></td>
      <td style="text-align: center">11 (OBS 2)</td>
      <td style="text-align: center">9 (OBS 2)</td>
      <td style="text-align: center">8 (OBS 1)</td>
      <td style="text-align: center">13 (OBS 2)</td>
      <td style="text-align: center">14 (OBS 2)</td>
      <td style="text-align: center">11 (OBS 2)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Name</code></td>
      <td style="text-align: center">34 (OBS 3)</td>
      <td style="text-align: center">60 (OBS,3)</td>
      <td style="text-align: center">30</td>
      <td style="text-align: center">40 (OBS 3)</td>
      <td style="text-align: center">40 (OBS 3)</td>
      <td style="text-align: center">50 (OBS 3)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.Street</code>; <code class="highlighter-rouge">Customer.Address.Number</code>; <code class="highlighter-rouge">Customer.Address.Complement</code>; <code class="highlighter-rouge">Customer.Address.District</code></td>
      <td style="text-align: center">Street: 70 (OBS 4); Number: 10 (OBS 4); Complement: 20 (OBS 4); District: 50 (OBS 4)</td>
      <td style="text-align: center">Os campos devem totalizar até 60 caracteres / OBS 3</td>
      <td style="text-align: center">Street, Number e Complement devem totalizar até 40 caracteres;  District: 15</td>
      <td style="text-align: center">Street, Number e Complement devem totalizar até 40 caracteres (OBS 3); District: 15 (OBS 3)</td>
      <td style="text-align: center">Street, Number e Complement devem totalizar até 40 caracteres (OBS 3); District: 15 (OBS 3)</td>
      <td style="text-align: center">Street, Number e Complement devem totalizar até 40 caracteres (OBS 3); District: 50 (OBS 3)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td style="text-align: center">50 (OBS 4)</td>
      <td style="text-align: center">18 (OBS 3)</td>
      <td style="text-align: center">15</td>
      <td style="text-align: center">30 (OBS 3)</td>
      <td style="text-align: center">15 (OBS 3)</td>
      <td style="text-align: center">50 (OBS 4)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Instructions</code></td>
      <td style="text-align: center">450</td>
      <td style="text-align: center">450</td>
      <td style="text-align: center">não é enviado ao banco</td>
      <td style="text-align: center">450</td>
      <td style="text-align: center">450</td>
      <td style="text-align: center">450</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Demonstrative</code></td>
      <td style="text-align: center">255</td>
      <td style="text-align: center">não é enviado ao banco</td>
      <td style="text-align: center">não é enviado ao banco</td>
      <td style="text-align: center">255</td>
      <td style="text-align: center">255</td>
      <td style="text-align: center">255</td>
    </tr>
    <tr>
      <td style="text-align: left">»»»»»»»»»»»</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: left">Particularidades e Observações:</td>
      <td style="text-align: center">OBS 1: letras, números e caracteres como “_” e “$”</td>
      <td style="text-align: center">OBS 1: não é enviado ao banco</td>
      <td style="text-align: center">OBS geral: o Pagador trunca automaticamente os campos</td>
      <td style="text-align: center">OBS 1: não é enviado ao banco</td>
      <td style="text-align: center">OBS 1: quando ultrapassa os 11 dígitos, o pagador considera o número incremental cadastrado no admin</td>
      <td style="text-align: center">OBS geral: o Pagador não valida os campos, porém é truncado automaticamente pelo Banco</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: center">OBS 2: o valor é presistido no banco</td>
      <td style="text-align: center">OBS 2: quando enviado acima de 9 posições, o Pagador trunca automaticamente, considerando os últimos 9 dígitos</td>
      <td style="text-align: center">OBS 1: o nosso número será sempre igual ao Order ID, sendo que o pagador valida o tamanho do campo</td>
      <td style="text-align: center">OBS 2: o dado é validado pelo banco</td>
      <td style="text-align: center">OBS 2: inicia-se com “14” + 14 dígitos + dígito verificador gerado automaticamente. Quando maior que 14, o Pagador trunca pegando os últimos 14 digitos</td>
      <td style="text-align: center">OBS 1: quando fora do limite, o pagador gera um número incremental configurado a partir do Admin</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: center">OBS 3: o Pagador trunca automaticamente</td>
      <td style="text-align: center">OBS 3: são aceitos como caracteres válidos: as letras de A a Z (MAIÚSCULAS); caracteres especiais de conjunção: hífen (-), apóstrofo (‘). Quando utilizados não pode conter espaços entre as letras; Exemplos corretos: D’EL-REI, D’ALCORTIVO, SANT’ANA. Exemplos incorretos: D’EL - REI; até um espaço em branco entre palavras</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">OBS 3: o dado é validado pelo Pagador</td>
      <td style="text-align: center">OBS 3: o dado é validado pelo Pagador</td>
      <td style="text-align: center">OBS 2: quando fora do limite, o pagador gera um número aleatório</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: center">OBS 4: o dado é validado pelo Pagador</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">OBS 3: o Pagador trunca até o limite permitido e remove os caracteres especiais e acentuados</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">OBS 4: não é enviado para banco</td>
    </tr>
  </tbody>
</table>

<h2 id="recorrência">Recorrência</h2>

<p>Diferente dos pagamentos com cartão de crédito ou boleto tradicionais, os pagamentos recorrentes se repetem automaticamente por períodos e em intervalos determinados, cobrando sempre o mesmo valor de um mesmo cartão ou conta.</p>

<p>É muito utilizado para assinaturas de revistas, mensalidades, licenças de software, entre outros. Além da integração técnica, é necessário que o estabelecimento comercial do cliente esteja habilitado na processadora para receber pagamentos recorrentes.</p>

<p>O lojista conta com recursos diferenciados para modelar sua cobrança de acordo com o seu negócio, tais como: parametrização e alteração de periodicidade, data de início e fim, quantidade de tentativas, intervalo entre elas, entre outros.</p>

<p>Vendas recorrentes com cartão de crédito não exigem CVV.</p>

<h3 id="autorizar-uma-transação-recorrente">Autorizar uma transação recorrente</h3>

<p>Adicione o nó <code class="highlighter-rouge">RecurrentPayment</code> ao nó <code class="highlighter-rouge">Payment</code> para agendar as recorrência futuras ao autorizar uma transação pela primeira vez na série de recorrências.</p>

<h4 id="requisição-8">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-31"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"Monthly"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="o">[</span>...]
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
            <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
            <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-31"</span>,
            <span class="s2">"Interval"</span>:<span class="s2">"Monthly"</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Data para termino da recorrência</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Intervalo da recorrência.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
      <td>Se true, autoriza no momento da requisição. false para agendamento futuro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-9">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5646418"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511045646418"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100024"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"067f73ce-62fb-4d76-871d-0bcbb88fbd22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 16:56:46"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"808d3631-47ca-43b4-97f5-bd29ab06c271"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-11"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-31"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="o">[</span>...]
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"5646418"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511045646418"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"100024"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"067f73ce-62fb-4d76-871d-0bcbb88fbd22"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 16:56:46"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
      <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"808d3631-47ca-43b4-97f5-bd29ab06c271"</span>,
      <span class="s2">"ReasonCode"</span>: 0,
      <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
      <span class="s2">"NextRecurrency"</span>: <span class="s2">"2017-06-11"</span>,
      <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-31"</span>,
      <span class="s2">"Interval"</span>: <span class="s2">"Monthly"</span>,
      <span class="o">[</span>...]
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>ID que representa a recorrência, utilizada para consultas e alterações futuras</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data de quando acontecerá a próxima recorrência</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h3 id="agendamento-de-uma-recorrência">Agendamento de uma recorrência</h3>

<p>Diferente da recorrência anterior, este exemplo não autoriza imediatamente, mas agenda uma autorização futura.</p>

<p>Para programar a primeira transação da série de recorrência, passe o parâmetro <code class="highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code> como <em>“false”</em> e adicione o parâmetro <code class="highlighter-rouge">Payment.RecurrentPayment.StartDate</code>.</p>

<h4 id="requisição-9">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"RecurrentPayment"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-31"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"Monthly"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="o">[</span>...]
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:10000,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"false"</span>,
       <span class="s2">"StartDate"</span>:<span class="s2">"2017-12-31"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-31"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"Monthly"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.StartDate</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Data para início da recorrência</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Data para termino da recorrência</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Intervalo da recorrência.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
      <td>Se true, autoriza no momento da requisição. false para agendamento futuro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-10">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32703035-7dfb-4369-ac53-34c7ff7b84e8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-31"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="o">[</span>...]
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Undefined"</span>
    <span class="o">}</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"Status"</span>: 20,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
      <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"32703035-7dfb-4369-ac53-34c7ff7b84e8"</span>,
      <span class="s2">"ReasonCode"</span>: 0,
      <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
      <span class="s2">"NextRecurrency"</span>: <span class="s2">"2017-12-31"</span>,
      <span class="s2">"StartDate"</span>: <span class="s2">"2017-12-31"</span>,
      <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-31"</span>,
      <span class="s2">"Interval"</span>: <span class="s2">"Monthly"</span>,
      <span class="o">[</span>...]
      <span class="s2">"AuthorizeNow"</span>: <span class="nb">false</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">StartDate</code></td>
      <td>Data do inicio da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h3 id="alterar-dados-do-comprador">Alterar dados do comprador</h3>

<p>Para alterar os dados do comprador em uma recorrência já existente, basta fazer um PUT conforme o exemplo.</p>

<h4 id="requisição-10">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Customer</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Outro nome do Comprador"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"outrocomprador@braspag.com.br"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1999-12-12"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"0987654321"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Avenida Brigadeiro Faria Lima"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"1500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"05426200"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
   </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Avenida Brigadeiro Faria Lima"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"1500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"05426200"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Customer"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>   
    <span class="s2">"Name"</span>:<span class="s2">"Outro nome do Comprador"</span>,
    <span class="s2">"Email"</span>:<span class="s2">"outrocomprador@braspag.com.br"</span>,
    <span class="s2">"Birthdate"</span>:<span class="s2">"1999-12-12"</span>,
    <span class="s2">"Identity"</span>:<span class="s2">"0987654321"</span>,
    <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
    <span class="s2">"Address"</span>:<span class="o">{</span>  
    <span class="s2">"Street"</span>:<span class="s2">"Avenida Brigadeiro Faria Lima"</span>,
      <span class="s2">"Number"</span>:<span class="s2">"1500"</span>,
      <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
      <span class="s2">"ZipCode"</span>:<span class="s2">"05426200"</span>,
      <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
   <span class="o">}</span>,
   <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
    <span class="s2">"Street"</span>:<span class="s2">"Avenida Brigadeiro Faria Lima"</span>,
      <span class="s2">"Number"</span>:<span class="s2">"1500"</span>,
      <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
      <span class="s2">"ZipCode"</span>:<span class="s2">"05426200"</span>,
      <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
      <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
      <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
      <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador.</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço do comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-11">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="alterar-a-data-final-da-recorrência">Alterar a data final da recorrência</h3>

<p>Para alterar a data final da recorrência já existente, basta fazer um PUT conforme o exemplo.</p>

<h4 id="requisição-11">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/EndDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="s2">"2021-01-09"</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/EndDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2021-01-09"</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data para termino da recorrência</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-12">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="alterar-o-intervalo-da-recorrência">Alterar o intervalo da recorrência</h3>

<p>Para alterar o Intervalo de uma recorrência já existente, basta fazer um PUT conforme o exemplo.</p>

<h4 id="requisição-12">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Interval</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="mi">6</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Interval"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
6
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo da recorrência. MonthlyBimonthly Quarterly SemiAnnual Annual</td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-13">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="alterar-o-dia-da-recorrência">Alterar o dia da recorrência</h3>

<p>Para modificar o dia de vencimento de uma recorrência já existente, basta fazer um PUT conforme o exemplo.</p>

<aside class="notice">Regra: Se o novo dia informado for depois do dia atual, iremos atualizar o dia da recorrência com efeito na próxima recorrência Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/05. Quando eu atualizar para o dia 10, a data da próxima recorrência será dia10/05. Se o novo dia informado for antes do dia atual, iremos atualizar o dia da recorrência, porém este só terá efeito depois que a próxima recorrência for executada com sucesso. Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/05. Quando eu atualizar para o dia 3, a data da próxima recorrência permanecerá dia 25/05, e após ela ser executada, a próxima será agendada para o dia 03/06. Se o novo dia informado for antes do dia atual, mas a próxima recorrência for em outro mês, iremos atualizar o dia da recorrência com efeito na próxima recorrência. Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/09. Quando eu atualizar para o dia 3, a data da próxima recorrência será 03/09</aside>

<h4 id="requisição-13">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="mi">16</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
16
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrencyDay</code></td>
      <td>Dia da Recorrência</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-14">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="alterar-o-valor-da-transação-da-recorrência">Alterar o valor da transação da recorrência</h3>

<p>Para modificar o valor da transação de uma recorrência já existente, basta fazer um PUT conforme o exemplo.</p>

<h4 id="requsição">Requsição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Amount</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="mi">156</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Amount"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
156
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido em centavos: 156 equivale a R$ 1,56</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Essa alteração só afeta a data de pagamento da próxima recorrência.</aside>

<h4 id="resposta-15">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="alterar-a-data-do-próximo-pagamento">Alterar a data do próximo Pagamento</h3>

<p>Para alterar somente a data do próximo pagamento, basta fazer um PUT conforme o exemplo.</p>

<p>Esta operação modifica somente a data do próximo pagamento, ou seja, a recorrências futuras permanecerão com as características originais.</p>

<h4 id="requisição-14">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="s2">"2017-06-15"</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2016-06-15"</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextPaymentDate</code></td>
      <td>Data de pagamento da próxima recorrência</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-16">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="alterar-os-dados-de-pagamento-da-recorrência">Alterar os dados de Pagamento da recorrência</h3>

<p>Durante o ciclo de vida de uma recorrência, é possível alterar:</p>

<ul>
  <li>Processadora (de Rede para Cielo, por exemplo)</li>
  <li>Cartão (em caso de cartão vencido)</li>
  <li>Meio de pagamento (de Cartão para Boleto e vice e versa)</li>
</ul>

<p>Para alterar os dados de pagamento, basta fazer um PUT conforme o exemplo.</p>

<aside class="notice">Atenção: Essa alteração afeta a todos os dados do nó Payment. Então para manter os dados anteriores você deve informar os campos que não vão sofrer alterações com os mesmos valores que já estavam salvos.</aside>

<h4 id="requisição-15">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Payment</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="s2">"20000"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4111111111111111"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"05/2019"</span><span class="w">
      </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Payment"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
   <span class="s2">"Amount"</span>:<span class="s2">"20000"</span>,
   <span class="s2">"Installments"</span>:3,
   <span class="s2">"Country"</span>:<span class="s2">"USA"</span>,
   <span class="s2">"Currency"</span>:<span class="s2">"USD"</span>,
   <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
   <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
   <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
      <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>,
      <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
      <span class="s2">"CardNumber"</span>:<span class="s2">"4111111111111111"</span>,
      <span class="s2">"ExpirationDate"</span>:<span class="s2">"05/2019"</span>
      <span class="o">}</span>,
   <span class="s2">"Credentials"</span>: <span class="o">{</span>
      <span class="s2">"code"</span>: <span class="s2">"9999999"</span>,
      <span class="s2">"key"</span>: <span class="s2">"D8888888"</span>,
      <span class="s2">"password"</span>: <span class="s2">"LOJA9999999"</span>,
      <span class="s2">"username"</span>: <span class="s2">"#Braspag2018@NOMEDALOJA#"</span>,
      <span class="s2">"signature"</span>: <span class="s2">"001"</span>
      <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura do portador</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do comprador</td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão</td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão</td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Code</code></td>
      <td>afiliação gerada pela adquirente</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Key</code></td>
      <td>chave de afiliação/token gerado pela adquirente</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Username</code></td>
      <td>usuário gerado no credenciamento com a adquirente (provedores como Rede e Getnet utilizam usuário e senha nas comunicações, logo o campo deve obrigatoriamente ser enviado.)</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Password</code></td>
      <td>senha gerada no credenciamento com a adquirente (provedores como Rede e Getnet utilizam usuário e senha nas comunicações, logo o campo deve obrigatoriamente ser enviado.)</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Signature</code></td>
      <td>Enviar o TerminalID da adquirete Global Payments (aplicável para lojistas filiados a esta adquirente). Ex.: 001</td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-17">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="desabilitando-um-pedido-recorrente">Desabilitando um Pedido recorrente</h3>

<p>Para desabilitar um pedido recorrente, basta fazer um PUT conforme o exemplo.</p>

<h4 id="requisição-16">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Deactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Deactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-18">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="reabilitando-um-pedido-recorrente">Reabilitando um Pedido recorrente</h3>

<p>Para Reabilitar um pedido recorrente, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-17">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Reactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Reactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-19">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo HTTP Status Code para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="transação-com-renova-fácil">Transação com Renova Fácil</h3>

<p>O Renova fácil é um serviço desenvolvido pela CIELO junto com os bancos emissores, cujo objetivo é aumentar a taxa de conversão de vendas recorrentes com cartão de crédito.</p>

<p>Através da identificação de cartões vencidos no momento da transação, é feita a autorização com um novo cartão e é retornado o novo cartão para armazenagem.</p>

<p>Para utilizar o Renova Fácil, é necessário que o serviço esteja habilitado na CIELO. Não é necessário enviar nenhuma informação extra na requisição de autorização, porém a resposta terá um nó a mais conforme exemplo abaixo.</p>

<p>Bancos Emissores participantes: Bradesco, Banco do Brasil, Santander, Panamericano, Citibank</p>

<h4 id="resposta-20">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0512105630844"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NewCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000512353"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05/2020"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca81c3c9-2dfa-4e6e-9c77-37e33a77ac84"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-12 10:56:30"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CardExpired"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Card Expired"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">{</span>
  <span class="o">[</span>...]
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2016"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0512105630844"</span>,
    <span class="s2">"NewCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000512353"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"05/2020"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"ca81c3c9-2dfa-4e6e-9c77-37e33a77ac84"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-12 10:56:30"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 15,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"CardExpired"</span>,
    <span class="s2">"Status"</span>: 3,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"57"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Card Expired"</span>,
    <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">NewCard.CardNumber</code></td>
      <td>Novo Número do Cartão do comprador</td>
      <td>Texto</td>
      <td>16</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.Holder</code></td>
      <td>Nome do portador impresso no novo cartão</td>
      <td>Texto</td>
      <td>25</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.ExpirationDate</code></td>
      <td>Data de validade impresso no novo cartão</td>
      <td>Texto</td>
      <td>7</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do novo cartão</td>
      <td>Texto</td>
      <td>4</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.Brand</code></td>
      <td>Bandeira do novo cartão</td>
      <td>Texto</td>
      <td>10</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="transferência-eletrônica">Transferência Eletrônica</h2>

<p>Semelhante ao Pagamento com Cartão de Débito, a Transferência Eletrônica conecta o consumidor ao seu banco para autenticar uma venda à débito. A diferença entre ambos é que as Transferências não são submetidas à processadora nem dependem de dados de cartão.</p>

<h3 id="criando-uma-transação-1">Criando uma transação</h3>

<p>Para criar uma venda, é necessário fazer um POST para o recurso Payment conforme o exemplo.</p>

<h4 id="requisição-18">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051109"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="err">split</span><span class="w">
             </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
         </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"EletronicTransfer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Beneficiary"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Bank"</span><span class="p">:</span><span class="s2">"Bradesco"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Shopper"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Branch"</span><span class="p">:</span><span class="s2">"1669"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Account"</span><span class="p">:</span><span class="s2">"19887-5"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051109"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@braspag.com.br"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
             <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
             <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
             <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
             <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
             <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
             <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
             <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
             <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"EletronicTransfer"</span>,
        <span class="s2">"Amount"</span>:10000,
        <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.braspag.com.br"</span>,
        <span class="s2">"Beneficiary"</span>:
            <span class="o">{</span>
            <span class="s2">"Bank"</span>:<span class="s2">"Bradesco"</span>
        <span class="o">}</span>,
        <span class="s2">"Shopper"</span>:<span class="o">{</span>
            <span class="s2">"Branch"</span>:<span class="s2">"1669"</span>,
            <span class="s2">"Account"</span>:<span class="s2">"19887-5"</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço de contato do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número endereço de contato do comprador</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço de contato do Comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Beneficiary.Bank</code></td>
      <td>Banco do pagador (obrigatório somente para transferência eletrônica com Provider PayMeeSemiTransparent).</td>
      <td>Texto</td>
      <td>100</td>
      <td>Condicional</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Shopper.Branch</code></td>
      <td>Agência do pagador (obrigatório somente para transferência eletrônica com Provider PayMeeSemiTransparent).</td>
      <td>Texto</td>
      <td>100</td>
      <td>Condicional</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Shopper.Account</code></td>
      <td>Conta do pagador (obrigatório somente para transferência eletrônica com Provider PayMeeSemiTransparent).</td>
      <td>Texto</td>
      <td>100</td>
      <td>Condicional</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-21">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051109"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
            </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"765548b6-c4b8-4e2c-b9b9-6458dbd5da0a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EletronicTransfer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25 09:37:55"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051109"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Url"</span>: <span class="s2">"https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"765548b6-c4b8-4e2c-b9b9-6458dbd5da0a"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"EletronicTransfer"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2015-06-25 09:37:55"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco"</span>,
        <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 0,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Url</code></td>
      <td>URL para a qual o comprador deverá ser redirecionado para autenticação da Transferência Eletrônica</td>
      <td>Texto</td>
      <td>256</td>
      <td>Url de Autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
  </tbody>
</table>

<h2 id="e-wallets">E-Wallets</h2>

<h3 id="o-que-são-e-wallets-carteiras-digitais">O que são e-Wallets (Carteiras Digitais)</h3>

<p>São repositórios de cartões e dados de pagamentos para consumidores do e-commerce e mundo físico. As Carteiras digitais permitem que um consumidor realize o cadastro de seus dados de pagamento, tornando o processo de compra mais conveniente e seguro.</p>

<blockquote>
  <p><em>Para utilizar carteiras no Pagador, o lojista deverá possuir as carteiras integradas em seu checkout</em>.</p>
</blockquote>

<p>Para maiores informações, entre em contato com o provedor de sua preferência para contratar o serviço.</p>

<h3 id="e-wallets-disponíveis">E-Wallets Disponíveis</h3>

<p>O Pagador possui suporte para:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th style="text-align: center">Carteira</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://www.apple.com/br/apple-pay/"><em>Apple Pay</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://www.samsung.com.br/samsungpay/"><em>Samsung Pay</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://www.android.com/intl/pt-BR_br/pay/"><em>Android Pay</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://vaidevisa.visa.com.br/site/visa-checkout"><em>VisaCheckout</em></a></td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td style="text-align: center"><a href="https://masterpass.com/pt-br/"><em>MasterPass</em></a></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<aside class="notice">Atenção: Quando o nó “Wallet” for enviado na requisição, o nó “CreditCard” passa a ser opcional.</aside>

<aside class="notice">Atenção: Para o cartão de débito, quando for enviado na requisição o nó “Wallet”, será necessário o nó “DebitCard” contendo a “ReturnUrl”.</aside>

<h3 id="integração">Integração</h3>

<h4 id="requisição-padrão">Requisição Padrão</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDENTIFICADOR DA LOJA NA WALLET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN INFORMADO PELA WALLET"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.EphemeralPublicKey</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.capturecode</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.Signature</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">AndroidPay</code></td>
    </tr>
  </tbody>
</table>

<h5 id="walletkey">Walletkey</h5>

<p>Formato de <code class="highlighter-rouge">WalletKeys</code> que devem ser repassados ao Pagador API</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Apple Pay</em></td>
      <td>9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+easdhghrsa/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>Samsung Pay</em></td>
      <td>eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR–gApzoXH-fdafddfa-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ`</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>Android Pay</em></td>
      <td>{"encryptedMessage":"0mXBb94Cy9JZhMuwtrBhMjXb8pDslrNsN5KhcEqnowOINqJgjXHD36KcCuzpQQ4cDAe64ZLmk2N3UBGXsN9hMMyeMakXlidVmteE+QMaNZIor048oJqlUIFPD54B/ic8zCdqq3xnefUmyKQe0I03x57TcEA9xAT/E4x3rYfyqLFUAEtu2lT0GwTdwgrsT8pKoTldHIgP+wVNTjrKvJrB4xM/Bhn6JfcSmOzFyI6w37mBU71/TK761nYOSxt7z1bNWSLZ4b8xBu1dlRgen2BSlqdafuQjV3UZjr6ubSvaJ8NiCh5FD/X013kAwLuLALMS2uAFS9j8cZ6R6zNIi13fK6Fe4ACbFTHwLzSNZjQiaRDb6MlMnY8/amncPIOXzpirb5ScIz8EZUL05xd+3YWVTVfpqgFo1eaaS+wZdUyRG0QEgOsr6eLBoH8d5lfV9Rx6XdioorUuT7s1Yqc0OJZO+fhBt6X0izE9hBGTexdZyg\u003d\u003d","ephemeralPublicKey":"BMdwrkJeEgCOtLevYsN3MbdP8xbOItXiTejoB6vXy0Kn0ZM10jy4Aasd6jTSxtoxoTpFydLhj5kzoOhbw2OzZu0\u003d","tag":"yAQIjWZ0VuCC7SWyYwc4eXOzpSUKhZduF9ip0Ji+Gj8\u003d"}</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>VisaCheckout</em></td>
      <td>1140812334225873901</td>
      <td>.</td>
    </tr>
    <tr>
      <td><em>Masterpass</em></td>
      <td>a561da1c18a89cfdafas875f9d43fc46cd9bf3e1</td>
      <td>.</td>
    </tr>
  </tbody>
</table>

<h5 id="ephemeralpublickey">EphemeralPublicKey</h5>

<p>Formato de <code class="highlighter-rouge">EphemeralPublicKey</code> que devem ser repassados ao Pagador API</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Apple Pay</em></td>
      <td><code class="highlighter-rouge">MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ==</code></td>
    </tr>
  </tbody>
</table>

<p>Formato de <code class="highlighter-rouge">Signature</code> que devem ser repassados ao Pagador API</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Android Pay</em></td>
      <td><code class="highlighter-rouge">MEUCIQCGQLOmwxe5eFMSuTcr4EcwSZu35fB0KlCWcVop6ZxxhgIgbdtNHThSlynOopfxMIxkDs0cLh2NFh5es+J5uDmaViA\u003d</code></td>
    </tr>
  </tbody>
</table>

<h4 id="respostas">Respostas</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BJORN IRONSIDE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDENTIFICADOR DA LOJA NA WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN INFORMADO PELA WALLET"</span><span class="w">
            </span><span class="p">},</span><span class="w">                
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>–</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>–</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>–</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.Signature</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">AndroidPay</code></td>
      <td>Texto</td>
      <td>–</td>
      <td>Ver Tabela <code class="highlighter-rouge">Signature</code></td>
    </tr>
  </tbody>
</table>

<h3 id="exemplos">Exemplos</h3>

<h4 id="apple-pay">Apple Pay</h4>

<aside class="notice">Pré-requisitos: Para utilização da Apple Pay é necessário que a loja já esteja cadastrada junto à Apple e possua um MerchantIdentifier. Também é necessário o upload de um certificado CSR no formato PEM fornecido pela Braspag. Abaixo segue o passo a passo para disponibilizar a Apple Pay em sua loja.</aside>

<h5 id="passo-1-contratação-na-apple">Passo 1. Contratação na Apple</h5>

<p>É necessário que a Apple Pay seja contratada na Apple através do contato comercial abaixo (o contato deve ser feito em inglês):</p>

<p><em>Shawn Munyon (smunyon@apple.com)</em></p>

<h5 id="passo-2-obtenção-do-merchantidentifier">Passo 2. Obtenção do MerchantIdentifier</h5>

<p>Uma vez que a contratação estiver efetivada, receberá acesso ao painel “Apple Developer”, e será necessária a criação do <code class="highlighter-rouge">MerchantIdentifier</code>. Para tanto, realize os passos abaixo:</p>
<ol>
  <li>Faça login em <a href="https://developer.apple.com/">Apple Developer</a></li>
  <li>Selecione <strong>Certificate, IDs &amp; Profile</strong></li>
  <li>Dentro da área “Identifiers” clique em “Merchant IDs”</li>
  <li>Clique no <strong>+</strong> no canto direito, abaixo do “Registering a Merchant ID”</li>
  <li>Defina a descrição do MerchantID e o identificador. Exemplo.: “merchant.com.BRASPAG.merchantAccount”</li>
  <li>Clique em “continuar” e verifique se as informações inseridas estão corretas</li>
  <li>Finalize o processo.</li>
</ol>

<p>O <code class="highlighter-rouge">MerchantIdentifier</code> deve ser enviado à Braspag por meio do <a href="https://suporte.braspag.com.br/hc/pt-br/restricted?return_to=https%3A%2F%2Fsuporte.braspag.com.br%2Fhc%2Fpt-br">canal de suporte</a> para criação de um <strong>Certificado CSR no formato PEM</strong>.</p>

<h5 id="passo-3-upload-do-certificado-csr">Passo 3. Upload do Certificado CSR</h5>

<p>Após enviar o <code class="highlighter-rouge">MerchantIdentifier</code> para a equipe da Braspag, a loja receberá o certificado de extensão <code class="highlighter-rouge">PEM</code> e deverá seguir os seguintes passos:</p>

<ol>
  <li>Faça login em <a href="https://developer.apple.com/">Apple Developer</a></li>
  <li>Selecione <strong>Certificate, IDs &amp; Profiles</strong>
<img src="https://braspag.github.io//images/apple-paymid.jpg" alt="Aplle Pay" /></li>
  <li>Realize o upload do certificado
<img src="https://braspag.github.io//images/apple-pay.jpg" alt="Aplle Pay" /></li>
  <li>Finalize o processo</li>
</ol>

<p>O Certificado PEM contém o código CSR solicitado pela Apple.</p>

<p>Formato de um PEM:</p>

<p>—–BEGIN CERTIFICATE REQUEST—–</p>

<p>MIHyMIGYAgEAMDgxCzAJBgNVBAYTAkJSMRAwDgYDVQQKDAdicmFzcGFnMRcwFQYDVQQDDA5icmFzcGFnLmNvbS5icjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABFUL1F/ue9/T5SrEyE1wTPQxk5x3ZHEelB7VHObDTW7pjauFrE88J25w7iRCKNP6u2fPmBtM9nY30/xQCgBH9aUwCgYIKoZIzj0EAwIDSQAwRgIhAPyF47xmfy+9czlr0a94eSd/YG27G8akujpkIUd56qWmAiEAqV6aSVISmH9NveOKGJdZ6VvkbELK2uqu2yCpg/lfYc8=</p>

<p>—–END CERTIFICATE REQUEST—</p>

<h5 id="passo-4-integração-com-apple-pay">Passo 4. Integração com Apple Pay</h5>

<p>A integração requer dois passos: o primeiro é a integração direta com a solução da Apple, para disponibilizar o botão “Pagar com Apple Pay” em seu site ou aplicativo. Para tanto, a equipe da Apple fará um acompanhamento de perto. <a href="https://developer.apple.com/apple-pay/">Clique aqui</a> para acessar a documentação técnica da Apple.</p>

<p>Nesta etapa, não é preciso realizar o processo de criptografia de dados retornados pela Apple. Este trabalho será realizado pela Braspag, através dos procedimentos descritos na próxima etapa.</p>

<h5 id="passo-5-integração-com-pagador-decriptografia-e-autorização">Passo 5. Integração com Pagador (decriptografia e autorização)</h5>

<p>O segundo passo de integração é efetivar o fluxo de autorização via gateway da Braspag (Pagador). Para tanto, é necessário fornecer os dados recebidos no fluxo com a Apple Pay, inclusive WalletKey e EphemeralPublicKey.</p>

<h5 id="requisição-19">Requisição</h5>

<p>Exemplo de Requisição padrão <em>Apple Pay</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração Apple Pay, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ=="</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.EphemeralPublicKey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-22">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BJORN IRONSIDE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ=="</span><span class="w">
            </span><span class="p">},</span><span class="w">                
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
  </tbody>
</table>

<h4 id="samsung-pay">Samsung Pay</h4>

<h5 id="requisição-20">Requisição</h5>

<p>Exemplo de Requisição padrão <em>Samsung Pay</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração Samsung Pay, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"SamsungPay"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="s2">"eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-23">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BJORN IRONSIDE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SamsungPay"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
  </tbody>
</table>

<h4 id="android-pay">Android Pay</h4>

<h5 id="requisição-21">Requisição</h5>

<p>Exemplo de Requisição padrão <em>Android Pay</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração Android Pay, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"AndroidPay"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="s2">"{</span><span class="se">\"</span><span class="s2">encryptedMessage</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0mXBb94Cy9JZhMuwtrBhMjXb8pDslrNsN5KhcEqnowOINqJgjXHD36KcCuzpQQ4cDAe64ZLmk2N3UBGXsN9hMMyeMakXlidVmteE+QMaNZIor048oJqlUIFPD54B/ic8zCdqq3xnefUmyKQe0I03x57TcEA9xAT/E4x3rYfyqLFUAEtu2lT0GwTdwgrsT8pKoTldHIgP+wVNTjrKvJrB4xM/Bhn6JfcSmOzFyI6w37mBU71/TK761nYOSxt7z1bNWSLZ4b8xBu1dlRgen2BSlqdafuQjV3UZjr6ubSvaJ8NiCh5FD/X013kAwLuLALMS2uAFS9j8cZ6R6zNIi13fK6Fe4ACbFTHwLzSNZjQiaRDb6MlMnY8/amncPIOXzpirb5ScIz8EZUL05xd+3YWVTVfpqgFo1eaaS+wZdUyRG0QEgOsr6eLBoH8d5lfV9Rx6XdioorUuT7s1Yqc0OJZO+fhBt6X0izE9hBGTexdZyg</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ephemeralPublicKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BMdwrkJeEgCOtLevYsN3MbdP8xbOItXiTejoB6vXy0Kn0ZM10jy4Aasd6jTSxtoxoTpFydLhj5kzoOhbw2OzZu0</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">tag</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">yAQIjWZ0VuCC7SWyYwc4eXOzpSUKhZduF9ip0Ji+Gj8</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"AdditionalData"</span><span class="p">:{</span><span class="w">
           </span><span class="nl">"Signature"</span><span class="p">:</span><span class="s2">"MEUCIQCGQLOmwxe5eFMSuTcr4EcwSZu35fB0KlCWcVop6ZxxhgIgbdtNHThSlynOopfxMIxkDs0cLh2NFh5es+J5uDmaViA</span><span class="se">\u</span><span class="s2">003d"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.Signature</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">AndroidPay</code></td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-24">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BJORN IRONSIDE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AndroidPay"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">encryptedMessage</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0mXBb94Cy9JZhMuwtrBhMjXb8pDslrNsN5KhcEqnowOINqJgjXHD36KcCuzpQQ4cDAe64ZLmk2N3UBGXsN9hMMyeMakXlidVmteE+QMaNZIor048oJqlUIFPD54B/ic8zCdqq3xnefUmyKQe0I03x57TcEA9xAT/E4x3rYfyqLFUAEtu2lT0GwTdwgrsT8pKoTldHIgP+wVNTjrKvJrB4xM/Bhn6JfcSmOzFyI6w37mBU71/TK761nYOSxt7z1bNWSLZ4b8xBu1dlRgen2BSlqdafuQjV3UZjr6ubSvaJ8NiCh5FD/X013kAwLuLALMS2uAFS9j8cZ6R6zNIi13fK6Fe4ACbFTHwLzSNZjQiaRDb6MlMnY8/amncPIOXzpirb5ScIz8EZUL05xd+3YWVTVfpqgFo1eaaS+wZdUyRG0QEgOsr6eLBoH8d5lfV9Rx6XdioorUuT7s1Yqc0OJZO+fhBt6X0izE9hBGTexdZyg</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ephemeralPublicKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BMdwrkJeEgCOtLevYsN3MbdP8xbOItXiTejoB6vXy0Kn0ZM10jy4Aasd6jTSxtoxoTpFydLhj5kzoOhbw2OzZu0</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">tag</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">yAQIjWZ0VuCC7SWyYwc4eXOzpSUKhZduF9ip0Ji+Gj8</span><span class="se">\\</span><span class="s2">u003d</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Signature"</span><span class="p">:</span><span class="s2">"MEUCIQCGQLOmwxe5eFMSuTcr4EcwSZu35fB0KlCWcVop6ZxxhgIgbdtNHThSlynOopfxMIxkDs0cLh2NFh5es+J5uDmaViA</span><span class="se">\u</span><span class="s2">003d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">AndroidPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.Signature</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">AndroidPay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">Signature</code></td>
    </tr>
  </tbody>
</table>

<h4 id="masterpass">MasterPass</h4>

<p>Para utilizar o MasterPass é necessário a contratação do serviço através do contato diretamente com a Mastercard, selecionando a Braspag como service provider</p>

<h5 id="requisição-22">Requisição</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador MasterPass"</span><span class="w">     
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"MasterPass"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="s2">"a561da1c18a89cfdafas875f9d43fc46cd9bf3e1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"AdditionalData"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"CaptureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: “Masterpass”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que representa os dados do cartão - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData</code></td>
      <td>—</td>
      <td>—</td>
      <td>—</td>
      <td>Instancia para dados extras informados pela MasterPass. Obrigatório apenas se TYPE = “MasterPass”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.capturecode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código informado pela MasterPass ao lojista</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-25">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador Masterpass"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******3703"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0915052536103"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Masterpass"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CaptureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"689da793-fc99-4900-89f1-9e7fdaa06ef8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-15 17:25:35"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Card Expired"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/689da793-fc99-4900-89f1-9e7fdaa06ef8"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: “VisaCheckout” ou “Masterpass”</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Capturecode</code></td>
      <td>Código informado pela MasterPass ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="visa-checkout">Visa Checkout</h4>

<p>Para utilizar o Visa Checkout é necessário a contratação do serviço através do contato diretamente com a Visa.</p>

<h5 id="requisição-23">Requisição</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"VisaCheckout"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="s2">"1140814777695873901"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Somente providers Cielo (<code class="highlighter-rouge">Cielo</code> / <code class="highlighter-rouge">Cielo30</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>—</td>
      <td>Obrigatório para cartão de débito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: “VisaCheckout”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>—</td>
      <td>Chave criptografica enviada pelo VisaCheckout. Obrigatoria se TYPE =  “Visa Checkout”</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-26">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador VisaCheckout"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0915052340115"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VisaCheckout"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1140814777695873901"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"efdb3338-9c8f-445a-8836-2cc93d8beacf"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-15 17:23:39"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Card Canceled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/efdb3338-9c8f-445a-8836-2cc93d8beacf"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: “VisaCheckout” ou “Masterpass”</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Capturecode</code></td>
      <td>Código informado pela MasterPass ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h2 id="voucher">Voucher</h2>

<h3 id="criando-uma-transação-com-voucher-alelo">Criando uma transação com voucher Alelo</h3>

<p>Uma transação com um Cartão Alelo se efetua de uma forma semelhante a um Cartão de Débito, porém, sem o processo de autenticação. <br />Atualmente, somente o Provider “Alelo” suporta processamento desta modalidade.</p>

<h4 id="requisição-24">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alelo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"****4903"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TesteBraspag"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="o">[</span>...]
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Alelo"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Amount"</span>: 10,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"DebitCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"****4903"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"TesteBraspag"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"02/2019"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"***"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Elo"</span>
        <span class="o">}</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento. Atualmente somente a “Cielo” suporta esta forma de pagamento via Pagador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. No caso do cartão de débito (DebitCard)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-27">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"527637******4903"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TesteBraspag"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"004045"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c63fb9f7-02ad-42b3-a182-c56e26238a00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128752"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"562a8563-9181-4f12-bee8-0ccc89c8f931"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-21 10:59:57"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-21 11:00:48"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alelo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transacao capturada com sucesso"</span><span class="p">,</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="o">[</span>...]
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"DebitCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"527637******4903"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"TesteBraspag"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"02/2019"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Elo"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"004045"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"c63fb9f7-02ad-42b3-a182-c56e26238a00"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"128752"</span>,
        <span class="s2">"Eci"</span>: <span class="s2">"0"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"562a8563-9181-4f12-bee8-0ccc89c8f931"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Amount"</span>: 10,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2018-02-21 10:59:57"</span>,
        <span class="s2">"CapturedAmount"</span>: 10,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2018-02-21 11:00:48"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Alelo"</span>,
        <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br"</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"00"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Transacao capturada com sucesso"</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para o qual o portador será redirecionado para autenticação</td>
      <td>Texto</td>
      <td>56</td>
      <td>https://qasecommerce.cielo.com.br/web/index.cbmp?id=13fda1da8e3d90d3d0c9df8820b96a7f</td>
    </tr>
  </tbody>
</table>

<h2 id="pagamentos-com-dcc-conversor-de-moedas-da-adquirente-global-payments">Pagamentos com DCC (conversor de moedas da adquirente Global Payments)</h2>

<p>Exemplo de uma transação com DCC (Dynamic Currency Conversion), conversor de moedas da adquirente Global Payments que permite que o portador de um cartão estrangeiro escolha entre pagar em Reais ou em sua moeda Local, convertendo o valor do pedido no momento da compra com total transparência para o comprador.
A solução é indicada para estabelecimentos que recebem pagamentos com cartões emitidos no exterior como hotéis, pousadas, polos comerciais e comércios em pontos turísticos.</p>

<aside class="notice">Autenticação: Para utilizar esta funcionalidade, o lojista deverá entrar em contato com a adquirente Global Payments e solicitar a ativação do DCC em seu estabelecimento.</aside>

<aside class="warning">Esta funcionalidade não é compatível com transações com MPI Externo.</aside>

<h4 id="processo-de-autorização-com-dcc">Processo de autorização com DCC</h4>

<p>Quando o estabelecimento possui o produto DCC habilitado, o processo de autorização é realizado em 3 etapas.</p>

<p>Na primeira etapa, quando é solicitada uma autorização com um cartão internacional, a Global Payments identifica o país do cartão e aplica a conversão de moeda seguindo os cálculos específicos de cada bandeira, em seguida retorna as informações de conversão.</p>

<p>Na segunda etapa, o sistema da loja deverá apresentar ao comprador as opções de pagar em Reais ou com a moeda de seu país (moeda do cartão de crédito), seguindo as melhores práticas solicitadas pela bandeira, onde:</p>

<ul>
  <li>Texto apresentado em Inglês, conforme exemplo a seguir.</li>
  <li>O layout do site não precisa ser alterado, desde que as opções de escolha da moeda tenham as mesmas características de fonte, cor e dimensões, como o exemplo que segue.</li>
</ul>

<p><img src="https://braspag.github.io//images/dcc-globalpayments.jpg" alt="DCC Global Payments" /></p>

<p>Exemplo disponibilizado pela Global Payments</p>

<p>Na terceira etapa, o sistema da loja envia a confirmação da transação com as informações da moeda escolhida pelo comprador. A resposta da autorização será retornada neste ponto.</p>

<p><strong>PASSO 1</strong> - Solicitação de autorização da transação:</p>

<h5 id="requisição-25">Requisição</h5>

<p>Não há diferença entre uma requisição de autorização padrão e uma de DCC.</p>

<h5 id="resposta-28">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.braspag.com.br/"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fa0c3119-c730-433a-123a-a3b6dfaaad67"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-23 10:46:25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GlobalPayments"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transação autorizada"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CurrencyExchangeData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fab6f3a752d700af1d50fdd19987b95df497652b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CurrencyExchanges"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ConvertedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ConversionRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.218626</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ClosingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-09T00:00:00"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ConvertedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="o">[</span>...]
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1234"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Comprador Teste"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2022"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.braspag.com.br/"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"fa0c3119-c730-433a-123a-a3b6dfaaad67"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2018-08-23 10:46:25"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"GlobalPayments"</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 12,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Transação autorizada"</span>,
        <span class="s2">"CurrencyExchangeData"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"fab6f3a752d700af1d50fdd19987b95df497652b"</span>,
            <span class="s2">"CurrencyExchanges"</span>: <span class="o">[{</span>
                    <span class="s2">"Currency"</span>: <span class="s2">"EUR"</span>,
                    <span class="s2">"ConvertedAmount"</span>: 31,
                    <span class="s2">"ConversionRate"</span>: 3.218626,
                    <span class="s2">"ClosingDate"</span>: <span class="s2">"2017-03-09T00:00:00"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
                    <span class="s2">"ConvertedAmount"</span>: 100
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
        <span class="o">[</span>...]
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.Id</code></td>
      <td>Id da ação da troca de Moeda</td>
      <td>Texto</td>
      <td>50</td>
      <td>1b05456446c116374005602dcbaf8db8879515a0</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.CurrencyExchanges.Currency</code></td>
      <td>Moeda local do comprador/cartão de crédito.</td>
      <td>Numérico</td>
      <td>4</td>
      <td>EUR</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.CurrencyExchanges.ConvertedAmount</code></td>
      <td>Valor convertido.</td>
      <td>Numérico</td>
      <td>12</td>
      <td>23</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.CurrencyExchanges.ConversionRate</code></td>
      <td>Taxa de conversão.</td>
      <td>Numérico</td>
      <td>9</td>
      <td>3.218626</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.CurrencyExchanges.ClosingDate</code></td>
      <td>Data de finalização da transação.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.CurrencyExchanges.Currency</code></td>
      <td>Código da moeda Real</td>
      <td>Texto</td>
      <td>3</td>
      <td>BRA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrencyExchangeData.CurrencyExchanges.ConvertedAmount</code></td>
      <td>Valor do pedido em Reais.</td>
      <td>Numérico</td>
      <td>12</td>
      <td>100</td>
    </tr>
  </tbody>
</table>

<p><strong>PASSO 2</strong> - Exibição das opções de pagamento (pagar em Reais ou na moeda do cartão):</p>

<p><img src="https://braspag.github.io//images/dcc-globalpayments.jpg" alt="DCC Global Payments" /></p>

<p>Exemplo disponibilizado pela Global Payments</p>

<p><strong>PASSO 3</strong> - Confirmação da transação com a moeda escolhida pelo comprador:</p>

<h5 id="requisição-26">Requisição</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/{PaymentId}/confirm</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
  </span><span class="nl">"Id"</span><span class="p">:</span><span class="s2">"1b05456446c116374005602dcbaf8db8879515a0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">23</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">" https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/confirm"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
  <span class="s2">"Id"</span>:<span class="s2">"1b05456446c116374005602dcbaf8db8879515a0"</span>,
  <span class="s2">"Currency"</span>:<span class="s2">"EUR"</span>,
  <span class="s2">"Amount"</span>:23
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Id</code></td>
      <td>Text</td>
      <td>50</td>
      <td>Sim</td>
      <td>Id da ação da troca de Moeda</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Currency</code></td>
      <td>Numérico</td>
      <td>4</td>
      <td>Sim</td>
      <td>Moeda selecionada pelo comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Numérico</td>
      <td>12</td>
      <td>Sim</td>
      <td>Valor convertido</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-29">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TerteDcc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fa0c3119-c730-433a-123a-a3b6dfaaad67"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GlobalPayments"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="o">[</span>...]
   <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1234"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"TerteDcc"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2022"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"***"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"fa0c3119-c730-433a-123a-a3b6dfaaad67"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 23,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"CapturedAmount"</span>: 23,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"GlobalPayments"</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h1 id="salvando-e-reutilizando-cartões">Salvando e reutilizando cartões</h1>

<p>Caso você tenha contratado o Cartão Protegido, é possível salvar um cartão no formato de um Token para substituir os dados do cartão numa próxima transação do mesmo comprador. É importante ressaltar que por questões de segurança, o CVV (Código de Segurança) não é tokenizado.</p>

<p>Além da geração do Card Token, é possível associar um nome, um identificador em formato de texto, ao cartão salvo. Esse identificador será o Alias.</p>

<h2 id="salvando-um-cartão-durante-uma-autorização">Salvando um cartão durante uma autorização</h2>

<h3 id="requisição-27">Requisição</h3>

<p>Para salvar um cartão de crédito utilizado em uma transação, basta enviar o parâmetro <code class="highlighter-rouge">Payment.SaveCard</code> como <em>true</em> na requisição padrão de autorização.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"4551870000000181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SecurityCode"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
            <span class="s2">"Alias"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão, no formato MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>10</td>
      <td>Não (Default false)</td>
      <td>true para salvar o cartão e false para não salvar</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Alias</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Não</td>
      <td>Alias (Apelido) do cartão de crédito</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-30">Resposta</h3>

<p>O parâmetro <code class="highlighter-rouge">CreditCard.CardToken</code> retornará o token a ser salvo para transações futuras com o mesmo cartão.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cliente1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3519928"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511023519928"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"536934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3af00b2d-dbd0-42d6-a669-d4937f0881da"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 14:35:19"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="o">[</span>...]
  <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
      <span class="s2">"CardToken"</span>: <span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
      <span class="s2">"Alias"</span>: <span class="s2">"Cliente1"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"3519928"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511023519928"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"536934"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"3af00b2d-dbd0-42d6-a669-d4937f0881da"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 14:35:19"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token no Cartão Protegido que representa os dados do cartão</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-card-token">Criando uma transação com Card Token</h2>

<p>Este é um exemplo de como utilizar o Card Token, previamente salvo, para criar uma transação. Por questão de segurança, um Card Token não tem guardado o Código de Segurança (CVV). Desta forma, é preciso solicitar esta informação ao portador para cada nova transação. Caso seu estabelecimento junto à adquirente esteja configurado como Recorrente, você poderá submeter transações sem o CVV.</p>

<h4 id="requisição-28">Requisição</h4>

<p>O nó <code class="highlighter-rouge">CreditCard</code> dentro do nó <code class="highlighter-rouge">Payment</code> será alterado conforme exemplo a seguir.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardToken"</span>:<span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span>,
            <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
            <span class="o">}</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token no Cartão Protegido que representa os dados do cartão</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão. Para processar vendar sem o CVV, é necessário solicitar liberação na adquirente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-31">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
            </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124305"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511030124305"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"065964"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:01:24"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardToken"</span>:<span class="s2">"250e7c7c-5501-4a7c-aa42-a33d7ad61167"</span>,
            <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
            <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"124305"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511030124305"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"065964"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:01:24"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
   <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-transação-com-alias">Criando uma transação com Alias</h2>

<p>Este é um exemplo de como utilizar o Alias, previamente salvo, para criar uma transação. Por questão de segurança, um Alias não tem guardado o Código de Segurança. Desta forma, é preciso solicitar esta informação ao portador para cada nova transação. Caso seu estabelecimento junto à adquirente esteja configurado como Recorrente, você poderá submeter transações sem o CVV.</p>

<h4 id="requisição-29">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="s2">"Cliente1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"Alias"</span>:<span class="s2">"Cliente1"</span>,
            <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
            <span class="o">}</span>,
        <span class="o">[</span>...]
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token no Cartão Protegido que representa os dados do cartão</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão. Para processar vendar sem o CVV, é necessário solicitar liberação na adquirente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Alias</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Não</td>
      <td>Alias (Apelido) do cartão de crédito</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-32">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">  
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="err">,</span><span class="w">
     </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Alias"</span><span class="p">:</span><span class="s2">"Cliente1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
            </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124305"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0511030124305"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"065964"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11 15:01:24"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
   </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="o">[</span>...]
   <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"Mensagem"</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"Alias"</span>:<span class="s2">"Cliente1"</span>,
            <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
            <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"124305"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0511030124305"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"065964"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"23cd8bf5-2251-4991-9042-533ff5608788"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-11 15:01:24"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
   <span class="o">[</span>...]
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
  </tbody>
</table>

<h1 id="pagamentos-com-análise-de-fraude">Pagamentos com Análise de Fraude</h1>

<p>É possível verificar se uma transação possui risco de ser uma fraude ou não durante uma autorização.</p>

<table>
  <thead>
    <tr>
      <th>Tipo de Integração</th>
      <th>Descrição</th>
      <th>Parâmetros necessários</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Análise antes da autorização</td>
      <td>Antes da transação ser enviada para a autorização, o Antifraude avalia se ela tem alto risco ou não. Dessa forma, evita-se o envio de transações arriscadas para autorização</td>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code> igual a <em>AnalyseFirst</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Análise após a autorização</td>
      <td>Antes da transação ser enviada para o Antifraude, a mesma será enviada para a autorização</td>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code> igual a <em>AuthorizeFirst</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Análise de risco somente se a transação for autorizada</td>
      <td>O Antifraude será acionado apenas para analisar transações com o staus <em>autorizada</em>. Dessa forma evita-se o custo com análises de transações que não seriam autorizadas</td>
      <td><code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code> igual a <em>OnSuccess</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Análise de risco em qualquer hipótese</td>
      <td>Independente do status da transação após a autorização, o Antifraude analisará o risco</td>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code> igual a <em>AuthorizeFirst</em> e <code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code> como <em>Always</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Autorização em qualquer hipótese</td>
      <td>Independente do score de fraude da transação, ela sempre será enviada para a autorização</td>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code> como <em>AnalyseFirst</em> e <code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code> como <em>Always</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Capturar apenas se uma transação for segura</td>
      <td>Após a análise de fraude, captura automaticamente uma transação já autorizada se definido baixo risco. Este mesmo parâmetro serve para você que irá trabalhar com revisão manual, que após a Braspag receber a notificação do novo status e for igual a aceita, a transação será capturada automaticamente</td>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code> igual a <em>AuthorizeFirst</em>, <code class="highlighter-rouge">FraudAnalysis.CaptureOnLowRisk</code> igual a <em>true</em> e <code class="highlighter-rouge">Payment.Capture</code> igual a <em>false</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Cancelar uma transação comprometida</td>
      <td>Caso a análise de fraude retorne um alto risco para uma transação já autorizada ou capturada, ela será imediamente cancelada ou estornada. Este mesmo parâmetro serve para você que irá trabalhar com revisão manual, que após a Braspag receber a notificação do novo status e for igual a rejeitada, a transação será cancelada ou estornada automaticamente</td>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code> como <em>AuthorizeFirst</em> e <code class="highlighter-rouge">FraudAnalysis.VoidOnHighRisk</code> igual a <em>true</em></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>Se não for especificado o contrário durante a autorização, A Braspag processará sua transação pelo fluxo <code class="highlighter-rouge">FraudAnalysis.Sequence</code> <em>AuthorizeFirst</em>, <code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code> <em>OnSuccess</em>, <code class="highlighter-rouge">FraudAnalysis.VoidOnHighRisk</code> <em>false</em> e <code class="highlighter-rouge">FraudAnalysis.CaptureOnLowRisk</code> <em>false</em>.</p>

<h2 id="criando-uma-transação-com-análise-de-fraude-cybersource">Criando uma transação com Análise de Fraude Cybersource</h2>

<p>Para que a análise de fraude via Cybersource seja efetuada durante uma transação de cartão de crédito, é necessário complementar o contrato de autorização com os nós “FraudAnalysis”, “Cart”, “MerchantDefinedFields” e “Travel (somente para venda de passagens aéreas)”.</p>

<h3 id="requisição-30">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678910"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521976781114"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Credentials"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"password"</span><span class="p">:</span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"signature"</span><span class="p">:</span><span class="s2">"001"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ExtraDataCollection"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"ValorDoCampo"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"FraudAnalysis"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CaptureOnLowRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"VoidOnHighRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Browser"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"HostName"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Chrome"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Cart"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Items"</span><span class="p">:[</span><span class="w">  
               </span><span class="p">{</span><span class="w">  
                  </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste1"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Sku"</span><span class="p">:</span><span class="s2">"20170511"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">  
                  </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste2"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Sku"</span><span class="p">:</span><span class="s2">"20170512"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"Web"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"SIM"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nl">"Shipping"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="s2">"João das Couves"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"551121840540"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Travel"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"JourneyType"</span><span class="p">:</span><span class="s2">"OneWayTrip"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DepartureTime"</span><span class="p">:</span><span class="s2">"2018-01-09 18:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Passengers"</span><span class="p">:[</span><span class="w">  
               </span><span class="p">{</span><span class="w">  
                  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Passenger Test"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"212424808"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Status"</span><span class="p">:</span><span class="s2">"Gold"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Rating"</span><span class="p">:</span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"email@mail.com"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"5564991681074"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"TravelLegs"</span><span class="p">:[</span><span class="w">  
                     </span><span class="p">{</span><span class="w">  
                        </span><span class="nl">"Origin"</span><span class="p">:</span><span class="s2">"AMS"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Destination"</span><span class="p">:</span><span class="s2">"GIG"</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                  </span><span class="p">]</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051002"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678910"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Phone"</span>: <span class="s2">"5521976781114"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BR"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BR"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:10000,
      <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
      <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
      <span class="s2">"Capture"</span>:true,
      <span class="s2">"Authenticate"</span>:false,
      <span class="s2">"Recurrent"</span>:false,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
      <span class="s2">"DoSplit"</span>:false,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>
      <span class="o">}</span>,
      <span class="s2">"Credentials"</span>:<span class="o">{</span>  
         <span class="s2">"code"</span>:<span class="s2">"9999999"</span>,
         <span class="s2">"key"</span>:<span class="s2">"D8888888"</span>,
         <span class="s2">"password"</span>:<span class="s2">"LOJA9999999"</span>,
         <span class="s2">"username"</span>:<span class="s2">"#Braspag2018@NOMEDALOJA#"</span>,
         <span class="s2">"signature"</span>:<span class="s2">"001"</span>
      <span class="o">}</span>,
      <span class="s2">"ExtraDataCollection"</span>:[  
         <span class="o">{</span>  
            <span class="s2">"Name"</span>:<span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>:<span class="s2">"ValorDoCampo"</span>
         <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"FraudAnalysis"</span>:<span class="o">{</span>  
         <span class="s2">"Sequence"</span>:<span class="s2">"AnalyseFirst"</span>,
         <span class="s2">"SequenceCriteria"</span>:<span class="s2">"Always"</span>,
         <span class="s2">"Provider"</span>:<span class="s2">"Cybersource"</span>,
         <span class="s2">"CaptureOnLowRisk"</span>:false,
         <span class="s2">"VoidOnHighRisk"</span>:false,
         <span class="s2">"TotalOrderAmount"</span>:10000,
         <span class="s2">"FingerPrintId"</span>:<span class="s2">"074c1ee676ed4998ab66491013c565e2"</span>,
         <span class="s2">"Browser"</span>:<span class="o">{</span>  
            <span class="s2">"CookiesAccepted"</span>:false,
            <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
            <span class="s2">"HostName"</span>:<span class="s2">"Teste"</span>,
            <span class="s2">"IpAddress"</span>:<span class="s2">"127.0.0.1"</span>,
            <span class="s2">"Type"</span>:<span class="s2">"Chrome"</span>
         <span class="o">}</span>,
         <span class="s2">"Cart"</span>:<span class="o">{</span>  
            <span class="s2">"IsGift"</span>:false,
            <span class="s2">"ReturnsAccepted"</span>:true,
            <span class="s2">"Items"</span>:[  
               <span class="o">{</span>  
                  <span class="s2">"GiftCategory"</span>:<span class="s2">"Undefined"</span>,
                  <span class="s2">"HostHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"NonSensicalHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"ObscenitiesHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"PhoneHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"Name"</span>:<span class="s2">"ItemTeste1"</span>,
                  <span class="s2">"Quantity"</span>:1,
                  <span class="s2">"Sku"</span>:<span class="s2">"20170511"</span>,
                  <span class="s2">"UnitPrice"</span>:10000,
                  <span class="s2">"Risk"</span>:<span class="s2">"High"</span>,
                  <span class="s2">"TimeHedge"</span>:<span class="s2">"Normal"</span>,
                  <span class="s2">"Type"</span>:<span class="s2">"AdultContent"</span>,
                  <span class="s2">"VelocityHedge"</span>:<span class="s2">"High"</span>
               <span class="o">}</span>,
               <span class="o">{</span>  
                  <span class="s2">"GiftCategory"</span>:<span class="s2">"Undefined"</span>,
                  <span class="s2">"HostHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"NonSensicalHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"ObscenitiesHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"PhoneHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"Name"</span>:<span class="s2">"ItemTeste2"</span>,
                  <span class="s2">"Quantity"</span>:1,
                  <span class="s2">"Sku"</span>:<span class="s2">"20170512"</span>,
                  <span class="s2">"UnitPrice"</span>:10000,
                  <span class="s2">"Risk"</span>:<span class="s2">"High"</span>,
                  <span class="s2">"TimeHedge"</span>:<span class="s2">"Normal"</span>,
                  <span class="s2">"Type"</span>:<span class="s2">"AdultContent"</span>,
                  <span class="s2">"VelocityHedge"</span>:<span class="s2">"High"</span>
               <span class="o">}</span>
            <span class="o">]</span>
         <span class="o">}</span>,
         <span class="s2">"MerchantDefinedFields"</span>:[  
            <span class="o">{</span>  
               <span class="s2">"Id"</span>:2,
               <span class="s2">"Value"</span>:<span class="s2">"100"</span>
            <span class="o">}</span>,
            <span class="o">{</span>  
               <span class="s2">"Id"</span>:4,
               <span class="s2">"Value"</span>:<span class="s2">"Web"</span>
            <span class="o">}</span>,
            <span class="o">{</span>  
               <span class="s2">"Id"</span>:9,
               <span class="s2">"Value"</span>:<span class="s2">"SIM"</span>
            <span class="o">}</span>
         <span class="o">]</span>,
         <span class="s2">"Shipping"</span>:<span class="o">{</span>  
            <span class="s2">"Addressee"</span>:<span class="s2">"João das Couves"</span>,
            <span class="s2">"Method"</span>:<span class="s2">"LowCost"</span>,
            <span class="s2">"Phone"</span>:<span class="s2">"551121840540"</span>
         <span class="o">}</span>,
         <span class="s2">"Travel"</span>:<span class="o">{</span>  
            <span class="s2">"JourneyType"</span>:<span class="s2">"OneWayTrip"</span>,
            <span class="s2">"DepartureTime"</span>:<span class="s2">"2018-01-09 18:00"</span>,
            <span class="s2">"Passengers"</span>:[  
               <span class="o">{</span>  
                  <span class="s2">"Name"</span>:<span class="s2">"Passenger Test"</span>,
                  <span class="s2">"Identity"</span>:<span class="s2">"212424808"</span>,
                  <span class="s2">"Status"</span>:<span class="s2">"Gold"</span>,
                  <span class="s2">"Rating"</span>:<span class="s2">"Adult"</span>,
                  <span class="s2">"Email"</span>:<span class="s2">"email@mail.com"</span>,
                  <span class="s2">"Phone"</span>:<span class="s2">"5564991681074"</span>,
                  <span class="s2">"TravelLegs"</span>:[  
                     <span class="o">{</span>  
                        <span class="s2">"Origin"</span>:<span class="s2">"AMS"</span>,
                        <span class="s2">"Destination"</span>:<span class="s2">"GIG"</span>
                     <span class="o">}</span>
                  <span class="o">]</span>
               <span class="o">}</span>
            <span class="o">]</span>
         <span class="o">}</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave pública para autenticação dupla na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do request definido pela loja</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Número do pedido da loja</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Sim</td>
      <td>Nome completo do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do documento de identificação do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador <br /> Possíveis valores: CPF ou CNPJ</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>E-mail do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Sim</td>
      <td>Data de nascimento do comprador <br /> Ex.: 1991-01-10</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Número do telefone do comprador <br /> Ex.: 5521976781114</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Sim</td>
      <td>Logradouro do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Sim</td>
      <td>Número do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>Código postal do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Cidade do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Estado do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>País do endereço de cobrança. Mais informações em <a href="https://www.iso.org/obp/ui">ISO 2-Digit Alpha Country Code</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Sim</td>
      <td>Bairro do endereço de cobrança</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Não</td>
      <td>Logradouro do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>Código postal do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>País do endereço de entrega. Mais informações em <a href="https://www.iso.org/obp/ui">ISO 2-Digit Alpha Country Code</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Não</td>
      <td>Bairro do endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do meio de magamento. <br /> Obs.: Somente o tipo <em>CreditCard</em> funciona com análise de fraude</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor da transação financeira em centavos <br /> Ex: 150000 = r$ 1.500,00</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço <br /> Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito <br /> Possíveis valores: BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será realizado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento <br /> Possíveis valores: ByMerchant / ByIssuer</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se a autorização deverá ser com captura automática <br /> Possíveis valores: true / false (default) <br /> Obs.: Deverá verificar junto à adquirente a disponibilidade desta funcionalidade <br /> Obs2.: Este campo deverá ser preenchido de acordo com o fluxo da análise de fraude</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se a transação deve ser autenticada <br /> Possíveis valores: true / false (default) <br /> Obs.: Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se a transação é do tipo recorrente <br /> Possíveis valores: true / false (default) <br /> Obs.: Este campo igual a <em>true</em> não irá criar uma recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV e servindo de indicação para a adquirente que é a cobrança de uma transação de uma recorrência <br /> Obs2.: Somente para transações Cielo <br /> Obs3.: O campo <code class="highlighter-rouge">Payment.Authenticate</code> deve ser igual a <em>false</em> quando este for igual a <em>true</em></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador <br /> Obs.: O valor deste campo tem que ser claro e fácil de identificar pelo portador o estabelecimento onde foi realizada a compra, pois é um dos principais ofensores para chargeback</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.DoSplit</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se a transação será dividida entre vários participantes <br /> Possíveis valores: true / false (default) <br /> Para utilizar a funcionalidade de split de pagamentos, é necessário a contratação da solução junto a Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Identificador do campo extra que será enviado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Texto</td>
      <td>1024</td>
      <td>Não</td>
      <td>Valor do campo extra que será enviado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Code</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Afiliação gerada pela adquirente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Key</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Chave de afiliação/token gerado pela adquirente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Username</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Usuário gerado no credenciamento com a adquirente GetnNet <br /> Obs.: O campo deve ser obrigatoriamente enviado se a transação é direcionada para GetNet</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Password</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Senha gerada no credenciamento com a adquirente GetnNet <br /> Obs.: O campo deve ser obrigatoriamente enviado se a transação é direcionada para GetNet</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Credentials.Signature</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>ID do terminal no credenciamento com a adquirente Global Payments <br /> Obs.: O campo deve ser obrigatoriamente enviado se a transação é direcionada para Global Payments</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do cartão de crédito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão de crédito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade do cartão de crédito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança no verso do cartão de crédito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão de crédito</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se os dados do cartão de crédito serão armazenados no Cartão Protegido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Alias</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Não</td>
      <td>Alias (apelido) do cartão de crédito salvo no Cartão Protegido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Sequence</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Tipo de fluxo da análise de fraude <br /> Possíveis valores: AnalyseFirst / AuthorizeFirst</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.SequenceCriteria</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>Critério do fluxo da análise de fraude <br /> Possíveis valores: OnSuccess / Always</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Provider</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Provedor de antifraude <br /> Possíveis valores: Cybersource</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.CaptureOnLowRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se a transação após a análise de fraude será capturada <br /> Possíveis valores: true / false (default) <br /> Obs.: Quando enviado igual a <em>true</em> e o retorno da análise de fraude for de baixo risco (Accept) a transação anteriormente autorizada será capturada <br /> Obs2.: Quando enviado igual a <em>true</em> e o retorno da análise de fraude for revisão (Review) a transação ficará autorizada. A mesma será capturada após a Braspag receber a notificação da alteração de status e esta for baixo risco (Accept) <br /> Obs.: Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente <em>AuthorizeFirst</em></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.VoidOnHighRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se a transação após a análise de fraude será cancelada <br /> Possíveis valores: true / false (default) <br /> Obs.: Quando enviado igual a <em>true</em> e o retorno da análise de fraude for de alto risco (Reject) a transação anteriormente autorizada será cancelada <br /> Obs2.: Quando enviado igual a <em>true</em> e o retorno da análise de fraude for revisão (Review) a transação ficará autorizada. A mesma será cancelada após a Braspag receber a notificação da alteração de status e esta for alto risco (Reject) <br /> Obs.: Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente <em>AuthorizeFirst</em></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.TotalOrderAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor total do pedido em centavos <br /> Ex: 123456 = r$ 1.234,56</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.FingerPrintId</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Identificador utilizado para cruzar informações obtidas do dispositivo do comprador. Este mesmo identificador deve ser utilizado para gerar o valor que será atribuído ao campo <code class="highlighter-rouge">session_id</code> do script que será incluído na página de checkout. <br /> Obs.: Este identificador poderá ser qualquer valor ou o número do pedido, mas deverá ser único durante 48 horas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.HostName</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Não</td>
      <td>Nome do host informado pelo browser do comprador e identificado através do cabeçalho HTTP</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.CookiesAccepted</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
      <td>Identifica se o browser do comprador aceita cookies <br /> Possíveis valores: true / false (default)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.Email</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Não</td>
      <td>E-mail registrado no browser do comprador. Pode diferenciar do e-mail de cadastro na loja(<code class="highlighter-rouge">Customer.Email</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.Type</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Não</td>
      <td>Nome do browser utilizado pelo comprador e identificado através do cabeçalho HTTP <br /> Ex.: Google Chrome, Mozilla Firefox, Safari, etc</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.IpAddress</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Sim</td>
      <td>Endereço de IP do comprador. Formato IPv4 ou IPv6</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.IsGift</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se o pedido realizado pelo comprador é para presente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.ReturnsAccepted</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Indica se o pedido realizado pelo comprador pode ser devolvido a loja <br /> Possíveis valores: true / false (default)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.GiftCategory</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>Identifica que avaliará os endereços de cobrança e entrega para diferentes cidades, estados ou países <br /> [Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.GiftCategory](https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.tems[n].giftcategory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.HostHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância dos endereços de IP e e-mail do comprador na análise de fraude <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].hosthedge">Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.HostHedge</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.NonSensicalHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância das verificações sobre os dados do comprador sem sentido na análise de fraude <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].nonsensicalhedge">Lista de Valores - Cart.Items{n}.NonSensicalHedge</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.ObscenitiesHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância das verificações sobre os dados do comprador com obscenidade na análise de fraude <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].obscenitieshedge">Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.ObscenitiesHedge</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.PhoneHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância das verificações sobre os números de telefones do comprador na análise de fraude <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].phonehedge">Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.PhoneHedge</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do Produto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Quantity</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Quantidade do produto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Sku</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>SKU (Stock Keeping Unit - Unidade de Controle de Estoque) do produto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.UnitPrice</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Preço unitário do produto <br /> Ex: 10950 = r$ 109,50</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Risk</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de risco do produto associado a quantidade de chargebacks <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].risk">Lista de Valores - Payment.Fraudanalysis.CartI.tems{n}.Risk</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.TimeHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância da hora do dia na análise de fraude que o comprador realizou o pedido <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].timehedge">Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.TimeHedge</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Type</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Não</td>
      <td>Categoria do produto <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].type">Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.Type</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.VelocityHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância da frequência de compra do comprador na análise de fraude dentros dos 15 minutos anteriores <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.cart.items[n].velocityhedge">Lista de Valores - Payment.Fraudanalysis.Cart.Items{n}.VelocityHedge</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields.Id</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>ID das informações adicionais a serem enviadas <br /> <a href="https://braspag.github.io/manual/braspag-pagador#tabela-de-mdds">Tabela de MDDs</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields.Value</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Valor das informações adicionais a serem enviadas <br /> <a href="https://braspag.github.io/manual/braspag-pagador#tabela-de-mdds">Tabela de MDDs</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Addressee</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Não</td>
      <td>Nome completo do responsável a receber o produto no endereço de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Method</code></td>
      <td>Texto</td>
      <td>8</td>
      <td>Não</td>
      <td>Meio de entrega do pedido <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.shipping.method">Lista de Valores - Payment.Fraudanalysis.Shipping.Method</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do telefone do responsável a receber o produto no endereço de entrega <br /> Ex.: 552121114700</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.JourneyType</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Tipo de viagem <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.travel.journeytype">Lista de Valores - Payment.FraudAnalysis.Travel.JourneyType</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.DepartureTime</code></td>
      <td>DateTime</td>
      <td>—</td>
      <td>Não</td>
      <td>Data e hora de partida <br /> Ex.: 2018-03-31 19:16:38</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Name</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Não</td>
      <td>Nome completo do passageiro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Identity</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Número do documento do passageiro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Status</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Classificação da empresa aérea <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.travel.passengers[n].status">Lista de Valores - Payment.FraudAnalysis.Travel.Passengers{n}.Status</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Rating</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Tipo do passageiro <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.travel.passengers[n].rating">Lista de Valores - Payment.FraudAnalysis.Travel.Passengers{n}.PassengerType</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>E-mail do passageiro</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Telefone do passageiro <br /> Ex.: 552121114700</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.TravelLegs.Origin</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Código do aeroporto de partida. Mais informações em <a href="http://www.nationsonline.org/oneworld/IATA_Codes/airport_code_list.htm">IATA 3-Letter Codes</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.TravelLegs.Destination</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Código do aeroporto de chegada. Mais informações em <a href="http://www.nationsonline.org/oneworld/IATA_Codes/airport_code_list.htm">IATA 3-Letter Codes</a></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Os campos do nó <code class="highlighter-rouge">FraudAnalysis.Travel</code> se tornam obrigatórios caso o segmento do seu negócio seja aéreas.</p>
</blockquote>

<h3 id="resposta-33">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051002"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678910"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521976781114"</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000181"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Credentials"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"D8888888"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"password"</span><span class="p">:</span><span class="s2">"LOJA9999999"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"#Braspag2018@NOMEDALOJA#"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"signature"</span><span class="p">:</span><span class="s2">"001"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ExtraDataCollection"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"NomeDoCampo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"ValorDoCampo"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"FraudAnalysis"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CaptureOnLowRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"VoidOnHighRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
         </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Browser"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"comprador@braspag.com.br"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"HostName"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Chrome"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Cart"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Items"</span><span class="p">:[</span><span class="w">  
               </span><span class="p">{</span><span class="w">  
                  </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste1"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Sku"</span><span class="p">:</span><span class="s2">"20170511"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">  
                  </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste2"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Sku"</span><span class="p">:</span><span class="s2">"20170512"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:[</span><span class="w">  
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"Web"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">  
               </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"SIM"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nl">"Shipping"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="s2">"João das Couves"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"551121840540"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"Travel"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"JourneyType"</span><span class="p">:</span><span class="s2">"OneWayTrip"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DepartureTime"</span><span class="p">:</span><span class="s2">"2018-01-09 18:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Passengers"</span><span class="p">:[</span><span class="w">  
               </span><span class="p">{</span><span class="w">  
                  </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Passenger Test"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"212424808"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Status"</span><span class="p">:</span><span class="s2">"Gold"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Rating"</span><span class="p">:</span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"email@mail.com"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"5564991681074"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"TravelLegs"</span><span class="p">:[</span><span class="w">  
                     </span><span class="p">{</span><span class="w">  
                        </span><span class="nl">"Origin"</span><span class="p">:</span><span class="s2">"AMS"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Destination"</span><span class="p">:</span><span class="s2">"GIG"</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                  </span><span class="p">]</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Id"</span><span class="p">:</span><span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FraudAnalysisReasonCode"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReplyData"</span><span class="p">:{</span><span class="w">  
            </span><span class="nl">"AddressInfoCode"</span><span class="p">:</span><span class="s2">"COR-BA^MM-BIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FactorCode"</span><span class="p">:</span><span class="s2">"B^D^R^Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Score"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BinCountry"</span><span class="p">:</span><span class="s2">"us"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardIssuer"</span><span class="p">:</span><span class="s2">"FIA CARD SERVICES, N.A."</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardScheme"</span><span class="p">:</span><span class="s2">"VisaCredit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"HostSeverity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InternetInfoCode"</span><span class="p">:</span><span class="s2">"FREE-EM^RISK-EM"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IpRoutingMethod"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ScoreModelUsed"</span><span class="p">:</span><span class="s2">"default_lac"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CasePriority"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ProviderTransactionId"</span><span class="p">:</span><span class="s2">"5220688414326697303008"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170510053219433"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510053219433"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"936403"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 17:32:19"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051002"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678910"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Phone"</span>: <span class="s2">"5521976781114"</span>
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BR"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
         <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BR"</span>,
         <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
      <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:10000,
      <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
      <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
      <span class="s2">"Capture"</span>:true,
      <span class="s2">"Authenticate"</span>:false,
      <span class="s2">"Recurrent"</span>:false,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"Mensagem"</span>,
      <span class="s2">"DoSplit"</span>:false,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Nome do Portador"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>
      <span class="o">}</span>,
      <span class="s2">"Credentials"</span>:<span class="o">{</span>  
         <span class="s2">"code"</span>:<span class="s2">"9999999"</span>,
         <span class="s2">"key"</span>:<span class="s2">"D8888888"</span>,
         <span class="s2">"password"</span>:<span class="s2">"LOJA9999999"</span>,
         <span class="s2">"username"</span>:<span class="s2">"#Braspag2018@NOMEDALOJA#"</span>,
         <span class="s2">"signature"</span>:<span class="s2">"001"</span>
      <span class="o">}</span>,
      <span class="s2">"ExtraDataCollection"</span>:[  
         <span class="o">{</span>  
            <span class="s2">"Name"</span>:<span class="s2">"NomeDoCampo"</span>,
            <span class="s2">"Value"</span>:<span class="s2">"ValorDoCampo"</span>
         <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"FraudAnalysis"</span>:<span class="o">{</span>  
         <span class="s2">"Sequence"</span>:<span class="s2">"AnalyseFirst"</span>,
         <span class="s2">"SequenceCriteria"</span>:<span class="s2">"Always"</span>,
         <span class="s2">"Provider"</span>:<span class="s2">"Cybersource"</span>,
         <span class="s2">"CaptureOnLowRisk"</span>:false,
         <span class="s2">"VoidOnHighRisk"</span>:false,
         <span class="s2">"TotalOrderAmount"</span>:10000,
         <span class="s2">"FingerPrintId"</span>:<span class="s2">"074c1ee676ed4998ab66491013c565e2"</span>,
         <span class="s2">"Browser"</span>:<span class="o">{</span>  
            <span class="s2">"CookiesAccepted"</span>:false,
            <span class="s2">"Email"</span>:<span class="s2">"comprador@braspag.com.br"</span>,
            <span class="s2">"HostName"</span>:<span class="s2">"Teste"</span>,
            <span class="s2">"IpAddress"</span>:<span class="s2">"127.0.0.1"</span>,
            <span class="s2">"Type"</span>:<span class="s2">"Chrome"</span>
         <span class="o">}</span>,
         <span class="s2">"Cart"</span>:<span class="o">{</span>  
            <span class="s2">"IsGift"</span>:false,
            <span class="s2">"ReturnsAccepted"</span>:true,
            <span class="s2">"Items"</span>:[  
               <span class="o">{</span>  
                  <span class="s2">"GiftCategory"</span>:<span class="s2">"Undefined"</span>,
                  <span class="s2">"HostHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"NonSensicalHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"ObscenitiesHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"PhoneHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"Name"</span>:<span class="s2">"ItemTeste1"</span>,
                  <span class="s2">"Quantity"</span>:1,
                  <span class="s2">"Sku"</span>:<span class="s2">"20170511"</span>,
                  <span class="s2">"UnitPrice"</span>:10000,
                  <span class="s2">"Risk"</span>:<span class="s2">"High"</span>,
                  <span class="s2">"TimeHedge"</span>:<span class="s2">"Normal"</span>,
                  <span class="s2">"Type"</span>:<span class="s2">"AdultContent"</span>,
                  <span class="s2">"VelocityHedge"</span>:<span class="s2">"High"</span>
               <span class="o">}</span>,
               <span class="o">{</span>  
                  <span class="s2">"GiftCategory"</span>:<span class="s2">"Undefined"</span>,
                  <span class="s2">"HostHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"NonSensicalHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"ObscenitiesHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"PhoneHedge"</span>:<span class="s2">"Off"</span>,
                  <span class="s2">"Name"</span>:<span class="s2">"ItemTeste2"</span>,
                  <span class="s2">"Quantity"</span>:1,
                  <span class="s2">"Sku"</span>:<span class="s2">"20170512"</span>,
                  <span class="s2">"UnitPrice"</span>:10000,
                  <span class="s2">"Risk"</span>:<span class="s2">"High"</span>,
                  <span class="s2">"TimeHedge"</span>:<span class="s2">"Normal"</span>,
                  <span class="s2">"Type"</span>:<span class="s2">"AdultContent"</span>,
                  <span class="s2">"VelocityHedge"</span>:<span class="s2">"High"</span>
               <span class="o">}</span>
            <span class="o">]</span>
         <span class="o">}</span>,
         <span class="s2">"MerchantDefinedFields"</span>:[  
            <span class="o">{</span>  
               <span class="s2">"Id"</span>:2,
               <span class="s2">"Value"</span>:<span class="s2">"100"</span>
            <span class="o">}</span>,
            <span class="o">{</span>  
               <span class="s2">"Id"</span>:4,
               <span class="s2">"Value"</span>:<span class="s2">"Web"</span>
            <span class="o">}</span>,
            <span class="o">{</span>  
               <span class="s2">"Id"</span>:9,
               <span class="s2">"Value"</span>:<span class="s2">"SIM"</span>
            <span class="o">}</span>
         <span class="o">]</span>,
         <span class="s2">"Shipping"</span>:<span class="o">{</span>  
            <span class="s2">"Addressee"</span>:<span class="s2">"João das Couves"</span>,
            <span class="s2">"Method"</span>:<span class="s2">"LowCost"</span>,
            <span class="s2">"Phone"</span>:<span class="s2">"551121840540"</span>
         <span class="o">}</span>,
         <span class="s2">"Travel"</span>:<span class="o">{</span>  
            <span class="s2">"JourneyType"</span>:<span class="s2">"OneWayTrip"</span>,
            <span class="s2">"DepartureTime"</span>:<span class="s2">"2018-01-09 18:00"</span>,
            <span class="s2">"Passengers"</span>:[  
               <span class="o">{</span>  
                  <span class="s2">"Name"</span>:<span class="s2">"Passenger Test"</span>,
                  <span class="s2">"Identity"</span>:<span class="s2">"212424808"</span>,
                  <span class="s2">"Status"</span>:<span class="s2">"Gold"</span>,
                  <span class="s2">"Rating"</span>:<span class="s2">"Adult"</span>,
                  <span class="s2">"Email"</span>:<span class="s2">"email@mail.com"</span>,
                  <span class="s2">"Phone"</span>:<span class="s2">"5564991681074"</span>,
                  <span class="s2">"TravelLegs"</span>:[  
                     <span class="o">{</span>  
                        <span class="s2">"Origin"</span>:<span class="s2">"AMS"</span>,
                        <span class="s2">"Destination"</span>:<span class="s2">"GIG"</span>
                     <span class="o">}</span>
                  <span class="o">]</span>
               <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"Id"</span>:<span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span>,
        <span class="s2">"Status"</span>:1,
        <span class="s2">"FraudAnalysisReasonCode"</span>:100,
        <span class="s2">"ReplyData"</span>:<span class="o">{</span>  
            <span class="s2">"AddressInfoCode"</span>:<span class="s2">"COR-BA^MM-BIN"</span>,
            <span class="s2">"FactorCode"</span>:<span class="s2">"B^D^R^Z"</span>,
            <span class="s2">"Score"</span>:42,
            <span class="s2">"BinCountry"</span>:<span class="s2">"us"</span>,
            <span class="s2">"CardIssuer"</span>:<span class="s2">"FIA CARD SERVICES, N.A."</span>,
            <span class="s2">"CardScheme"</span>:<span class="s2">"VisaCredit"</span>,
            <span class="s2">"HostSeverity"</span>:1,
            <span class="s2">"InternetInfoCode"</span>:<span class="s2">"FREE-EM^RISK-EM"</span>,
            <span class="s2">"IpRoutingMethod"</span>:<span class="s2">"Undefined"</span>,
            <span class="s2">"ScoreModelUsed"</span>:<span class="s2">"default_lac"</span>,
            <span class="s2">"CasePriority"</span>:3,
            <span class="s2">"ProviderTransactionId"</span>:<span class="s2">"5220688414326697303008"</span>
         <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"PaymentId"</span>: <span class="s2">"c374099e-c474-4916-9f5c-f2598fec2925"</span>,
      <span class="s2">"ProofOfSale"</span>: <span class="s2">"20170510053219433"</span>,
      <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510053219433"</span>,
      <span class="s2">"AuthorizationCode"</span>: <span class="s2">"936403"</span>,
      <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
      <span class="s2">"CapturedAmount"</span>: 10000,
      <span class="s2">"CapturedDate"</span>: <span class="s2">"2017-05-10 17:32:19"</span>,
      <span class="s2">"ReasonCode"</span>: 0,
      <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
      <span class="s2">"Status"</span>: 2,
      <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
      <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
      <span class="s2">"Links"</span>: <span class="o">[{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/c374099e-c474-4916-9f5c-f2598fec2925/void"</span>
      <span class="o">}]</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Propriedade</th>
      <th style="text-align: left">Tipo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do pedido da loja</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Name</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome completo do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Identity</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do documento de identificação do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Tipo de documento de identificação do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Email</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">E-mail do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td style="text-align: left">Date</td>
      <td style="text-align: left">Data de nascimento do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Phone</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do telefone do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Logradouro do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Complemento do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código postal do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Cidade do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Estado do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">País do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Bairro do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Logradouro do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Complemento do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Cidade do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Estado do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">País do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Bairro do endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Provider</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome da provedora da autorização</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Type</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Tipo do meio de magamento</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Amount</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Valor da transação financeira em centavos</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Montante do valor da autorização que deve ser destinado à taxa de serviço</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Currency</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Moeda na qual o pagamento será feito</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Country</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">País na qual o pagamento será realizado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Installments</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Número de parcelas</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Interest</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Tipo de parcelamento</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Capture</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se a autorização deverá ser com captura automática</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se a transação deve ser autenticada</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se a transação é do tipo recorrente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.DoSplit</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se a transação será dividida entre vários participantes</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Identificador do campo extra que será enviado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Valor do campo extra que será enviado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Credentials.Code</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Afiliação gerada pela adquirente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Credentials.Key</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Chave de afiliação/token gerado pela adquirente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Credentials.Username</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Usuário gerado no credenciamento com a adquirente GetnNet</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Credentials.Password</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Senha gerada no credenciamento com a adquirente GetnNet</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Credentials.Signature</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">ID do terminal no credenciamento com a adquirente Global Payments</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do cartão de crédito truncado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome do portador impresso no cartão de crédito</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Data de validade do cartão de crédito</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código de segurança no verso do cartão de crédito</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Bandeira do cartão de crédito</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se os dados do cartão de crédito foram armazenados no Cartão Protegido</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.Alias</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Alias (apelido) do cartão de crédito salvo no Cartão Protegido</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CreditCard.CardToken</code></td>
      <td style="text-align: left">Guid</td>
      <td style="text-align: left">Identificador do cartão de crédito salvo no Cartão Protegido</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Sequence</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Tipo de fluxo da análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.SequenceCriteria</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Critério do fluxo da análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Provider</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Provedor de antifraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.CaptureOnLowRisk</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se a transação após a análise de fraude será capturada</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.VoidOnHighRisk</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se a transação após a análise de fraude será cancelada</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.TotalOrderAmount</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Valor total do pedido em centavos</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.FingerPrintId</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Identificador utilizado para cruzar informações obtidas do dispositivo do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.HostName</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome do host informado pelo browser do comprador e identificado através do cabeçalho HTTP</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.CookiesAccepted</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Identifica se o browser do comprador aceita cookies</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.Email</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">E-mail registrado no browser do comprador. Pode diferenciar do e-mail de cadastro na loja(<code class="highlighter-rouge">Customer.Email</code>)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.Type</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome do browser utilizado pelo comprador e identificado através do cabeçalho HTTP</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.IpAddress</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Endereço de IP do comprador. Formato IPv4 ou IPv6</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.IsGift</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se o pedido realizado pelo comprador é para presente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.ReturnsAccepted</code></td>
      <td style="text-align: left">Booleano</td>
      <td style="text-align: left">Indica se o pedido realizado pelo comprador pode ser devolvido a loja</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.GiftCategory</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Identifica que avaliará os endereços de cobrança e entrega para diferentes cidades, estados ou países</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.HostHedge</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de importância dos endereços de IP e e-mail do comprador na análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.NonSensicalHedge</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de importância das verificações sobre os dados do comprador sem sentido na análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.ObscenitiesHedge</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de importância das verificações sobre os dados do comprador com obscenidade na análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.PhoneHedge</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de importância das verificações sobre os números de telefones do comprador na análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Name</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome do Produto</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Quantity</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Quantidade do produto</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Sku</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">SKU (Stock Keeping Unit - Unidade de Controle de Estoque) do produto</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.UnitPrice</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Preço unitário do produto</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Risk</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de risco do produto associado a quantidade de chargebacks</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.TimeHedge</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de importância da hora do dia na análise de fraude que o comprador realizou o pedido</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.Type</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Categoria do produto</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items.VelocityHedge</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nível de importância da frequência de compra do comprador na análise de fraude dentros dos 15 minutos anteriores</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields.Id</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">ID das informações adicionais a serem enviadas</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields.Value</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Valor das informações adicionais a serem enviadas</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Addressee</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome completo do responsável a receber o produto no endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Method</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Meio de entrega do pedido</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Phone</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Número do telefone do responsável a receber o produto no endereço de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.JourneyType</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Tipo de viagem</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.DepartureTime</code></td>
      <td style="text-align: left">DateTime</td>
      <td style="text-align: left">Data e hora de partida</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Name</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome completo do passageiro</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Identity</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do documento do passageiro</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Status</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Classificação da empresa aérea</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Rating</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Tipo do passageiro</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Email</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">E-mail do passageiro</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.Phone</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Telefone do passageiro</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.TravelLegs.Origin</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código do aeroporto de partida</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Travel.Passengers.TravelLegs.Destination</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código do aeroporto de chegada</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Id</code></td>
      <td style="text-align: left">Guid</td>
      <td style="text-align: left">Id da transação no Antifraude Braspag</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.Status</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Status da transação no Antifraude Braspag <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.status">Lista de Vaores - Payment.FraudAnalysis.Status</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.FraudAnalysisReasonCode</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Código de retorno da Cybersouce <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.fraudanalysisreasoncode">Lista de Valores - Payment.FraudAnalysis.FraudAnalysisReasonCode</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.AddressInfoCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Códigos indicam incompatibilidades entre os endereços de cobrança e entrega do comprador <br /> Os códigos são concatenados usando o caracter ^ Ex.: COR-BA^MM-BIN <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.replydata.addressinfocode">Lista de Valores - Payment.FraudAnalysis.ReplyData.AddressInfoCode</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.FactorCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Códigos que afetaram a pontuação da análise <br /> Os códigos são concatenados usando o caracter ^. Ex.: B^D^R^Z <br /><a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.replydata.factorcode">Lista de Valores - ProviderAnalysisResult.AfsReply.FactorCode</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.Score</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Score da análise de fraude. Valor entre 0 e 100</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.BinCountry</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código do país do BIN do cartão usado na análise. Mais informações em <a href="https://www.iso.org/obp/ui">ISO 2-Digit Alpha Country Code</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.CardIssuer</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome do banco ou entidade emissora do cartão de crédito</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.CardScheme</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Bandeira do cartão</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.HostSeverity</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Nível de risco do domínio de e-mail do comprador, de 0 a 5, onde 0 é risco indeterminado e 5 representa o risco mais alto</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.InternetInfoCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Códigos que indicam problemas com o endereço de e-mail, o endereço IP ou o endereço de cobrança <br /> Os códigos são concatenados usando o caracter ^. Ex.: FREE-EM^RISK-EM <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.replydata.internetinfocode">Lista de Valores - Payment.FraudAnalysis.ReplyData.InternetInfoCode</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.IpRoutingMethod</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Método de roteamento do comprador obtido a partir do endereço de IP <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-valores-payment.fraudanalysis.replydata.iproutingmethod">Lista de Valores - Payment.FraudAnalysis.ReplyData.IpRoutingMethod</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.ScoreModelUsed</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Nome do modelo de score utilizado na análise. Caso não tenha nenhum modelo definido, o modelo padrão da Cybersource foi o utilizado</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.CasePriority</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Define o nível de prioridade das regras ou perfis do lojista. O nível de prioridade varia de 1 (maior) a 5 (menor) e o valor padrão é 3, e este será atribuído caso não tenha definido a prioridade das regras ou perfis. Este campo somente será retornado se a loja for assinante do Enhanced Case Management</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.FraudAnalysis.ReplyData.ProviderTransactionId</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Id da transação na Cybersource</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.PaymentId</code></td>
      <td style="text-align: left">Guid</td>
      <td style="text-align: left">Identificador da transação no Pagador Braspag</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.AcquirerTransactionId</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Identificador da transação na adquirente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ProofOfSale</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Número do comprovante de venda na adquirente (NSU - Número sequencial único da transação)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.AuthorizationCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código de autorização na adquirente</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ReceivedDate</code></td>
      <td style="text-align: left">Datetime</td>
      <td style="text-align: left">Data em que a transação foi recebida no Pagador Brapag <br /> Ex.: 2018-01-16 16:38:19</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CapturedDate</code></td>
      <td style="text-align: left">Datetime</td>
      <td style="text-align: left">Data em que a transação foi capturada na adquirente <br /> Ex.: 2018-01-16 16:38:20</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.CapturedAmount</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Valor capturado da transação <br /> Ex.: 123456 = r$ 1.234,56</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ECI</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Eletronic Commerce Indicator. Código gerado em uma transação de crédito com autenticação externa</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ReasonCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código de retorno da operação</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ReasonMessage</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Mensagem de retorno da operação</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.Status</code></td>
      <td style="text-align: left">Número</td>
      <td style="text-align: left">Status da transação no Pagador <br /> <a href="https://braspag.github.io/manual/braspag-pagador#lista-de-status-transação">Lista de Status da Transação</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ProviderReturnCode</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Código retornado pela adquirente ou banco</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payment.ProviderReturnMessage</code></td>
      <td style="text-align: left">Texto</td>
      <td style="text-align: left">Mensagem retornada pela adquirente ou banco</td>
    </tr>
  </tbody>
</table>

<h2 id="configuração-do-fingerprint">Configuração do Fingerprint</h2>

<p>Importante componente da análise de fraude, o Fingerprint é um Javascript que deve ser inserido no seu site para capturar dados importantes como: IP do comprador, versão do browser, sistema operacional etc.
Muitas vezes, somente os dados do carrinho não são suficientes para garantir uma análise assertiva. Os dados coletados pelo Fingerprint complementam a análise e garantem que sua loja está mais protegida.</p>

<p>Esta página descreve como funciona e como configurar o fingerprint em sua página de checkout e mobiles.</p>

<h3 id="cybersource">Cybersource</h3>

<p>Será necessário adicionar duas tags, a <em>script</em> dentro da tag <em>head</em> para uma performance correta e a <em>noscript</em> dentro da tag <em>body</em>, para que a coleta dos dados do dispositivo seja realizada mesmo se o Javascript do browser estiver desabilitado.</p>

<aside class="warning">Se os 2 segmentos de código não forem colocados na página de checkout, os resultados da análise de fraude podem não ser precisos.</aside>

<p><strong>Domain</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Ambiente</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Testing</code></td>
      <td style="text-align: left">Use h.online-metrix.net, que é o DNS do servidor de fingerprint, como apresentado no exemplo de HTML abaixo</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Production</code></td>
      <td style="text-align: left">Altere o domínio para uma URL local, e configure seu servidor Web para redirecionar esta URL para h.online-metrix.net</td>
    </tr>
  </tbody>
</table>

<p><strong>Variáveis</strong>
Existem duas variáveis a serem preenchidas na URL do Javascript. O <code class="highlighter-rouge">org_id</code> e o <code class="highlighter-rouge">session_id</code>. O <code class="highlighter-rouge">org_id</code> é um valor predefinido conforme tabela abaixo, já o <code class="highlighter-rouge">session_id</code> é composto pela concatenação dos parâmetros <code class="highlighter-rouge">ProviderMerchantId</code> e <code class="highlighter-rouge">FraudAnalysis.FingerPrintId</code>, conforme exemplo abaixo:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">org_id</code></td>
      <td style="text-align: left">para Sandbox = 1snn5n9w <br /> para Produção = k8vif92e</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">session_id</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">ProviderMerchantId</code> = Identificador da sua loja na Cybersource. Caso não possua, entre em contato com a Braspag <br /> <code class="highlighter-rouge">FraudAnalysis.FingerPrintId</code> = Identificador utilizado para cruzar informações obtidas do dispositivo do comprador. <br /> Obs.: Este identificador poderá ser qualquer valor ou o número do pedido, mas deverá ser único durante 48 horas.</td>
    </tr>
  </tbody>
</table>

<p><strong>Aplicação</strong></p>

<p>O modelo do Javascript é o seguinte:</p>

<p><img src="https://braspag.github.io//images/braspag/af/exemploscriptdfp.png" alt="Exemplo Código" /></p>

<p>As variáveis, quando devidamente preenchidas, forneceriam uma URL semelhante ao exemplo abaixo:</p>

<p><img src="https://braspag.github.io/images/braspag/af/urldfp.png" alt="Exemplo Url" /></p>

<aside class="warning">Certifique-se de copiar todos os dados corretamente e de ter substituído as variáveis corretamente pelos respectivos valores.</aside>

<p><strong>Configurando seu Servidor Web</strong></p>

<p>Todos os objetos se referem a h.online-metrix.net, que é o DNS do servidor de fingerprint. Quando você estiver pronto para produção, você deve alterar o nome do servidor para uma URL local, e configurar no seu servidor Web um redirecionamento de URL para h.online-metrix.net.</p>

<aside class="warning">Se você não completar essa seção, você não receberá resultados corretos, e o domínio (URL) do fornecedor de fingerprint ficará visível, sendo mais provável que seu consumidor o bloqueie.</aside>

<h3 id="integração-em-aplicativos-mobile">Integração em aplicativos mobile</h3>

<p><strong>Baixando o SDK</strong>
Se você ainda não baixou o SDK do iOS ou do Android, deve fazê-lo antes de continuar. Para isso acesse um dos links abaixo de acordo com o desejado.<br /> <a href="https://braspag.github.io//files/braspag/antifraude/cybersource-iossdk-fingerprint-v5.0.32.zip">Download Deviceprint SDK iOS</a> <br /> <a href="https://braspag.github.io//files/braspag/antifraude/cybersource-androidsdk-fingerprint-v5.0.96.zip">Download Deviceprint SDK Android</a></p>

<h1 id="split-de-pagamentos">Split de Pagamentos</h1>

<h2 id="introdução">Introdução</h2>

<p>O <strong>Split de Pagamentos</strong> permite a divisão de uma transação entre diferentes participantes de uma venda.</p>

<p>Muito utilizado em Marketplaces, onde <strong>o carrinho é composto por produtos de diferentes fornecedores e o valor total da venda deve ser dividido entre todos os participantes</strong>.</p>

<table>
  <thead>
    <tr>
      <th><strong>Participantes</strong></th>
      <th><strong>Descrição</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Marketplace</strong></td>
      <td>Responsável pelo carrinho (Master). <br /> Possui acordos com <strong>Subordinados</strong> que fornecem os produtos presentes no carrinho.<br /> Define as taxas a serem descontadas sobre a venda de cada <strong>Subordinado</strong>.<br /> Pode participar de uma venda fornecendo seus próprios produtos.</td>
    </tr>
    <tr>
      <td><strong>Subordinado</strong></td>
      <td>Fornecedor dos produtos que compõem o carrinho.<br />Recebe parte do valor da venda, descontadas as taxas acordadas com o <strong>Marketplace</strong>.</td>
    </tr>
    <tr>
      <td><strong>Braspag (Facilitador)</strong></td>
      <td>Responsável pelo fluxo transacional.<br /> Define as taxas a serem descontadas sobre o valor total da venda realizada pelo <strong>Marketplace</strong>.<br /> Responsável pela liquidação dos pagamentos para os <strong>Subordinados</strong> e <strong>Marketplace</strong>.</td>
    </tr>
  </tbody>
</table>

<p>No Split de Pagamentos o responsável pelo fluxo transacional é a Braspag (facilitador).</p>

<p>O Marketplace se integra à Braspag para transacionar e informa como será dividida a transação entre cada participante, podendo ser no momento de captura ou em um momento posterior, conhecido como Split pós-transacional, desde que seja dentro de um limite de tempo pré-estabelecido.</p>

<p>Com a transação capturada, a Braspag calcula o valor destinado a cada participante e repassa esses valores, no prazo estabelecido de acordo com cada produto (regime de pagamento*), para cada envolvido na transação.</p>

<blockquote>
  <p><strong>Regime de Pagamento</strong>: Prazo estabelecido para liquidação de acordo com o produto (crédito ou débito) e bandeira.
<br />
<strong>Crédito</strong>: Em até 31 dias. <br />
<strong>Crédito Parcelado</strong>: 1º parcela em até 31 dias, demais a cada 30.<br />
<strong>Débito</strong>: Em até 2 dias úteis.</p>
</blockquote>

<p>Para utilizar o Split de Pagamentos, o Marketplace deverá se cadastrar na Braspag juntamente com seus Subordinados. Após este processo, tanto o Marketplace quanto seus Subordinados possuirão um identificador único, conhecido como <strong>MerchantId (MID)</strong>, que deverá ser utlizado ao informar as regras de divisão de uma transação.</p>

<p>Na divisão de uma transação, devem ser informados:</p>

<ul>
  <li>Os <strong>identificadores dos Subordinados</strong>.</li>
  <li>Os <strong>valores de participação de cada Subordinado</strong>. O somatório deverá ser igual ao valor total da transação.</li>
  <li><strong>Taxas</strong> a serem aplicadas sobre o valor de cada Subordinado destinadas ao Marketplace. Estas deverão ser acordadas previamente entre o Marketplace e o Subordinado.</li>
</ul>

<p>O Marketplace também pode ser um participante da divisão, bastando informar seu identificador, passando o mesmo a ter também o papel de <strong>Subordinado</strong> e ter seus próprios produtos no carrinho.</p>

<h3 id="taxas">Taxas</h3>

<p>As taxas acordadas entre os participantes, podendo ser um <strong>MDR(%)</strong> e/ou uma <strong>Taxa Fixa(R$)</strong>, devem ser definidas no momento do cadastro do Marketplace e dos seus Subordinados junto à Braspag (Facilitador).</p>

<p>As mesmas poderão ser enviadas no momento transacional (captura) ou pós-transacional. Caso não sejam enviadas, serão consideradas as taxas cadastradas e acordadas previamente entre o participantes.</p>

<blockquote>
  <p><strong>MDR (<em>Merchant Discount Rate</em>):</strong> Percentual a ser descontado do valor de uma transação, definido por produto (Crédito / Débito), Bandeira e Faixa de Parcelamento. <br />
<strong>Fee:</strong> Taxa fixa. Valor em centavos a ser cobrado por transação capturada.</p>
</blockquote>

<h4 id="braspag-facilitador">Braspag (Facilitador)</h4>

<p>A Braspag acordará um MDR e/ou uma Tarifa Fixa com o Marketplace a serem descontadas do valor total de cada transação.</p>

<p>O Marketplace, de conhecimento destas taxas, negociará também um MDR e/ou uma Tarifa Fixa juntamente com cada Subordinado, embutindo o MDR e/ou Tarifa acordados junto à Braspag (Facilitador).</p>

<p>O desconto da Tarifa Fixa, acordada entre o Marketplace e a Braspag, não é aplicado no valor total da transação, ou seja, a mesma não entra no cálculo da divisão e sim é debitada diretamente do montante que o Marketplace tem para receber junto à Braspag (Facilitador). O MDR entra no cálculo de divisão da transação, já que o mesmo deve estar embutido no MDR acordado entre o Marketplace e seus Subordinados.</p>

<blockquote>
  <p><strong>Custo Marketplace:</strong> MDR Braspag (%) + Tarifa Fixa Braspag (R$)</p>
</blockquote>

<h4 id="marketplace">Marketplace</h4>

<p>O Marketplace é responsável por acordar as taxas a serem cobradas dos seus Subordinados, onde deve ser defindo um MDR maior ou igual ao MDR definido entre a Braspag (Facilitador) e o Marketplace, e uma Tarifa Fixa, que é opcional.</p>

<blockquote>
  <p><strong>Custo Subordinado:</strong> MDR Marketplace (%) + Tarifa Fixa (R$), onde o MDR Marketplace (%) considera o MDR Braspag (%).</p>
</blockquote>

<h4 id="exemplo">Exemplo</h4>

<p>Uma transação de <strong>R$100,00</strong>, realizada por um <strong>Marketplace</strong> com participação do <strong>Subordinado 01</strong>.</p>

<p><img src="https://developercielo.github.io/images/split/split001.png" alt="SplitSample001" /></p>

<p>Neste exemplo, foram assumidos os seguintes acordos:</p>

<p><strong>Taxa Braspag</strong>: 2% MDR + R$0,10 Tarifa Fixa.<br />
<strong>Taxa Marketplace</strong>: 3,5% MDR (embutindo os 2% do MDR Braspag) + 0,30 Tarifa Fixa.</p>

<p>Após o split, cada participante terá sua agenda sensibilizada com os seguintes eventos:</p>

<p><strong>Subordinado</strong>:<br />
Crédito: R$96,20 [Descontados o MDR e a Tarifa Fixa acordados com o Marketplace]</p>

<p><strong>Marketplace</strong>:<br />
Crédito: R$1,80 [MDR aplicado sobre o valor do subordinado descontando o MDR acordado com a Braspag (Facilitador)]
Débito: R$0,10 [Tarifa Fixa acordada com a Braspag (Facilitador)]</p>

<p><strong>Braspag (Facilitador)</strong>:<br />
Crédito: R$2,00 [MDR aplicado sobre o valor total da transação]
Crédito: R$0,10 [Tarifa Fixa acordada com o Marketplace]</p>

<h3 id="bandeiras">Bandeiras</h3>

<p>As bandeiras suportadas pelo Split são:</p>

<ul>
  <li>Visa</li>
  <li>MasterCard</li>
  <li>Elo</li>
  <li>Amex</li>
  <li>Hipercard</li>
  <li>Diners</li>
  <li>Discover</li>
</ul>

<h2 id="ambientes-1">Ambientes</h2>

<p>É possível dividir uma venda enviada para o Pagador em várias liquidações para contas diferentes através do Split Braspag. Para utilizar o Split, é necessário contratar o serviço com seu executivo comercial.</p>

<blockquote>
  <p>Embora não seja necessário integrar-se com a API 3.0 da Cielo, é mandatório uma afiliação à Cielo para transacionar com o Split através do Pagador.</p>
</blockquote>

<h3 id="sandbox">Sandbox</h3>

<ul>
  <li><strong>API Split</strong>: https://splitsandbox.braspag.com.br/</li>
  <li><strong>Braspag OAUTH2 Server</strong>: https://authsandbox.braspag.com.br/</li>
</ul>

<h3 id="produção">Produção</h3>

<ul>
  <li><strong>API Split</strong>: https://split.braspag.com.br/</li>
  <li><strong>Braspag OAUTH2 Server</strong>: https://auth.braspag.com.br/</li>
</ul>

<h2 id="quickstart">QuickStart</h2>

<p>O request de crédito do Split é composto por 4 campos obrigatórios: <strong>MerchantOrderId</strong>, <strong>Customer</strong>, <strong>Payment</strong> e <strong>Payment.FraudAnalysis</strong>.</p>

<p>Abaixo montaremos um request simples. O suficiente para enviarmos a nossa primeira transação, sem nos preocuparmos muito com detalhes. <strong>Esse exemplo é o básico para entendimento e não deve ser utilizado em produção</strong>.</p>

<h3 id="merchantorderid">MerchantOrderId</h3>

<p>Esse campo é onde informamos o número do pedido que existe na loja do cliente.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"201904150001"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campos</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>MerchantOrderId</strong></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Número de identificação do pedido</td>
    </tr>
  </tbody>
</table>

<h3 id="customer">Customer</h3>

<p>Esse campo contém os dados do comprador. Possui diversos subcampos que devem ser analisados cuidadosamente.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"João da Silva Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678900"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campos</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Customer</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>Dados do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>61</td>
      <td>Sim</td>
      <td>Nome do comprador (No ambiente de Sandbox, o último nome do comprador deverá ser <strong>ACCEPT</strong>. Ex.: “João da Silva Accept”)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>18</td>
      <td>Sim</td>
      <td>Número de documento do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Tipo de documento de identificação do comprador. Ex.: <code class="highlighter-rouge">CPF</code> ou <code class="highlighter-rouge">CNPJ</code></td>
    </tr>
  </tbody>
</table>

<h3 id="payment">Payment</h3>

<p>Esse campo possui os elementos da transação, assim como o antifraude (<strong>Payment.FraudAnalysis</strong>), que será explicado separadamente.</p>

<p>Aqui é possível especificar se uma transação será efetuada como crédito ou débito, se utilizará um token de cartão, o número de parcelas e etc.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"LojaDoJoao"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4481530710186111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"693"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campos</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>Campos refente ao pagamento e antifraude</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do meio de pagamento. Possíveis Valores: <code class="highlighter-rouge">CreditCard</code> ou <code class="highlighter-rouge">DebitCard</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Inteiro</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do pedido em centavos. Ex.: R$ 1.559,85 = 155985</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Boleano</td>
      <td>-</td>
      <td>Sim</td>
      <td>Parâmetro para capturar a transação. Caso o valor seja <code class="highlighter-rouge">False</code> a transação será apenas autorizada. Se for <code class="highlighter-rouge">True</code>, a captura será realizada automaticamente após a autorização.</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.DoSplit</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a transação será dividida entre várias contas (true) ou não (false)</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Inteiro</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas do pedido</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Sim</td>
      <td>Texto que será impresso na fatura do cartão de crédito do portador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>Nó contendo as informações do cartão</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do cartão do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Nome do comprador impresso no cartão</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade do cartão composta por MM/AAAA</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
      <td>Possíveis valores: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover</td>
    </tr>
  </tbody>
</table>

<h3 id="paymentfraudanalysis">Payment.FraudAnalysis</h3>

<p>Esse campo é referente ao sistema de antifraude. 
O antifraude é obrigatório no Split de Pagamentos. E para esse sistema utilizamos o nosso parceiro <a href="https://www.cybersource.com/">CyberSource</a> do Grupo <a href="https://www.visa.com.br/">Visa</a>.
A fim de exemplificar uma transação da forma mais simples possível, alguns campos obrigatórios para o ambiente de produção não foram passados.</p>

<p>Mais a frente explicaremos como utilizar o campo <strong>Browser</strong> e <strong>MerchantDefinedFields</strong>.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="mi">10000</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campos</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis</code></td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>Nó contendo as informações para Análise de Fraude</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Provider</code></td>
      <td>Texto</td>
      <td>12</td>
      <td>Sim</td>
      <td>Identifica o provedor da solução de análise de fraude</td>
      <td>Possíveis valores: <code class="highlighter-rouge">Cybersource</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.TotalOrderAmount</code></td>
      <td>Inteiro</td>
      <td>15</td>
      <td>Não</td>
      <td>Valor total do pedido em centavos, podendo ser diferente do valor da transação</td>
      <td>Ex.: Valor do pedido sem a taxa de entrega</td>
    </tr>
  </tbody>
</table>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">--body</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"201904150001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"João da Silva Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678900"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"LojaDoJoao"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4481530710186111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"693"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">0</span><span class="w">
                    </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="mi">10000</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campos</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.SubordinateMerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador do Seller na Braspag</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Total da venda do Seller específico. R$ 100,00 = 10000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Fares.Mdr</code></td>
      <td>Decimal</td>
      <td>3,2</td>
      <td>Não</td>
      <td>Taxa aplicada pela loja Master sobre o Seller para desconto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Fares.Fee</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Tarifa aplicada pela loja Master sobre o Seller para desconto</td>
    </tr>
  </tbody>
</table>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201904150001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"João da Silva Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678900"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448153******6111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190829030409594"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0829030409594"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"046879"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LojaDoJoao"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnSuccess"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IsRetryTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7211f65-87ca-e911-a40a-0003ff21cf74"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FraudAnalysisReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F^H"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HotListInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEG-AFCB^NEG-CC^NEG-HIST"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"VelocityInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEL-NAME"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ProviderTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5671018489636116404007"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9500</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"536b8e54-6d44-4b84-86e2-0d7d01cf4935"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-29 15:04:02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-29 15:04:09"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/536b8e54-6d44-4b84-86e2-0d7d01cf4935"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/536b8e54-6d44-4b84-86e2-0d7d01cf4935/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Esse é apenas um request de exemplo bem básico e não deve ser utilizado em produção. Para facilitar o entendimento, não foi aplicado nenhum campo que fortalece a segurança da transação.</strong></p>

<p>Nos próximos exemplos explicaremos como aumentar a segurança e manipular os campos da nossa transação entre crédito e débito.</p>

<h2 id="integração-1">Integração</h2>

<h3 id="autorização">Autorização</h3>

<p>Para submeter uma transação do Pagador ao Split, basta enviar o Parâmetro Payment.DoSplit como true e adicionar o nó Payment.SplitPayments, conforme exemplo:</p>

<p><strong>Request - Transação de Crédito</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"merchantorderid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"identitytype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditcard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"softdescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4481530710186111"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"fraudanalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cybersource"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Accept"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23082019"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ipaddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.221.103.151"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"totalorderamount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"isgift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"returnsaccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto teste"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"sku"</span><span class="p">:</span><span class="w"> </span><span class="mi">563</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"unitprice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"splitpayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"subordinatemerchantid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"subordinatemerchantid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448153******6111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190829042727956"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0829042727956"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"164843"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnSuccess"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23082019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IsRetryTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto teste"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"563"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"CartType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.221.103.151"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Accept"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ec21c08-93ca-e911-a40a-0003ff21cf74"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FraudAnalysisReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F^H^P"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HotListInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEG-AFCB^NEG-CC^NEG-EM^NEG-HIST"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"InternetInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INTL-IPCO^RISK-EM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goiania"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"br"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpRoutingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goias"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"VelocityInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEL-NAME^VELL-FP^VELL-TIP^VELS-CC^VELS-EM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nl">"FingerPrint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"CookiesEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"FlashEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"HashField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d04c4463c5e84fb5ba1993a0482a6c24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ImagesEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"JavascriptEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.142.125.158"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressCityField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rio de janeiro"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressCountryField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"SmartIdField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d04c4463c5e84fb5ba1993a0482a6c24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"SmartIdConfidenceLevelField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ScreenResolutionField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1920x1080"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"BrowserLanguageField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"ProviderTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5671068469196615904011"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3975</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1025</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4485</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">515</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4437f73c-8c13-46ea-937f-494dc878109d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-29 16:27:18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-29 16:27:27"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/4437f73c-8c13-46ea-937f-494dc878109d"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/4437f73c-8c13-46ea-937f-494dc878109d/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Ao informar um tipo de pagamento referente ao Split, a API do Pagador automaticamente identifica que a transação é referente ao Split de Pagamentos e realiza o fluxo transacional através da Braspag (Facilitador).</p>

<p>Caso a transação enviada seja marcada para captura automática, o nó contendo as regras de divisão deverá ser enviado, caso contrário a transação será dividida entre a Braspag (Facilitador) e o Marketplace. Posteriormente é permitido que o Marketplace envie novas regras de divisão para a transação através da API Split, desde que esteja dentro do período de tempo permitido.</p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Mobile</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não*</td>
      <td>Celular do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Phone</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não*</td>
      <td>Telefone do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não*</td>
      <td>Endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não*</td>
      <td>Número do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Complemento do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não*</td>
      <td>CEP do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Cidade do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não*</td>
      <td>Estado do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não*</td>
      <td>Pais do endereço de entrega do pedido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não*</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do meio de pagamento. Possíveis Valores: <code class="highlighter-rouge">CreditCard</code> ou <code class="highlighter-rouge">DebitCard</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do portador impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
  </tbody>
</table>

<p><strong>Exemplo 1)</strong></p>

<p>Transação no valor de <strong>R$100,00</strong>, com captura automática, sem o nó contendo as regras de divisão.</p>

<p><strong>Taxa Braspag</strong>: 2% MDR + R$0,10 Tarifa Fixa.</p>

<p><strong>Request</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"merchantorderid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"identitytype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditcard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"softdescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4481530710186111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"fraudanalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Accept"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ipaddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.221.103.151"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"totalorderamount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"isgift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"returnsaccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto teste"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"sku"</span><span class="p">:</span><span class="w"> </span><span class="mi">563</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"unitprice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448153******6111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190830104433081"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0830104433081"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"042693"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnSuccess"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IsRetryTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto teste"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"563"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"CartType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.221.103.151"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Accept"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6f7f24a-2ccb-e911-a40a-0003ff21cf74"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FraudAnalysisReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F^H^P"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HotListInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEG-AFCB^NEG-CC^NEG-EM^NEG-HIST"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"InternetInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INTL-IPCO^RISK-EM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goiania"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"br"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpRoutingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goias"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"VelocityInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEL-NAME^VELL-FP^VELL-TIP"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nl">"FingerPrint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"CookiesEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"FlashEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"HashField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d04c4463c5e84fb5ba1993a0482a6c24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ImagesEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"JavascriptEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.142.125.158"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressCityField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rio de janeiro"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressCountryField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"SmartIdField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d04c4463c5e84fb5ba1993a0482a6c24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"SmartIdConfidenceLevelField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ScreenResolutionField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1920x1080"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"BrowserLanguageField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"ProviderTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5671726720836914704008"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5b01552e-bf38-430e-bd38-8517c36a1ca2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-30 10:44:13"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-30 10:44:33"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/5b01552e-bf38-430e-bd38-8517c36a1ca2"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/5b01552e-bf38-430e-bd38-8517c36a1ca2/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Neste caso, o Marketplace recebe o valor da transação descontado o MDR acordado com a Braspag (Facilitador). Como apresentado anteriormente, a Tarifa Fixa acordada entre o Marketplace e a Braspag é sensibilizada diretamente na agenda de ambas as partes.</p>

<p><img src="https://developercielo.github.io/images/split/split002.png" alt="SplitSample002" /></p>

<p><strong>Exemplo 2)</strong></p>

<p>Transação no valor de <strong>R$100,00</strong> com o nó contendo as regras de divisão.</p>

<p><strong>Taxa Braspag</strong>: 2% MDR + R$0,10 Tarifa Fixa.<br />
<strong>Taxa Marketplace com o Subordinado 01</strong>: 5% MDR (embutindo os 2% do MDR Braspag) + 0,30 Tarifa Fixa.<br />
<strong>Taxa Marketplace com o Subordinado 02</strong>: 4% MDR (embutindo os 2% do MDR Braspag) + 0,15 Tarifa Fixa.</p>

<p><strong>Request</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"merchantorderid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"identitytype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditcard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"softdescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4481530710186111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"fraudanalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Accept"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ipaddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.221.103.151"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"totalorderamount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"isgift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"returnsaccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto teste"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"sku"</span><span class="p">:</span><span class="w"> </span><span class="mi">563</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"unitprice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"splitpayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"subordinatemerchantid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"subordinatemerchantid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448153******6111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190830104950554"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0830104950554"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnSuccess"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"IsRetryTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto teste"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"563"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"OriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"CartType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.221.103.151"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Accept"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"93324008-2dcb-e911-a40a-0003ff21cf74"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"StatusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FraudAnalysisReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F^H^P"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HotListInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEG-AFCB^NEG-CC^NEG-EM^NEG-HIST"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"InternetInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INTL-IPCO^RISK-EM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goiania"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"br"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpRoutingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goias"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"VelocityInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEL-NAME^VELI-FP^VELI-TIP^VELL-FP^VELL-TIP^VELS-FP^VELS-TIP"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nl">"FingerPrint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"CookiesEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"FlashEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"HashField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d04c4463c5e84fb5ba1993a0482a6c24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ImagesEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"JavascriptEnabledField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.142.125.158"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressCityField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rio de janeiro"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"TrueIpAddressCountryField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"SmartIdField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d04c4463c5e84fb5ba1993a0482a6c24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"SmartIdConfidenceLevelField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ScreenResolutionField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1920x1080"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"BrowserLanguageField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"ProviderTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5671729896416618104007"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4720</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4785</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1333ea6-8cb9-420f-9674-d66031903080"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-30 10:49:40"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-30 10:49:50"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f1333ea6-8cb9-420f-9674-d66031903080"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f1333ea6-8cb9-420f-9674-d66031903080/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Abaixo, como ficaram as divisões e como foram sensibilizadas as agendas de cada participante.</p>

<p><img src="https://developercielo.github.io/images/split/split003.png" alt="SplitSample003" /></p>

<p><strong>Request - Transação de Débito</strong></p>

<p>Uma transação com um Cartão de Débito se efetua de uma forma semelhante a um Cartão de Crédito, porém, é obrigatório submetê-la ao processo de autenticação do banco correspondente e o nó referente a análise de fraude não deve ser informado.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"merchantorderid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"identitytype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Debitcard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"softdescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.UrlDeRetornoDoLojista.com.br/"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4481530710186111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"splitpayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"subordinatemerchantid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"subordinatemerchantid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30082019"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Accept"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18160361106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@teste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521995760078"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448153******6111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yamilet Taylor"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2019"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.UrlDeRetornoDoLojista.com.br/"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://transactionsandbox.pagador.com.br/post/mpi/auth/5bb92d7c-4f3e-40dc-9f83-bd09c02fea38"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439387"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0830110439387"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DoSplit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4720</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4785</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bb92d7c-4f3e-40dc-9f83-bd09c02fea38"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-30 11:04:33"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waiting"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/5bb92d7c-4f3e-40dc-9f83-bd09c02fea38"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/5bb92d7c-4f3e-40dc-9f83-bd09c02fea38/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para qual o Lojista deve redirecionar o Cliente para o fluxo de Débito.</td>
      <td>Texto</td>
      <td>56</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnUrl</code></td>
      <td>Url de retorno do lojista. URL para onde o lojista vai ser redirecionado no final do fluxo.</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="modelos-de-split">Modelos de Split</h3>

<p>O Split de Pagamentos disponibiliza dois modelos para divisão da transação entre os participantes:</p>

<table>
  <tbody>
    <tr>
      <td>Tipo</td>
      <td>Descrição</td>
    </tr>
    <tr>
      <td><strong>Split Transacional</strong></td>
      <td>O <strong>Marketplace</strong> envia na autorização (captura automática) ou no momento de captura as regras de divisão.</td>
    </tr>
    <tr>
      <td><strong>Split Pós-Transacional</strong></td>
      <td>O <strong>Marketplace</strong> envia as regras de divisão após a captura da transação.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>No Split de Pagamentos a divisão é realizada somente para transações capturadas, ou seja, as regras de divisão só serão consideradas para autorizações com captura automática e no momento da captura de uma transação. Caso seja informado no momento de uma autorização sem captura automática, as regras de divisão serão desconsideradas.</p>
</blockquote>

<h4 id="transacional">Transacional</h4>

<p>No Split Transacional é necessário que o Marketplace envie um “nó” adicional na integração da API do Pagador, como apresentado em exemplos anteriores, informando as regras de divisão da transação.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"5a1a61f0-1630-4873-bf69-a6ff9ae664e9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.SubordinateMerchantId</code></td>
      <td><strong>MerchantId</strong> (Identificador) do <strong>Subordinado</strong>.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Amount</code></td>
      <td>Parte do valor total da transação referente a participação do <strong>Subordinado</strong>, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Fares.Mdr</code></td>
      <td><strong>MDR(%)</strong> do <strong>Marketplace</strong> a ser descontado do valor referente a participação do <strong>Subordinado</strong></td>
      <td>Decimal</td>
      <td>-</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Fares.Fee</code></td>
      <td><strong>Tarifa Fixa(R$)</strong> a ser descontada do valor referente a participação do <strong>Subordinado</strong>, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<p>Como resposta, A API retornará um nó contento as regras de divisão enviadas e os valores a serem recebidos pelo Marketplace e seus Subordinados:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a1a61f0-1630-4873-bf69-a6ff9ae664e9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">                
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95506357-f4c7-475f-a6b8-cf4618b9d721"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a1a61f0-1630-4873-bf69-a6ff9ae664e9"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9500</span><span class="p">,</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Splits.SubordinateMerchantId</code></td>
      <td><strong>MerchantId</strong> (Identificador) do <strong>Subordinado</strong> ou <strong>Marketplace</strong>.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SplitPayments.Splits.Amount</code></td>
      <td>Parte do valor calculado da transação a ser recebido pelo <strong>Subordinado</strong> ou <strong>Marketplace</strong>, já descontando todas as taxas (MDR e Tarifa Fixa)</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="pós-transacional">Pós-Transacional</h4>

<p>Neste modelo o Marketplace poderá enviar as regras de divisão da transação após a mesma ser capturada.</p>

<p>Para transações com <strong>Cartão de Crédito</strong> este período é de <strong>20 dias</strong> e para as transações com <strong>Cartão de Débito</strong> este período é de <strong>1 dia</strong>, se o Marketplace possuir um regime padrão de pagamentos. Caso tenha um regime personalizado, o período deverá ser acordado entre as partes (Marketplace e Braspag (Facilitador)).</p>

<blockquote>
  <p>O período para redividir uma transação poderá ser alterado pela Braspag (Facilitador).</p>
</blockquote>

<p><strong>Autenticação</strong></p>

<p>O Split de Pagamentos utiliza como segurança o protocolo <a href="https://oauth.net/2/">OAUTH2</a>, onde é necessário primeiramente obter um token de acesso, utlizando suas credenciais.</p>

<p>Para obter um token de acesso:</p>

<ol>
  <li>Concatene o ClientId e ClientSecret: <code class="highlighter-rouge">ClientId:ClientSecret</code>.</li>
  <li>Codifique o resultado da concatenação em Base64.</li>
  <li>Realize uma requisição ao servidor de autorização:</li>
</ol>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">{braspag-oauth2-server}/oauth2/token</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">x-www-form-urlencoded</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Basic {base64}"</span><span class="w">  
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Content-Type: application/x-www-form-urlencoded"</span><span class="w">  
</span><span class="err">grant_type=client_credentials</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbG.....WE1igNAQRuHAs"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>O ClientSecret deve ser obtido junto à Braspag. <br />
O token retornado (access_token) deverá ser utilizado em toda requisição à API Split como uma chave de autorização. O mesmo possui uma validade de 20 minutos e deverá ser obtido um novo token toda vez que o mesmo expirar.</p>
</blockquote>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">PUT</span> <span class="endpoint">{api-split}/api/transactions/{PaymentId}/split</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c96bf94c-b213-44a7-9ea3-0ee2865dc57e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5670</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">330</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3825</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">175</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>O nó referente ao Split no Split Pós-transacional, tanto no contrato de request quanto de response, é o mesmo retornado na divisão no Split Transacional, apresentado anteriormente.</p>

<blockquote>
  <p>O Marketplace poderá informar as regras de divisão da transação mais de uma vez desde que esteja dentro do período de tempo permitido, que é de <strong>20 dias</strong> para <strong>Cartão de Crédito</strong> se estiver enquadrado no regime de pagamento padrão.</p>
</blockquote>

<h3 id="captura">Captura</h3>

<p>Ao capturar uma transação do Split de Pagamentos, deve-se informar as regras de divisão da transação. Caso as regras não sejam informadas, o Split interpretará que todo o valor é referente ao próprio Marketplace.</p>

<h4 id="captura-total">Captura Total</h4>

<p>Na captura total de uma transação, o somatório dos valores de participação de cada subordinado deverá ser igual ao valor total da transação enviado no momento da autorização.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/capture</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5670</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">330</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3825</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">175</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/db14bf98-5ebd-43b5-8ba6-205c30ec1c16"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/db14bf98-5ebd-43b5-8ba6-205c30ec1c16/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="captura-parcial">Captura Parcial</h4>

<p>Na captura parcial de uma transação, o somatório dos valores de participação de cada subordinado deverá ser igual ao valor total a ser capturado. Caso nenhuma divisão seja informada, o Split interpretará que todo o valor é referente ao próprio Marketplace.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/capture?amount={amount}</span></aside>

<p>O exemplo abaixo captura parcialmente o valor de R$80,00 de uma transação realizada no valor de R$100,00.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">3000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="mi">15</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4720</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2865</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">135</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/7bd7fc3a-4385-45cf-8a45-ec0349716b68"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/7bd7fc3a-4385-45cf-8a45-ec0349716b68/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Como explicitado anteriormente, se realizada uma captura total ou parcial sem informar as regras de divisão, o Split interpreta que todo o valor é destinado ao próprio Marketplace.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/capture/capture?amount=8000</span></aside>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Fares"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Splits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/ee849761-d758-4f12-80bf-6ceae3a751ec"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/ee849761-d758-4f12-80bf-6ceae3a751ec/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="cancelamento">Cancelamento</h3>

<p>Ao cancelar uma transação do Split de Pagamentos o Marketplace deve informar, para um cancelamento parcial, qual o valor deve ser cancelado de cada participante da transação. Para um cancelamento total, esta informação não é necessária, já que será cancelado o valor total e consequentemente o valor total de cada Subordinado.</p>

<h4 id="cancelamento-total">Cancelamento Total</h4>

<p>No cancelamento total de uma transação, será cancelado o valor total da transação e consequentemente o valor total de cada Subordinado e as comissões de todos os participantes.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">v2/sales/{PaymentId}/void</span></aside>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/019efd18-c69a-4107-b5d7-e86564460cc4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"VoidSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3825</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">175</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5670</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">330</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="cancelamento-parcial">Cancelamento Parcial</h4>

<p>No cancelamento parcial, o somatório dos valores cancelados definidos para cada Subordinado deve ser igual ao valor do cancelamento parcial.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">v2/sales/{PaymentId}/void?amount={amount}</span></aside>

<p>No exempo abaixo é cancelado o valor de R$25,00 de uma transação capturada no valor de R$100,00.</p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">v2/sales/{PaymentId}/void?amount=2500</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"VoidSplitPayments"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="mi">1000</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">VoidSplitPayments.SubordinateMerchantId</code></td>
      <td><strong>MerchantId</strong> (Identificador) do <strong>Subordinado</strong>.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VoidedAmount.Amount</code></td>
      <td>Total ou parte do valor destinado ao <strong>Subordinado</strong> a ser cancelado, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/c10ee5e5-6179-424c-bbf2-1a2319a8f7c3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/c10ee5e5-6179-424c-bbf2-1a2319a8f7c3/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"VoidSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5147542-0c0e-45d4-b6a8-a5a7167e6ae7"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1417</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">956</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b3f216c-69d7-44cf-a2d1-dbd1439429c3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Não é obrigatório informar todos os Subordinados no cancelamento parcial. Pode-se informar apenas os subordinados para os quais se deseja cancelar totalmente ou parte do valor destinado aos mesmos na transação. No exemplo acima poderia ser informado, por exemplo, apenas o segundo subordinado, conforme exemplo abaixo:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"VoidSplitPayments"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"f1531485-adb3-4320-9b14-dbc07eea2b3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="mi">1000</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>Ao cancelar parcialmente parte de um valor destinado a um Subordinado, é cancelada proporcionalmente também a Tarifa Fixa que o Marketplace tem a receber.</p>
</blockquote>

<h2 id="antifraude">Antifraude</h2>

<p>O Split de Pagamentos possui uma plataforma de antifraude que utiliza inteligência artificial para minimizar os riscos de fraude e chargeback.</p>

<blockquote>
  <p>No modelo de negócio do Split, todo chargeback é repassado ao Marketplace, que pode ou não repassá-lo para os seus subordinados. Portanto, é de suma importância que a plataforma de antifraude esteja corretamente integrada e configurada.</p>
</blockquote>

<h3 id="fluxo-transacional">Fluxo transacional</h3>

<p>A integração com o antifraude se dá através do próprio fluxo transacional, na mesma requisição da transação.</p>

<ul>
  <li>Cliente realiza uma transação.</li>
  <li>A anállise de fraude é realizada.</li>
  <li>Caso a análise de fraude recomende rejeitar a transação, o fluxo é interrompido.</li>
  <li>A transação é executada normalmente.</li>
</ul>

<p>Para utilizar o sistema de antifraude, é necessário incluir o bloco <code class="highlighter-rouge">Payment.FraudAnalysis</code>. Em casos de uma compra remota ou com entrega, também deverão ser incluidos os blocos <code class="highlighter-rouge">Customer.DeliveryAddress</code> e/ou <code class="highlighter-rouge">Customer.BillingAddress</code>.</p>

<table>
  <thead>
    <tr>
      <th>Campos</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Número de identificação do pedido no sistema do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>Dados do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>61</td>
      <td>Sim</td>
      <td>Nome do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>18</td>
      <td>Sim</td>
      <td>Número de documento do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Tipo de documento de identificação do comprador. Ex.: <code class="highlighter-rouge">CPF</code> ou <code class="highlighter-rouge">CNPJ</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Não</td>
      <td>E-mail do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Telefone do comprador. Ex.: <code class="highlighter-rouge">552121114700</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Mobile</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Telefone celular do comprador. Ex.: <code class="highlighter-rouge">5521987654321</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress</code></td>
      <td>-</td>
      <td>-</td>
      <td>Não</td>
      <td>Enviado quando a transação é referente a algum produto com entrega</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>24</td>
      <td>Não</td>
      <td>Endereço de entrega do comprador.</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Distrito ou Bairro do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Não</td>
      <td>Cidade do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>País do endereço de entrega do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress</code></td>
      <td>-</td>
      <td>-</td>
      <td>Não</td>
      <td>-</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Street</code></td>
      <td>Texto</td>
      <td>24</td>
      <td>Sim</td>
      <td>Endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Sim</td>
      <td>Número do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.District</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Distrito ou Bairro do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>CEP do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.City</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Sim</td>
      <td>Cidade do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>Estado do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
      <td>País do endereço de cobrança do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>Campos refente ao pagamento e antifraude</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do meio de pagamento. Possíveis Valores: <code class="highlighter-rouge">CreditCard</code> ou <code class="highlighter-rouge">DebitCard</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Inteiro</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do pedido em centavos. Ex.: r$ 1.559,85 = 155985</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Boleano</td>
      <td>-</td>
      <td>Sim</td>
      <td>Parâmetro para capturar a transação. Caso o valor seja <code class="highlighter-rouge">False</code> a transação será apenas autorizada. Se for <code class="highlighter-rouge">True</code>, a captura será realizada automaticamente após a autorização.</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Inteiro</td>
      <td>15</td>
      <td>Não</td>
      <td>Exclusivo para companhias aéreas - Montante do valor da autorização que deve ser destinado à taxa de serviço</td>
      <td>Obs.: Esse valor não é adicionado ao valor da autorização</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Inteiro</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas do pedido</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Sim</td>
      <td>Texto que será impresso na fatura do cartão de crédito do portador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>Nó contendo as informações do cartão</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do cartão do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Nome do comprador impresso no cartão</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade do cartão composta por MM/AAAA</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão</td>
      <td>Possíveis valores: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SaveCard</code></td>
      <td>Boleano</td>
      <td>-</td>
      <td>Não</td>
      <td>Parâmetro para salvar os dados do cartão como token. Caso seja passado com o valor <code class="highlighter-rouge">True</code>, O parâmetro <code class="highlighter-rouge">CardToken</code> será retornado no <code class="highlighter-rouge">Response</code> sendo seu valor o token gerado que poderá ser utilizado em futuras transações.</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis</code></td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>Nó contendo as informações para Análise de Fraude</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Provider</code></td>
      <td>Texto</td>
      <td>12</td>
      <td>Sim</td>
      <td>Identifica o provedor da solução de análise de fraude</td>
      <td>Possíveis valores: <code class="highlighter-rouge">Cybersource</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.TotalOrderAmount</code></td>
      <td>Inteiro</td>
      <td>15</td>
      <td>Não</td>
      <td>Valor total do pedido em centavos, podendo ser diferente do valor da transação</td>
      <td>Ex.: Valor do pedido sem a taxa de entrega</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.FingerPrintId</code></td>
      <td>Texto</td>
      <td>6010</td>
      <td>Sim</td>
      <td>Impressão digital de dispositivos e geolocalização real do IP do comprador <a href="https://braspag.github.io//manual/antifraude#cybersource">Configuração do Fingerprint</a></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalisys.Browser</code></td>
      <td>-</td>
      <td>-</td>
      <td>Sim</td>
      <td>-</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Browser.IpAddress</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Ip do comprador</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart</code></td>
      <td>Lista</td>
      <td>-</td>
      <td>Não</td>
      <td>Nó contendo as informações do carrinho de compras para análise de fraude</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items[].Name</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Nome do produto</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items[].Sku</code></td>
      <td>Texto</td>
      <td>12</td>
      <td>Não</td>
      <td>Sku do produto</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items[].UnitPrice</code></td>
      <td>Inteiro</td>
      <td>15</td>
      <td>Não</td>
      <td>Preço original do produto em centavos</td>
      <td>Ex.: R$ 1.559,85 = 155985</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Cart.Items[].Quantity</code></td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>Quantidade do produto</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields</code></td>
      <td>Lista</td>
      <td>-</td>
      <td>Sim</td>
      <td>Nó contendo dados</td>
      <td>adicionais para análise de fraude <a href="https://braspag.github.io//manual/antifraude#tabela-31-merchantdefineddata-(cybersource)">Tabela de Merchant Defined Data</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields.Items[].Id</code></td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
      <td>Identificador de uma informação adicional a ser enviada</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.MerchantDefinedFields.Items[].Value</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Valor de uma informação adicional a ser enviada</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping</code></td>
      <td>-</td>
      <td>-</td>
      <td>Não</td>
      <td>Nó contendo informações adicionais da entrega do pedido para análise de fraude</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.FraudAnalysis.Shipping.Addressee</code></td>
      <td>Texto</td>
      <td>61</td>
      <td>Não</td>
      <td>Nome e sobrenome do destinatário</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="agenda-financeira">Agenda Financeira</h2>

<p>No Split de Pagamentos, o responsável por realizar o repasse dos valores (liquidação) a cada um dos participantes de uma venda é a Braspag (Facilitador).</p>

<p>A Braspag irá gerar uma agenda financeira que poderá ser consultada a qualquer momento pelo Marketplace e/ou Subordinados.</p>

<p>A agenda é composta por eventos de Crédito e Débito que são gerados de acordo com as operações efetuadas e o regime de pagamento acordado.</p>

<p>Eventos de Crédito:</p>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Evento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><code class="highlighter-rouge">Credit</code></td>
      <td>Lançamento de crédito das parcelas de uma transação.</td>
    </tr>
    <tr>
      <td>3</td>
      <td><code class="highlighter-rouge">FeeCredit</code></td>
      <td>Lançamento de crédito da Tarifa Fixa acordada entre o Marketplace e a Braspag (Facilitador).</td>
    </tr>
    <tr>
      <td>5</td>
      <td><code class="highlighter-rouge">RefundCredit</code></td>
      <td>Lançamento de crédito devido a um cancelamento.</td>
    </tr>
    <tr>
      <td>7</td>
      <td><code class="highlighter-rouge">ChargebackCredit</code></td>
      <td>Lançamento de crédito devido a um chargeback.</td>
    </tr>
    <tr>
      <td>9</td>
      <td><code class="highlighter-rouge">UndoChargebackCredit</code></td>
      <td>Lançamento de crédito para reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>11</td>
      <td><code class="highlighter-rouge">AntiFraudFeeCredit</code></td>
      <td>Lançamento de crédito referente à transação de antifraude.</td>
    </tr>
    <tr>
      <td>13</td>
      <td><code class="highlighter-rouge">AntiFraudFeeWithReviewCredit</code></td>
      <td>Lançamento de crédito referente à transação de antifraude com revisão manual.</td>
    </tr>
    <tr>
      <td>15</td>
      <td><code class="highlighter-rouge">AdjustmentCredit</code></td>
      <td>Lançamento de um crédito como ajuste.</td>
    </tr>
    <tr>
      <td>17</td>
      <td><code class="highlighter-rouge">ChargebackReversalCredit</code></td>
      <td>Lançamento de crédito referente a reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>19</td>
      <td><code class="highlighter-rouge">AnticipationCredit</code></td>
      <td>Lançamento de crédito referente a antecipação.</td>
    </tr>
    <tr>
      <td>20</td>
      <td><code class="highlighter-rouge">AnticipationCommissionCredit</code></td>
      <td>Lançamento de crédito referente a comissão de uma antecipação.</td>
    </tr>
  </tbody>
</table>

<p>Eventos de Débito:</p>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Evento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2</td>
      <td><code class="highlighter-rouge">Debit</code></td>
      <td>Lançamento de débito das parcelas de uma transação.</td>
    </tr>
    <tr>
      <td>4</td>
      <td><code class="highlighter-rouge">FeeDebit</code></td>
      <td>Lançamento de débito da Tarifa Fixa acordada entre o Marketplace e a Braspag (Facilitador).</td>
    </tr>
    <tr>
      <td>6</td>
      <td><code class="highlighter-rouge">RefundDebit</code></td>
      <td>Lançamento de débito devido a um cancelamento.</td>
    </tr>
    <tr>
      <td>8</td>
      <td><code class="highlighter-rouge">ChargebackDebit</code></td>
      <td>Lançamento de débito devido a um chargeback.</td>
    </tr>
    <tr>
      <td>10</td>
      <td><code class="highlighter-rouge">UndoChargebackDebit</code></td>
      <td>Lançamento de débito para reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>12</td>
      <td><code class="highlighter-rouge">AntiFraudFeeDebit</code></td>
      <td>Lançamento de débito referente à transação de antifraude.</td>
    </tr>
    <tr>
      <td>14</td>
      <td><code class="highlighter-rouge">AntiFraudFeeWithReviewDebit</code></td>
      <td>Lançamento de débito referente à transação de antifraude com revisão manual.</td>
    </tr>
    <tr>
      <td>16</td>
      <td><code class="highlighter-rouge">AdjustmentDebit</code></td>
      <td>Lançamento de um débito como ajuste.</td>
    </tr>
    <tr>
      <td>18</td>
      <td><code class="highlighter-rouge">ChargebackReversalDebit</code></td>
      <td>Lançamento de débito referente a reversão de um chargeback.</td>
    </tr>
    <tr>
      <td>22</td>
      <td><code class="highlighter-rouge">AnticipationCommissionDebit</code></td>
      <td>Lançamento de débito referente a comissão de uma antecipação.</td>
    </tr>
  </tbody>
</table>

<p>Um evento poderá estar em um dos seguintes status na agenda financeira:</p>

<ul>
  <li><strong>Scheduled</strong>: Agendado.</li>
  <li><strong>Pending</strong>: Aguardando confirmação de liquidação.</li>
  <li><strong>Settled</strong>: Liquidado.</li>
  <li><strong>Error</strong>: Erro de liquidação na instituição financeira.</li>
  <li><strong>WaitingForAdjustementDebit</strong>: Aguardando liquidação do ajuste de débito associado.</li>
  <li><strong>Anticipated</strong>: Evento antecipado.</li>
</ul>

<h3 id="consultar-eventos">Consultar Eventos</h3>

<p>A API Split permite consultar o que uma loja tem a receber dentro de um intervalo de datas.</p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/schedule-api/events?initialForecastedDate={initialDate}&amp;finalForecastedDate={finalDate}&amp;pageIndex={pageIndex}&amp;pageSize={pageSize}&amp;eventStatus={eventStatus}&amp;merchantIds={merchantId}</span></aside>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Formato</th>
      <th>Obrigatório</th>
      <th>Valor Padrão</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">InitialForecastedDate</code></td>
      <td>Data de pagamento prevista inicial a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>CurrentDate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FinalForecastedDate</code></td>
      <td>Data de pagamento prevista final a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>InitialForecastedDate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">InitialPaymentDate</code></td>
      <td>Data de pagamento inicial a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FinalPaymentDate</code></td>
      <td>Data de pagamento final a ser consultada.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>InitialPaymentDate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PageIndex</code></td>
      <td>Página a ser consultada.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PageSize</code></td>
      <td>Tamanho da página. Valores possíveis: 25, 50, 100.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EventStatus</code></td>
      <td>Status do evento [Scheduled - Pending - Settled - Error - WaitingFoAdjustementDebit - Anticipated].</td>
      <td>String</td>
      <td>-</td>
      <td>Não</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IncludeAllSubordinates</code></td>
      <td>Inclui todos os subordinados na consulta.</td>
      <td>Boolean</td>
      <td>-</td>
      <td>Não</td>
      <td>false</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantIds</code></td>
      <td>Lojas a serem consideradas na consulta.</td>
      <td>Guid</td>
      <td>-</td>
      <td>Não</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p><strong>Resquest</strong></p>

<p><strong>Por Data Prevista de Pagamento</strong></p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/schedule-api/events?initialForecastedDate=2017-12-01&amp;finalForecastedDate=2018-12-31&amp;merchantIds=e4db3e1b-985f-4e33-80cf-a19d559f0f60&amp;merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<p><strong>Por Data de Pagamento</strong></p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/schedule-api/events?initialPaymentDate=2018-08-22&amp;finalPaymentDate=2018-08-31&amp;merchantIds=e4db3e1b-985f-4e33-80cf-a19d559f0f60&amp;merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">x-www-form-urlencoded</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Schedules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b579fafb-8271-4a1d-a657-00e5fd9b9f83"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f110f0d-82c9-4a1f-8df5-08203348d160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01d9b78f-b287-4376-a5e4-12d91cde1938"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e30760d7-01e2-4b2b-9a43-2b252fcfbd84"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9262</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90ea1e11-568f-49ee-bc3f-7ab2a225a1e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069ee5ef-ce7a-43ce-a9af-022f652e115a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea4db25a-f981-4849-87ff-026897e006c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9255</span><span class="p">,</span><span class="w">
            </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3efe82f-1eee-4c28-bb9f-8054fcd4ca3f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mdr"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Commission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].Id</code></td>
      <td>Identificador do evento na agenda financiera.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].PaymentId</code></td>
      <td>Identificador da transação.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].MerchantId</code></td>
      <td>Identificador da loja.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].PaymentDate</code></td>
      <td>Data de liquidação. Retornada somente quando pagamento realizado (EventStatus = Settled)</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].ForecastedDate</code></td>
      <td>Data de liquidação prevista.</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].Installments</code></td>
      <td>Número de parcelas da transação.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].InstallmentAmount</code></td>
      <td>Valor, em centavos, da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].InstallmentNumber</code></td>
      <td>Número da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].Event</code></td>
      <td>Identificador do evento.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].EventDescription</code></td>
      <td>Descrição do evento.</td>
      <td>String</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Schedules[].EventStatus</code></td>
      <td>Status do evento. [Scheduled - Pending - Settled - Error - WaitingForAdjustementDebit]</td>
      <td>String</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="consultar-transações">Consultar Transações</h3>

<p>O Split de Pgamentos permite consultar a agenda financeira de várias transações ou de uma transação específica.</p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/schedule-api/transactions?initialCaptureDate={initialDate}&amp;finalCaptureDate={finalDate}&amp;pageIndex={pageIndex}&amp;pageSize={pageSize}&amp;eventStatus={eventStatus}&amp;merchantIds={merchantId}</span></aside>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Formato</th>
      <th>Obrigatório</th>
      <th>Valor Padrão</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">InitialCaptureDate</code></td>
      <td>Data inicial a ser consultada, considerando a data de captura das transações.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>CurrentDate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FinalCaptureDate</code></td>
      <td>Data final a ser consultada, considerando a data de captura das transações.</td>
      <td>Data</td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>InitialCaptureDate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PageIndex</code></td>
      <td>Página a ser consultada.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PageSize</code></td>
      <td>Tamanho da página.  Valores possíveis: 25, 50, 100.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Não</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EventStatus</code></td>
      <td>Status do evento [Scheduled - Pending - Settled - Error - Anticipated].</td>
      <td>String</td>
      <td>-</td>
      <td>Não</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IncludeAllSubordinates</code></td>
      <td>Inclui todos os subordinados na consulta.</td>
      <td>Boolean</td>
      <td>-</td>
      <td>Não</td>
      <td>false</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantIds</code></td>
      <td>Lojas a serem consideradas na consulta.</td>
      <td>Guid</td>
      <td>-</td>
      <td>Não</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p>Para informar várias lojas na consulta, basta repetir o parâmetro “merchantIds”. Caso não seja informada nenhuma loja, será considerada a loja utilizada na autenticação à API Split.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/schedule-api/transactions?initialCaptureDate=2017-12-01&amp;finalCaptureDate=2017-12-31&amp;merchantIds=e4db3e1b-985f-4e33-80cf-a19d559f0f60&amp;merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">x-www-form-urlencoded</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">  
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24afaaaf-f2a1-40a5-bb25-f914fa623c4c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Schedules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24357</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1450</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">38480</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-21"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeeDebit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeeDebit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].PaymentId</code></td>
      <td>Identificador da transação.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].CaptureDate</code></td>
      <td>Data de captura da transação.</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].MerchantId</code></td>
      <td>Identificador da loja.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].PaymentDate</code></td>
      <td>Data de liquidação. Retornada somente quando pagamento realizado (EventStatus = Settled)</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].ForecastedDate</code></td>
      <td>Data de liquidação prevista.</td>
      <td>Data</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].Installments</code></td>
      <td>Número de parcelas a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].InstallmentsAmount</code></td>
      <td>Valor, em centavos, da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].InstallmentNumber</code></td>
      <td>Número da parcela a liquidar.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].Event</code></td>
      <td>Identificador do evento.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].EventDescription</code></td>
      <td>Descrição do evento.</td>
      <td>String</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Transactions[].Schedules[].EventStatus</code></td>
      <td>Status do evento. [Scheduled - Pending - Settled - Error - Anticipated]</td>
      <td>String</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p>Para consultar a agenda de uma transação específica basta informar o identificador da transação na requisição.</p>

<p>Neste caso poderão ser utilizados os filtros MarchantIds e EventStatus.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">{api-split}/schedule-api/transactions/{PaymentId}?merchantIds=7c7e5e7b-8a5d-41bf-ad91-b346e077f769&amp;merchantIds=2b9f5bea-5504-40a0-8ae7-04c154b06b8b</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">x-www-form-urlencoded</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"PageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd2309d3-3fec-4816-aec7-bcb6d51a0988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Schedules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-11"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5790</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ForecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-11"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3790</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"InstallmentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Event"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"EventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="ajustes">Ajustes</h3>

<p>O Split de Pagamentos permite que sejam lançados ajustes à crédito e à débito nas agendas dos Subordinados.</p>

<p>Um ajuste somente será efetivamente liquidado para os evolvidos caso o participante a ser debitado possua saldo positivo na data prevista informada para efetivação do ajuste. Caso contrário, a liquidação do ajuste será postergada, para ambos os envolvidos, até que o participante a ser debitado tenha saldo positivo para cobrir o valor do ajuste.</p>

<p><strong>Ex:</strong> Marketplace lança um ajuste a débito de R$100,00 para o Subordinado A com data prevista de cobrança em 17/10/2018.</p>

<p><strong>Caso 1)</strong> Subordinado possui saldo positivo na data prevista informada.</p>

<p><img src="https://braspag.github.io/images/braspag/split/adjustment001.png" alt="SplitSampleadjustment001" /></p>

<p>Os valores até o dia 16/10/2018 foram liquidados normalmente.</p>

<p>Como o subordinado tinha R$150,00 para receber no dia 17/10/2018, o ajuste foi lançado na agenda financeira na data prevista informada e o mesmo receberá R$50,00 devido ao débito do ajuste.</p>

<p>O participante a ser creditado terá a efetivação do crédito na mesma data de efetivação do débito, ou seja, receberá R$150,00 no dia 17/10/2018.</p>

<p><strong>Caso 2)</strong> Subordinado não possui saldo positivo na data prevista informada.</p>

<p><img src="https://braspag.github.io/images/braspag/split/adjustment002.png" alt="SplitSampleadjustment002" /></p>

<p>Os valores até o dia 16/10/2018 foram liquidados normalmente.</p>

<p>O Subordinado tinha a receber apenas R$60,00 no dia 17/10/2018, o que não cobre o valore do ajuste a ser debitado do mesmo.</p>

<p>Neste cenário, os pagamentos do subordinado serão retidos até que o mesmo tenha saldo para cobrir o ajuste, o que ocorre no dia 19/10/2018, onde o acumulado retido é de R$130,00. Com isso, o subordinado receberá R$30,00.</p>

<p>O participante a ser creditado terá a efetivação do crédito na mesma data de efetivação do débito, ou seja, receberá R$150,00 no dia 19/10/2018.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">{api-split}/adjustment-api/adjustments/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Bearer {access_token}"</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Accept: application/json"</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"merchantIdToDebit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EA4DB25A-F981-4849-87FF-026897E006C6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchantIdToCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44F68284-27CF-43CB-9D14-1B1EE3F36838"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Multa por não cumprimento do prazo de entrega no pedido XYZ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"717A0BD0-3D92-43DB-9D1E-9B82DFAFA392"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">merchantIdToDebit</code></td>
      <td>Merchant do qual o valor será debitado.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">merchantIdToCredit</code></td>
      <td>Merchant para o qual o valor será creditado.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">forecastedDate</code></td>
      <td>Data prevista para lançamento do ajuste na agenda financeira.</td>
      <td>String</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">amount</code></td>
      <td>Valor em centavos do ajuste.</td>
      <td>Inteiro</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">description</code></td>
      <td>Decrição do ajuste.</td>
      <td>String</td>
      <td>500</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">transactionId</code></td>
      <td>Identificador da transação para qual o ajuste está sendo lançado.</td>
      <td>Guid</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Ao associar o ajuste a uma transação, os envolvidos devem ser participantes da transação.</aside>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--</span><span class="w"> </span><span class="mi">201</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">Created</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68465ddd-451a-4194-abca-be1ed71fb2ea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchantIdToDebit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EA4DB25A-F981-4849-87FF-026897E006C6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchantIdToCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44F68284-27CF-43CB-9D14-1B1EE3F36838"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forecastedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-19"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Multa por não cumprimento do prazo de entrega no pedido"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"717A0BD0-3D92-43DB-9D1E-9B82DFAFA392"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">id</code></td>
      <td>Identificador do ajuste.</td>
      <td>Guid</td>
      <td>36</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">status</code></td>
      <td>Status do ajustes [Created - Scheduled - Processed - Canceled ].</td>
      <td>String</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h2 id="chargeback">Chargeback</h2>

<p>No Split de Pagamentos o Marketplace pode definir se assumirá o chargeback ou o repassará para seus Subordinados, desde que acordado previamente entre as partes.</p>

<p>Se o Marketplace optar por repassar para os Subordinados, o Chargeback Total é sensibilizado automaticamente na agenda dos mesmos. Caso contrário o chargeback será sensibilizado automaticamente na agenda do Marketplace, como acontece com um Charback Parcial.</p>

<p>O Marketplace pode decidir ainda repassar o Chargeback para seus subordinados. Para isso A API Split disponibiliza um serviço onde o Marketplace pode informar como dividir o valor do chargeback entre os subordinados, caso seja um Chargeback Parcial.</p>

<p>No exemplo abaixo ocorreu um Chargeack Parcial no valor de R$60,00 de uma transação com valor capturado de R$100,00.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">{api-split}/api/chargebacks/{ChargebackId}/splits</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">SubordinateMerchantId</code></td>
      <td>Identificador do Subordinado.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ChargebackAmount</code></td>
      <td>Valor do chargeback que deverá ser repassado ao Subordinado, em centavos.</td>
      <td>Inteiro</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"ChargebackSplitPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7c7e5e7b-8a5d-41bf-ad91-b346e077f769"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3780</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">220</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ChargebackSplits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b9f5bea-5504-40a0-8ae7-04c154b06b8b"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1912</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4db3e1b-985f-4e33-80cf-a19d559f0f60"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ChargebackAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">88</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>O Marketplace tem 1 dia, contado a partir da data de efetivação do chargeback, para informar como deseja repassar os valores aos subordinados.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ChargebackSplitPayments.ChargebackSplits</code></td>
      <td>Lista contendo a divisão do chargeback para cada participante.</td>
      <td>Guid</td>
      <td>36</td>
    </tr>
  </tbody>
</table>

<h2 id="liquidação">Liquidação</h2>

<p>A plataforma permite que o Master bloqueie temporariamente a liquidação para um Subordinado para garantia da entrega do produto/serviço, funcionalidade conhecida como Escrow.</p>

<h3 id="trava">Trava</h3>

<p>Este bloqueio, conhecido como custódia, pode durar até 180 dias. Após este prazo, a Braspag liquidará o valor para o subordinado independentemente do bloqueio.</p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">{splitApi}/api/transactions/{paymentid}/settlements</span></aside>

<p><strong>Request</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kc">true</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="kc">false</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SubordinateMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kc">true</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="kc">false</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">SubordinateMerchantId</code></td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
      <td>Merchantid identificador do subordinado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Locked</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
      <td>Booleano que identifica se o a liquidação será travada para o subordinado ou não</td>
    </tr>
  </tbody>
</table>

<h1 id="consultas">Consultas</h1>

<h2 id="consultando-uma-transação-via-paymentid">Consultando uma transação via PaymentID</h2>

<aside class="notice">Regra:

Transação com vida até 3 meses – consulta via API ou  Painel Admin Braspag
Transação com vida de 3 meses a 12 meses - somente via consulta no  Painel Admin Braspag com a opção “Histórico” selecionada
Transação com vida acima de 12 meses - entrar em contato com seu Executivo Comercial Braspag

</aside>

<p>Para consultar uma transação de cartão de crédito, é necessário fazer um GET para o recurso Payment conforme o exemplo.</p>

<h3 id="requisição-31">Requisição</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales/{PaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Numero de identificação do Pagamento.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-34">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051001"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GONCALO DA CUNHA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04140040"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAO PAULO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHACARA INGLESA"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2539492"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0510042539492"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"759497"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Chargebacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outras Fraudes - Cartao Ausente"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Received"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"RawData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client did not participate and did not authorize transaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8078b32-be17-4c35-b164-ad74c3cd0725"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8078b32-be17-4c35-b164-ad74c3cd0725"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-10 16:25:38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051001"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>,
    <span class="s2">"Address"</span>: <span class="o">{}</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
    <span class="s2">"Capture"</span>: <span class="nb">true</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0181"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Nome do Portador"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"2539492"</span>,
    <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"0510042539492"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"759497"</span>,
    <span class="s2">"Chargebacks"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Amount"</span>: 10000,
            <span class="s2">"CaseNumber"</span>: <span class="s2">"123456"</span>,
            <span class="s2">"Date"</span>: <span class="s2">"2017-06-04"</span>,
            <span class="s2">"ReasonCode"</span>: <span class="s2">"104"</span>,
            <span class="s2">"ReasonMessage"</span>: <span class="s2">"Outras Fraudes - Cartao Ausente"</span>,
            <span class="s2">"Status"</span>: <span class="s2">"Received"</span>,
            <span class="s2">"RawData"</span>: <span class="s2">"Client did not participate and did not authorize transaction"</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"f8078b32-be17-4c35-b164-ad74c3cd0725"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"f8078b32-be17-4c35-b164-ad74c3cd0725"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-05-10 16:25:38"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
      <td>Texto</td>
      <td>14</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
      <td>Texto</td>
      <td>255</td>
      <td>CPF ou CNPJ</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador</td>
      <td>Date</td>
      <td>10</td>
      <td>formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço de contato do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número endereço de contato do comprador</td>
      <td>Texto</td>
      <td>15</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço de contato do Comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>9</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>2</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>35</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>15</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>9</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>2</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>35</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td>Texto</td>
      <td>15</td>
      <td>Consulta os provedores disponíveis nos anexos</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento</td>
      <td>Texto</td>
      <td>100</td>
      <td>Ex. CreditCard</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos)</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Moeda na qual o pagamento será feito</td>
      <td>Texto</td>
      <td>3</td>
      <td>BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>País na qual o pagamento será feito</td>
      <td>Texto</td>
      <td>3</td>
      <td>BRA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas</td>
      <td>Número</td>
      <td>2</td>
      <td>6</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Tipo de parcelamento</td>
      <td>Texto</td>
      <td>10</td>
      <td>Loja (ByMerchant) ou Emissor (ByIssuer)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano que indica se a autorização deve ser com captura automática (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
      <td>Booleano</td>
      <td>— (Default false)</td>
      <td>Booleano</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano que indica se a transação deve ser autenticada (true) ou não (false). Deverá verificar junto à adquirente a disponibilidade desta funcionalidade</td>
      <td>Booleano</td>
      <td>— (Default false)</td>
      <td>Booleano</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano que indica se a transação é do tipo recorrente (true) ou não (false). Este com valor true não originará uma nova Recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Somente para transações Cielo. Authenticate deve ser false quando Recurrent é true</td>
      <td>Booleano</td>
      <td>— (Default false)</td>
      <td>Booleano</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura do portador</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Nome do campo que será gravado o Dado Extra</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Valor do campo que será gravado o Dado Extra</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento</td>
      <td>Texto</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>Número do Comprovante de Venda</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AuthorizationCode</code></td>
      <td>Código de autorização</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].Amount</code></td>
      <td>Valor do chargeback</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].CaseNumber</code></td>
      <td>Número do caso relacionado ao chargeback</td>
      <td>Texto</td>
      <td>16</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].Date</code></td>
      <td>Data do chargeback</td>
      <td>Date</td>
      <td>10</td>
      <td>AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].ReasonCode</code></td>
      <td>Código de motivo do chargeback</td>
      <td>Texto</td>
      <td>10</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].ReasonMessage</code></td>
      <td>Mensagem de motivo do chargeback</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].Status</code></td>
      <td>Status do chargeback <br /> <a href="https://braspag.github.io//manual/braspag-pagador#lista-de-valores-payment.chargebacks[n].status">Lista de Valores - Payment.Chargebacks{n}.Status</a></td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Chargebacks[n].RawData</code></td>
      <td>Dado enviado pela adquirente, podendo ser o titular do cartão ou outra mensagem</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReasonCode</code></td>
      <td>Código de retorno da Adquirência</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReasonMessage</code></td>
      <td>Mensagem de retorno da Adquirência</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ProviderReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>32</td>
      <td>57</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ProviderReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento (adquirente e bancos)</td>
      <td>Texto</td>
      <td>512</td>
      <td>Transação Aprovada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do comprador</td>
      <td>Texto</td>
      <td>16</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do portador impresso no cartão</td>
      <td>Texto</td>
      <td>25</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão</td>
      <td>Texto</td>
      <td>7</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão</td>
      <td>Texto</td>
      <td>4</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão</td>
      <td>Texto</td>
      <td>10</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
      <td>Booleano</td>
      <td>— (Default false)</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="consultando-uma-transação-de-boleto-via-paymentid">Consultando uma transação de Boleto via PaymentID</h2>

<aside class="notice">Regra:

Transação com vida até 3 meses – consulta via API ou  Painel Admin Braspag
Transação com vida de 3 meses a 12 meses - somente via consulta no  Painel Admin Braspag com a opção “Histórico” selecionada
Transação com vida acima de 12 meses - entrar em contato com seu Executivo Comercial Braspag

</aside>

<p>Para consultar uma transação de boleto registrado, é necessário fazer um GET para o recurso Payment conforme o exemplo.</p>

<h3 id="requisição-32">Requisição</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales/{PaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Numero de identificação do Pagamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-35">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051001"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GONCALO DA CUNHA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04140040"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAO PAULO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHACARA INGLESA"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-27"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.pagador.com.br/post/pagador/reenvia.asp/3fda2279-1c45-4271-9656-XXXXXXXXXX"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"BoletoNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123464"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999990276000001234864001834099999999"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99999.39027 60000.012348 64001.834007 7 75680999999999"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RAZAO SOCIAL DA LOJA LTDA."</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01234567000189"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-28"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99992279-1c45-4271-9656-ccbde4ea9999"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">182000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-26 23:33:07"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">182000</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-27 01:45:57"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco2"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.loja.com.br/notificacao"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
     </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2017051001"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>,
    <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
    <span class="s2">"Address"</span>: <span class="o">{</span>
        <span class="s2">"Street"</span>: <span class="s2">"GONCALO DA CUNHA"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"111"</span>,
        <span class="s2">"ZipCode"</span>: <span class="s2">"04140040"</span>,
        <span class="s2">"City"</span>: <span class="s2">"SAO PAULO"</span>,
        <span class="s2">"State"</span>: <span class="s2">"SP"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>: <span class="s2">"CHACARA INGLESA"</span>
     <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
     <span class="s2">"Instructions"</span>: <span class="s2">""</span>,
     <span class="s2">"ExpirationDate"</span>: <span class="s2">"2018-06-27"</span>,
     <span class="s2">"Demonstrative"</span>: <span class="s2">""</span>,
     <span class="s2">"Url"</span>: <span class="s2">"https://www.pagador.com.br/post/pagador/reenvia.asp/3fda2279-1c45-4271-9656-XXXXXXXXXX"</span>,
     <span class="s2">"BoletoNumber"</span>: <span class="s2">"123464"</span>,
     <span class="s2">"BarCodeNumber"</span>: <span class="s2">"9999990276000001234864001834099999999"</span>,
     <span class="s2">"DigitableLine"</span>: <span class="s2">"99999.39027 60000.012348 64001.834007 7 75680999999999"</span>,
     <span class="s2">"Assignor"</span>: <span class="s2">"RAZAO SOCIAL DA LOJA LTDA."</span>,
     <span class="s2">"Address"</span>: <span class="s2">""</span>,
     <span class="s2">"Identification"</span>: <span class="s2">"01234567000189"</span>,
     <span class="s2">"CreditDate"</span>: <span class="s2">"2018-06-28"</span>,
     <span class="s2">"PaymentId"</span>: <span class="s2">"99992279-1c45-4271-9656-ccbde4ea9999"</span>,
     <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
     <span class="s2">"Amount"</span>: 182000,
     <span class="s2">"ReceivedDate"</span>: <span class="s2">"2018-06-26 23:33:07"</span>,
     <span class="s2">"CapturedAmount"</span>: 182000,
     <span class="s2">"CapturedDate"</span>: <span class="s2">"2018-06-27 01:45:57"</span>,
     <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
     <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
     <span class="s2">"Provider"</span>: <span class="s2">"Bradesco2"</span>,
     <span class="s2">"ReturnUrl"</span>: <span class="s2">"https://www.loja.com.br/notificacao"</span>,
     <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
     <span class="s2">"ReasonCode"</span>: 0,
     <span class="s2">"Status"</span>: 2,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/f8078b32-be17-4c35-b164-ad74c3cd0725/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
      <td>Texto</td>
      <td>14</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
      <td>Texto</td>
      <td>255</td>
      <td>CPF ou CNPJ</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador</td>
      <td>Date</td>
      <td>10</td>
      <td>formato AAAA-MM-DD</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço de contato do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número endereço de contato do comprador</td>
      <td>Texto</td>
      <td>15</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço de contato do Comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>9</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>2</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>35</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>15</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>9</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>2</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço de entrega do pedido</td>
      <td>Texto</td>
      <td>35</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Nome da provedora de Meio de Pagamento</td>
      <td>Texto</td>
      <td>15</td>
      <td>Consulta os provedores disponíveis nos anexos</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento</td>
      <td>Texto</td>
      <td>100</td>
      <td>Ex. Boleto</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (em centavos)</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CapturedAmount</code></td>
      <td>Valor pago do boleto (em centavos)</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Instructions</code></td>
      <td>Texto sobre alguma instrução específica para o boleto</td>
      <td>Texto</td>
      <td>Vide Tabela dos bancos</td>
      <td>Ex. “Não pagar após o vencimento”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Demonstrative</code></td>
      <td>Texto sobre alguma informação específica para o boleto</td>
      <td>Texto</td>
      <td>Vide Tabela dos bancos</td>
      <td>Ex. “Boleto referente ao pedido número 99999”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Url</code></td>
      <td>URL para apresentação do boleto</td>
      <td>Texto</td>
      <td>-</td>
      <td>Ex. “https://www.pagador.com.br/post/pagador/reenvia.asp/3fda2279-1c45-4271-9656-XXXXXXXXXX”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>Nosso Número</td>
      <td>Texto</td>
      <td>Vide Tabela dos bancos</td>
      <td>Ex. “12345678”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.BarCodeNumber</code></td>
      <td>Código de Barras do boleto</td>
      <td>Texto</td>
      <td>44</td>
      <td>Ex. “99999390276000001234864001834007775680099999”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.DigitableLine</code></td>
      <td>Linha digitável do boleto</td>
      <td>Texto</td>
      <td>54</td>
      <td>Ex. “99999.39027 60000.012348 64001.834007 7 75680000199999”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Assignor</code></td>
      <td>Nome do cedente do boleto</td>
      <td>Texto</td>
      <td>200</td>
      <td>Ex. “RAZAO SOCIAL DA LOJA LTDA”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Address</code></td>
      <td>Endereço do cedente do boleto</td>
      <td>Texto</td>
      <td>160</td>
      <td>Ex. “Alameda Xingu 512”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Identification</code></td>
      <td>CNPJ do cedente</td>
      <td>Texto</td>
      <td>18</td>
      <td>Ex. “11.355.111/0001-11”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExpirationDate</code></td>
      <td>Data de vencimento do boleto</td>
      <td>Texto</td>
      <td>AAAA-MM-DD</td>
      <td>Ex. “2018-06-21”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditDate</code></td>
      <td>Data de crédito do valor pago do boleto</td>
      <td>Texto</td>
      <td>AAAA-MM-DD</td>
      <td>Ex. “2018-06-19”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CapturedDate</code></td>
      <td>Data de pagamento do boleto</td>
      <td>Texto</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
      <td>Ex. “2018-06-19 01:45:57”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReceivedDate</code></td>
      <td>Data em que a transação foi recebida pela Brapag</td>
      <td>Texto</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
      <td>Ex. “2018-06-19 01:45:57”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL da loja para onde redireciona o cliente</td>
      <td>Texto</td>
      <td>-</td>
      <td>Ex. “https://www.loja.com.br”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Moeda na qual o pagamento será feito</td>
      <td>Texto</td>
      <td>3</td>
      <td>BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>País na qual o pagamento será feito</td>
      <td>Texto</td>
      <td>3</td>
      <td>BRA</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Name</code></td>
      <td>Nome do campo que será gravado o Dado Extra</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExtraDataCollection.Value</code></td>
      <td>Valor do campo que será gravado o Dado Extra</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReasonCode</code></td>
      <td>Código de retorno da Adquirência</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Status</code></td>
      <td>Status da Transação</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex. 1</td>
    </tr>
  </tbody>
</table>

<h2 id="consultando-uma-venda-pelo-identificador-da-loja">Consultando uma venda pelo identificador da loja</h2>

<aside class="notice">Regra:

Transação com vida até 3 meses – consulta via API ou  Painel Admin Braspag
Transação com vida de 3 meses a 12 meses - somente via consulta no  Painel Admin Braspag com a opção “Histórico” selecionada
Transação com vida acima de 12 meses - entrar em contato com seu Executivo Comercial Braspag

</aside>

<p>Não é possível consultar diretamente uma pagamento pelo identificador enviado pela loja (MerchantOrderId), mas é possível obter todos os PaymentIds associados ao identificador.</p>

<p>Para consultar uma venda pelo identificador da loja, é necessário fazer um GET para o recuso sales conforme o exemplo.</p>

<h3 id="requisição-33">Requisição</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales?merchantOrderId={merchantOrderId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curls
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.braspag.com.brv2/sales?merchantOrderId={merchantOrderId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Campo Identificador do Pedido na Loja.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-36">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-06T10:13:39.42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T20:23:28.847"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"Payments"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2015-04-06T10:13:39.42"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2014-12-19T20:23:28.847"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="consultando-um-pedido-recorrente">Consultando um pedido Recorrente</h2>

<p>Para consultar um pedido de Recorrência, é necessário fazer um GET conforme o exemplo.</p>

<h3 id="requisição-34">Requisição</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da Recorrência.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-37">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Cliente"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f5a83c14-0254-4e73-bdd3-9afba1007266"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-11"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-11T00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CurrentRecurrencyTry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051120"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrencyDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SuccessfulRecurrences"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/f5a83c14-0254-4e73-bdd3-9afba1007266"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"RecurrentTransactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PaymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f5a83c14-0254-4e73-bdd3-9afba1007266"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd694ffb-c0c4-47db-9390-737df70a2012"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TryNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/cd694ffb-c0c4-47db-9390-737df70a2012"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Nome do Cliente"</span>
  <span class="o">}</span>,
  <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"f5a83c14-0254-4e73-bdd3-9afba1007266"</span>,
    <span class="s2">"NextRecurrency"</span>: <span class="s2">"2017-06-11"</span>,
    <span class="s2">"StartDate"</span>: <span class="s2">"2017-05-11"</span>,
    <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-31"</span>,
    <span class="s2">"Interval"</span>: <span class="s2">"Monthly"</span>,
    <span class="s2">"Amount"</span>: 10000,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"CreateDate"</span>: <span class="s2">"2017-05-11T00:00:00"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"CurrentRecurrencyTry"</span>: 1,
    <span class="s2">"OrderNumber"</span>: <span class="s2">"2017051120"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"RecurrencyDay"</span>: 11,
    <span class="s2">"SuccessfulRecurrences"</span>: 1,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/f5a83c14-0254-4e73-bdd3-9afba1007266"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"RecurrentTransactions"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"PaymentNumber"</span>: 0,
        <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"f5a83c14-0254-4e73-bdd3-9afba1007266"</span>,
        <span class="s2">"TransactionId"</span>: <span class="s2">"cd694ffb-c0c4-47db-9390-737df70a2012"</span>,
        <span class="s2">"TryNumber"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/cd694ffb-c0c4-47db-9390-737df70a2012"</span>
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"Status"</span>: 1
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">StartDate</code></td>
      <td>Data do inicio da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>05/2019 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrentRecurrencyTry</code></td>
      <td>Indica o número de tentativa da recorrência atual</td>
      <td>Número</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OrderNumber</code></td>
      <td>Identificado do Pedido na loja</td>
      <td>Texto</td>
      <td>50</td>
      <td>2017051101</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status do pedido recorrente</td>
      <td>Número</td>
      <td>1</td>
      <td>1 - Ativo2 - Finalizado3,4,5 - Inativo</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrencyDay</code></td>
      <td>O dia da recorrência</td>
      <td>Número</td>
      <td>2</td>
      <td>22</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SuccessfulRecurrences</code></td>
      <td>Quantidade de recorrência realizada com sucesso</td>
      <td>Número</td>
      <td>2</td>
      <td>5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.RecurrentPaymentId</code></td>
      <td>Id da Recorrência</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.TransactionId</code></td>
      <td>Payment ID da transação gerada na recorrência</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.PaymentNumber</code></td>
      <td>Número da Recorrência. A primeira é zero</td>
      <td>Número</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.TryNumber</code></td>
      <td>Número da tentativa atual na recorrência específica</td>
      <td>Número</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h1 id="post-de-notificação">Post de Notificação</h1>

<p>Para receber a notificação de alteração de status deve-se ter configurado no cadastro de sua loja na Braspag, o campo URL Status Pagamento para receber os parametros conforme o exemplo ao lado.</p>

<p>Resposta esperada da Loja: HTTP Status Code 200 OK</p>

<p>Caso não seja retornado o HTTP Status Code 200 OK será tentado mais duas vezes enviar o Post de Notificação.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ChangeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Identificador que representa o pedido Recorrente (aplicável somente para ChangeType 2 ou 4</td>
      <td>GUID</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Identificador que representa a transação</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ChangeType</code></td>
      <td>Especifica o tipo de notificação. Vide tabela abaixo</td>
      <td>Número</td>
      <td>1</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ChangeType</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Mudança de status do pagamento</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Recorrência criada</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Mudança de status do Antifraude</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Mudança de status do pagamento recorrente (Ex. desativação automática)</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Estorno negado (aplicável para Rede)</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Boleto registrado pago a menor</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Notificação de chargeback <br /> Para mais detalhes <a href="https://braspag.github.io//manual/risknotification">Risk Notification</a></td>
    </tr>
  </tbody>
</table>

<h1 id="anexos">Anexos</h1>

<h2 id="lista-de-providers">Lista de Providers</h2>

<h3 id="providers-para-crédito">Providers para Crédito</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
      <th>Brand</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Simulado</td>
      <td>—</td>
      <td>Provider de Sandbox</td>
    </tr>
    <tr>
      <td>Cielo</td>
      <td>Visa, Master, Amex, Elo, Aura, Jcb, Diners, Discover</td>
      <td>Provider para transações na plataforma legado Cielo 1.5</td>
    </tr>
    <tr>
      <td>Cielo30</td>
      <td>Visa, Master, Amex, Elo, Aura, Jcb, Diners, Discover, Hipercard, Hiper</td>
      <td>Provider para transações na plataforma de e-commerce Cielo 3.0</td>
    </tr>
    <tr>
      <td>Redecard</td>
      <td>Visa, Master, Hipercard, Hiper, Diners</td>
      <td>Provider para transações na plataforma legado Rede Komerci</td>
    </tr>
    <tr>
      <td>Rede</td>
      <td>Visa, Master, Hipercard, Hiper, Diners, Elo, Amex</td>
      <td>Provider para transações na plataforma de e-commerce Rede e-Rede na versão SOAP</td>
    </tr>
    <tr>
      <td>Rede2</td>
      <td>Visa, Master, Hipercard, Hiper, Diners, Elo, Amex</td>
      <td>Provider para transações na plataforma de e-commerce Rede e-Rede na versão REST</td>
    </tr>
    <tr>
      <td>Getnet</td>
      <td>Visa, Master, Elo, Amex</td>
      <td>Provider para transações na plataforma de e-commerce GetNet</td>
    </tr>
    <tr>
      <td>GlobalPayments</td>
      <td>Visa, Master</td>
      <td>Provider para transações na plataforma de e-commerce Global Payments</td>
    </tr>
    <tr>
      <td>Stone</td>
      <td>Visa, Master, Hipercard, Elo</td>
      <td>Provider para transações na plataforma de e-commerce Stone</td>
    </tr>
    <tr>
      <td>FirstData</td>
      <td>Visa, Master, Cabal</td>
      <td>Provider para transações em guaranis (PYG), pesos argentinos (ARG) e reais (BRL) na plataforma de e-commerce First Data</td>
    </tr>
    <tr>
      <td>Sub1</td>
      <td>Visa, Master, Diners, Amex, Discover, Cabal, Naranja e Nevada</td>
      <td>Provider para transações em pesos argentinos (ARG) na plataforma legado Sub1 First Data</td>
    </tr>
    <tr>
      <td>Banorte</td>
      <td>Visa, Master, Carnet</td>
      <td>Provider para transações em pesos mexicanos (MXN) na plataforma de e-commerce Banorte</td>
    </tr>
    <tr>
      <td>Credibanco</td>
      <td>Visa, Master, Diners, Amex, Credential</td>
      <td>Provider para transações em pesos colombianos (COP) na plataforma de e-commerce Credibanco</td>
    </tr>
    <tr>
      <td>Transbank</td>
      <td>Visa, Master, Diners, Amex</td>
      <td>Provider para transações em pesos chilenos (CLP) na plataforma de e-commerce Transbank</td>
    </tr>
    <tr>
      <td>RedeSitef</td>
      <td>Visa, Master, Hipercard, Diners</td>
      <td>Provider para transações na plataforma Rede com tecnologia TEF</td>
    </tr>
    <tr>
      <td>CieloSitef</td>
      <td>Visa, Master, Amex, Elo, Aura, Jcb, Diners, Discover</td>
      <td>Provider para transações na plataforma Cielo com tecnologia TEF</td>
    </tr>
    <tr>
      <td>SantanderSitef</td>
      <td>Visa, Master</td>
      <td>Provider para transações na plataforma GetNet com tecnologia TEF</td>
    </tr>
    <tr>
      <td>DMCard</td>
      <td>—</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h3 id="providers-pra-débito">Providers pra Débito</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
      <th>Brand</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cielo</td>
      <td>Visa, Master</td>
      <td>Provider para transações de débito na plataforma legado Cielo 1.5</td>
    </tr>
    <tr>
      <td>Cielo30</td>
      <td>Visa, Master</td>
      <td>Provider para transações de débito na plataforma de e-commerce Cielo 3.0</td>
    </tr>
    <tr>
      <td>Getnet</td>
      <td>Visa, Master</td>
      <td>Provider para transações de débito na plataforma de e-commerce GetNet</td>
    </tr>
    <tr>
      <td>FirstData</td>
      <td>Visa, Master</td>
      <td>Provider para transações de débito na plataforma de e-commerce First Data</td>
    </tr>
    <tr>
      <td>GlobalPayments</td>
      <td>Visa, Master</td>
      <td>Provider para transações de débito na plataforma de e-commerce Global Payments</td>
    </tr>
  </tbody>
</table>

<h3 id="providers-pra-voucher">Providers pra Voucher</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
      <th>Brand</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Alelo</td>
      <td>Elo</td>
      <td>Provider para transações de voucher (vale refeição/alimentação) na plataforma Alelo</td>
    </tr>
  </tbody>
</table>

<h3 id="providers-para-zero-auth-via-verifycard">Providers para Zero Auth via VerifyCard</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Simulado</td>
    </tr>
    <tr>
      <td>Cielo30 (Cielo 3.0)</td>
    </tr>
    <tr>
      <td>Rede2 (e-Rede REST)</td>
    </tr>
    <tr>
      <td>Getnet</td>
    </tr>
    <tr>
      <td>FirstData</td>
    </tr>
    <tr>
      <td>GlobalPayments</td>
    </tr>
  </tbody>
</table>

<h3 id="providers-para-consulta-bin-via-verifycard">Providers para Consulta BIN via VerifyCard</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Simulado</td>
    </tr>
    <tr>
      <td>Cielo30 (Cielo 3.0)</td>
    </tr>
  </tbody>
</table>

<h3 id="providers-para-boleto-com-registro">Providers para Boleto com Registro</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bradesco2, BancoDoBrasil2, ItauShopline, Itau2, Santander2, Caixa2, CitiBank2, BankOfAmerica</td>
    </tr>
  </tbody>
</table>

<h3 id="providers-para-transferência-eletronica-débito-online">Providers para Transferência Eletronica (Débito Online)</h3>

<table>
  <thead>
    <tr>
      <th>Provider</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bradesco, BancoDoBrasil, SafetyPay, Itau</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-status-da-transação">Lista de Status da Transação</h2>

<p>Status retornados pela API</p>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Status do Pagamento</th>
      <th>Meio de pagamento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>NotFinished</td>
      <td>Todos</td>
      <td>Falha ao processar o pagamento</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Authorized</td>
      <td>Todos</td>
      <td>Meio de pagamento apto a ser capturado ou pago(Boleto)</td>
    </tr>
    <tr>
      <td>2</td>
      <td>PaymentConfirmed</td>
      <td>Todos</td>
      <td>Pagamento confirmado e finalizado</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Denied</td>
      <td>Cartão de Crédito e Débito (Transferência eletrônica)</td>
      <td> </td>
    </tr>
    <tr>
      <td>10</td>
      <td>Voided</td>
      <td>Todos</td>
      <td>Pagamento cancelado</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Refunded</td>
      <td>Cartão de crédito e Débito</td>
      <td>Pagamento Cancelado/Estornado</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Pending</td>
      <td>Cartão de Crédito e Débito  (Transferência eletrônica)</td>
      <td>Esperando retorno da instituição financeira</td>
    </tr>
    <tr>
      <td>13</td>
      <td>Aborted</td>
      <td>Todos</td>
      <td>Pagamento cancelado por falha no processamento</td>
    </tr>
    <tr>
      <td>20</td>
      <td>Scheduled</td>
      <td>Cartão de crédito</td>
      <td>Recorrência agendada</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-status-do-antifraude">Lista de Status do Antifraude</h2>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Unknown</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Accept</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Reject</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Review</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Aborted</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Unfinished</td>
    </tr>
  </tbody>
</table>

<h2 id="tabela-de-mdds">Tabela de MDDs</h2>

<blockquote>
  <p>Nível de Relevância <br /> 1 - Relevante <br /> 2 - Muito Relevante <br /> 3 - Extremamente Relevante <br /><br />
Conforme nível de relevância dos campos e possibilidade de desenho da estratégia de risco de acordo com a necessidade do seu negócio, na validação das transações de testes os mesmos serão cobrados caso não sejam enviaos. Com isso, solicitamos uma análise prévia da documentação e sinalização dos campos que não serão possíveis de serem enviados.<br /><br />
No caso de não possuir o dado para enviar, pedimos a gentileza de não enviar o campo correspondente como vazio, ou seja, apenas não enviar.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Valor</th>
      <th>Tipo</th>
      <th>Nível de Relevância</th>
      <th>Segmento</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Cliente efetuou Login <br /> Se o cliente final logou no site para comprar, enviar: o login dele <br /> Se fez compra como visitante, enviar: Guest <br /> Se a venda foi feita direto por um terceiro, um agente por exemplo, não enviar o campo</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Quantidade em dias que o cliente é seu cliente <br /> Ex.: 314</td>
      <td>int</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Quantidade de parcelas do pedido</td>
      <td>int</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Canal de Venda <br /> Possíveis valores: <br /> Call Center -&gt; compra pelo telefone <br /> Web -&gt; compra pela web <br /> Portal -&gt; um agente fazendo a compra para o cliente <br /> Quiosque -&gt; compras em quiosques <br /> Movel -&gt; compras feitas em celulares ou tablets</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Enviar o código do cupom/desconto caso o cliente utilize na compra</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Quantidade em dias desde a última compra realizada pelo cliente <br /> Ex.: 55</td>
      <td>int</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Código ou nome do seller (vendedor)</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Tentativas realizadas pelo cliente de efetuar o pagamento do mesmo pedido, podendo ser com diferentes cartões de créditos e/ou através de outros meios de pagamentos</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Identifica se cliente irá retirar o produto na loja <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>3</td>
      <td>Varejo ou Cosméticos</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Identifica se o pagamento será realizado por outra pessoa que não esteja presente na viagem ou pacote <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>3</td>
      <td>Aéreo ou Turismo</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Categoria do hotel (quantas estrelas) <br /> Possíveis valores: <br /> 1 -&gt; Simples <br /> 2 -&gt; Econômico <br /> 3 -&gt; Turismo <br /> 4 -&gt; Superior <br /> 5 -&gt; Luxo</td>
      <td>int</td>
      <td>3</td>
      <td>Turismo</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Quantidade em dias desde a data da compra até a data do checkin no hotel <br /> Ex.: 123</td>
      <td>int</td>
      <td>3</td>
      <td>Turismo</td>
    </tr>
    <tr>
      <td>13</td>
      <td>Quantidade de diárias no hotel <br /> Ex.: 5</td>
      <td>int</td>
      <td>3</td>
      <td>Turismo</td>
    </tr>
    <tr>
      <td>14</td>
      <td>Categoria da viagem ou pacote <br /> Possíveis valores: Nacional ou Internacional ou Nacional/Internacional</td>
      <td>string</td>
      <td>3</td>
      <td>Aéreo ou Turismo</td>
    </tr>
    <tr>
      <td>15</td>
      <td>Nome da companhia áerea / locadora de carro / hotel <br /> Enviar o nome de cada uma das empresas, separado por /</td>
      <td>string</td>
      <td>2</td>
      <td>Aéreo ou Turismo</td>
    </tr>
    <tr>
      <td>16</td>
      <td>Código PNR da reserva <br /> Quando houver uma alteração da reserva para este PNR, com antecipação da data de voo, é importante fazer uma nova análise de fraude enviando este PNR novamente</td>
      <td>string</td>
      <td>3</td>
      <td>Aérea</td>
    </tr>
    <tr>
      <td>17</td>
      <td>Identifica se houve antecipação de reserva <br /> Possíveis valores: SIM ou NAO <br /> Se sim, fundamental o envio também do campo 16 - Código PNR da reserva</td>
      <td>string</td>
      <td>3</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>18</td>
      <td>Categoria do veículo alugado <br /> Possíveis valores: <br /> 1 - Básico <br /> 2 - Esportivo <br /> 3 - Prime <br /> 4 - Utilitário <br /> 5 - Blindado</td>
      <td>string</td>
      <td>3</td>
      <td>Turismo</td>
    </tr>
    <tr>
      <td>19</td>
      <td>Identifica se o pacote refere-se a cruzeiro <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>2</td>
      <td>Turismo</td>
    </tr>
    <tr>
      <td>20</td>
      <td>Decisão da análise de fraude referente a última compra <br /> Possíveis valores: ACEITA ou REJEITADA</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>21</td>
      <td>Valor do frete <br /> Ex.: 10599 = r$ 105,99</td>
      <td>long</td>
      <td>1</td>
      <td>Varejo ou Cosméticos</td>
    </tr>
    <tr>
      <td>22</td>
      <td>Código da loja onde o produto será retirado <br /> Este campo deverá ser enviado quando o campo 9 for enviado igual a SIM</td>
      <td>string</td>
      <td>3</td>
      <td>Varejo ou Cosméticos</td>
    </tr>
    <tr>
      <td>23</td>
      <td>Sufixo (4 últimos dígitos) do cartão de crédito</td>
      <td>int</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>24</td>
      <td>Quantidade de dias desde a primeira compra realizada pelo cliente <br /> Ex.: 150</td>
      <td>int</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>25</td>
      <td>Sexo do cliente <br /> Possíveis valores: <br /> F -&gt; Feminino <br /> M -&gt; Masculino</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Bin (6 primeiros dígitos) do cartão de crédito</td>
      <td>int</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>27</td>
      <td>Tipo do logradouro do endereço de entrega <br /> Possíveis valores: <br /> R -&gt; Residencial <br /> C -&gt; Comercial</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>28</td>
      <td>Tempo médio em minutos que o cliente levou para realizar a compra</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>29</td>
      <td>Quantidade de tentativas que o cliente realizou para efetuar login</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>30</td>
      <td>Quantidade de páginas web que o cliente visitou anteriormente a compra referente a 30 minutos passados</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>31</td>
      <td>Quantidade de trocas de números de cartão de crédito que o cliente efetuou para realizar o pagamento do pedido</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>32</td>
      <td>Identifica se o e-mail foi colado ou digitado <br /> Possíveis valores: Digitado ou Colado</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>33</td>
      <td>Identifica se o número do cartão de crédito foi colado ou digitado <br /> Possíveis valores: Digitado ou Colado</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>34</td>
      <td>Identifica se o e-mail foi confirmado para ativação de conta <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>35</td>
      <td>Identifica o tipo de cliente <br /> Possíveis valores: Local ou Turista</td>
      <td>string</td>
      <td>2</td>
      <td>Turismo</td>
    </tr>
    <tr>
      <td>36</td>
      <td>Identifica se foi utilizado cartão presente (GiftCard) na compra como forma de pagamento <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>37</td>
      <td>Meio de envio do pedido <br /> Possíveis valores: Sedex <br /> Sedex 10 <br /> 1 Dia <br /> 2 Dias <br /> Motoboy <br /> Mesmo Dia <br /></td>
      <td>string</td>
      <td>3</td>
      <td>Varejo ou Cosméticos</td>
    </tr>
    <tr>
      <td>38</td>
      <td>Número do telefone do cliente identificado através da bina quando venda realizada através do canal de venda igual a Call Center <br /> Formato: DDIDDDNúmero - Ex.: 552121114720</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>39</td>
      <td>Nome de usuário do Call Center <br /> Este campo deverá ser enviado quando campo 4 for enviado igual a Call Center</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>40</td>
      <td>Comentários inseridos quando pedido for presente</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>41</td>
      <td>Tipo do documento <br /> Possíveis valores: CPF ou CNPJ ou Passaporte</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>42</td>
      <td>Idade do cliente</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>43</td>
      <td>Faixa de rendimento do cliente <br /> Ex.: 100000 = r$ 1.000,00</td>
      <td>long</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>44</td>
      <td>Quantidade histórica de compras realizadas pelo cliente</td>
      <td>int</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>45</td>
      <td>Identifica se é uma compra realizada por funcionário <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>46</td>
      <td>Nome impresso (portador) no cartão de crédito</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>47</td>
      <td>Identifica se o cartão é private label <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>48</td>
      <td>Quantidade de meios de pagamentos utilizados para efetuar a compra</td>
      <td>int</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>49</td>
      <td>Média das compras realizadas nos últimos 6 meses <br /> Ex.: 159050 = r$ 1.590,99</td>
      <td>long</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>50</td>
      <td>Fator de desvio de valor da compra atual sobre a média dos últimos 6 meses</td>
      <td>3</td>
      <td>Todos</td>
      <td> </td>
    </tr>
    <tr>
      <td>51</td>
      <td>Identifica se é um cliente VIP com tratamento de risco diferenciado ou lista positiva <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>52</td>
      <td>Categoria do produto <br /> Possíveis valores: <br /> Animais e Bichos de Estimação <br /> Roupas e Acessórios <br /> Negócios e Indústria <br /> Câmeras e Óticas <br /> Eletrônicos <br /> Comidas, Bebidas e Cigarro <br /> Móveis <br /> Ferramentas <br /> Saúde e Beleza <br /> Casa e Jardim <br /> Malas e Bagagens <br /> Adulto <br /> Armas e Munição <br /> Materiais de Escritório <br /> Religião e Cerimoniais <br /> Software <br /> Equipamentos de Esporte <br /> Brinquedos e Jogos <br /> Veículos e Peças <br /> Livros <br /> DVDs e Vídeos <br /> Revistas e Jornais <br /> Música <br /> Outras Categorias Não Especificadas</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Identifica se existe rotina de confirmação de celular por SMS <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Qual a 2ª forma de pagamento</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>55</td>
      <td>Qual a 3ª forma de pagamento</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>56</td>
      <td>Se 2ª forma de pagamento for cartão de crédito, enviar a bandeira</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>57</td>
      <td>Se 3ª forma de pagamento for cartão de crédito, enviar a bandeira</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Se 2ª forma de pagamento, informar o valor pago <br /> Ex.: 128599 = r$ 1.285,99</td>
      <td>long</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Se 3ª forma de pagamento, informar o valor pago <br /> Ex.: 59089 = r$ 590,89</td>
      <td>long</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Quantidade em dias desde a data da última alteração <br /> Ex.: 57</td>
      <td>int</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>61</td>
      <td>Identifica se houve alteração cadastral</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>62</td>
      <td>Quantidade de pontos trocados na última compra</td>
      <td>long</td>
      <td>3</td>
      <td>Fidelidade</td>
    </tr>
    <tr>
      <td>63</td>
      <td>Quantidade de pontos restantes no saldo</td>
      <td>long</td>
      <td>2</td>
      <td>Fidelidade</td>
    </tr>
    <tr>
      <td>64</td>
      <td>Quantidade de dias desde a última troca de pontos</td>
      <td>long</td>
      <td>2</td>
      <td>Fidelidade</td>
    </tr>
    <tr>
      <td>65</td>
      <td>Identificador do cliente no programa de fidelidade</td>
      <td>string</td>
      <td>2</td>
      <td>Fidelidade</td>
    </tr>
    <tr>
      <td>66</td>
      <td>Quantidade de minutos recarregados nos últimos 30 dias</td>
      <td>long</td>
      <td>2</td>
      <td>Digital Goods</td>
    </tr>
    <tr>
      <td>67</td>
      <td>Quantidade de recargas realizadas nos últimos 30 dias</td>
      <td>long</td>
      <td>2</td>
      <td>Digital Goods</td>
    </tr>
    <tr>
      <td>68</td>
      <td>Quantidade em dias entre a data de partida e a data de retorno</td>
      <td>int</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>69</td>
      <td>Quantidade de passageiros viajando independente da faixa etária</td>
      <td>int</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>70</td>
      <td>Identificador do voô</td>
      <td>string</td>
      <td>1</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>71</td>
      <td>Número de infants viajando</td>
      <td>int</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>72</td>
      <td>Número de crianças viajando</td>
      <td>int</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>73</td>
      <td>Número de adultos viajando</td>
      <td>int</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>74</td>
      <td>Identifica se é um passageiro frequente (Frequently Flyer) <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>75</td>
      <td>Identificar do passageiro frequente (Frequently Flyer Number)</td>
      <td>string</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>76</td>
      <td>Categoria do passageiro frequente (Frequently Flyer) <br /> Esta categoria pode variar de acordo com a companhia aérea</td>
      <td>int</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>77</td>
      <td>Dia da semana do embarque <br /> Possíveis valores: Sunday (Domingo) <br /> Monday (Segunda-feira) <br /> Tuesday (Terça-feira) <br /> Wednesday (Quarta-feira) <br /> Thursday (Quinta-feira) <br /> Friday (Sexta-feira) <br /> Saturday (Sábado)</td>
      <td>string</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>78</td>
      <td>Código da companhia aérea <br /> Ex.: JJ ou LA ou AA ou UA ou G3 e etc</td>
      <td>string</td>
      <td>1</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>79</td>
      <td>Classe tarifária da passagem <br /> Ex.: W ou Y ou N e etc</td>
      <td>string</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>80</td>
      <td>Número do celular do passageiro <br /> Ex.: Formato: DDIDDDNúmero - Ex.: 5521976781114</td>
      <td>string</td>
      <td>2</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>81</td>
      <td>Identifica se o dono do cartão de crédito irá viajar <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>3</td>
      <td>Aéreo</td>
    </tr>
    <tr>
      <td>82</td>
      <td>Identifica se o seller (vendedor) irá trabalhar com revisão manual ou não <br /> Possíveis valores: SIM ou NAO</td>
      <td>string</td>
      <td>1</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>83</td>
      <td>Segmento de negócio <br /> Ex.: Varejo</td>
      <td>string</td>
      <td>2</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>84</td>
      <td>Nome da plataforma integrada a API Antifraude Gateway Braspag <br /> Caso seja uma integração direta entre a loja e Braspag, enviar valor igual a PROPRIA</td>
      <td>string</td>
      <td>3</td>
      <td>Todos</td>
    </tr>
    <tr>
      <td>85 a 89</td>
      <td>Campos livres e definidos junto ao provedor de antifraude, conforme as regras de negócio</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <td>90 a 100</td>
      <td>Reservados</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-http-status-code">Lista de HTTP Status Code</h2>

<table>
  <thead>
    <tr>
      <th>HTTP Status Code</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Resource Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-status-da-recorrência">Lista de Status da Recorrência</h2>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Active</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Finished</td>
    </tr>
    <tr>
      <td>3</td>
      <td>DisabledByMerchant</td>
    </tr>
    <tr>
      <td>4</td>
      <td>DisabledMaxAttempts</td>
    </tr>
    <tr>
      <td>5</td>
      <td>DisabledExpiredCreditCard</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-reasoncodereasonmessage">Lista de ReasonCode/ReasonMessage</h2>

<table>
  <thead>
    <tr>
      <th>Reason Code</th>
      <th>Reason Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Successful</td>
    </tr>
    <tr>
      <td>1</td>
      <td>AffiliationNotFound</td>
    </tr>
    <tr>
      <td>2</td>
      <td>IssuficientFunds</td>
    </tr>
    <tr>
      <td>3</td>
      <td>CouldNotGetCreditCard</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ConnectionWithAcquirerFailed</td>
    </tr>
    <tr>
      <td>5</td>
      <td>InvalidTransactionType</td>
    </tr>
    <tr>
      <td>6</td>
      <td>InvalidPaymentPlan</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Denied</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Scheduled</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Waiting</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Authenticated</td>
    </tr>
    <tr>
      <td>11</td>
      <td>NotAuthenticated</td>
    </tr>
    <tr>
      <td>12</td>
      <td>ProblemsWithCreditCard</td>
    </tr>
    <tr>
      <td>13</td>
      <td>CardCanceled</td>
    </tr>
    <tr>
      <td>14</td>
      <td>BlockedCreditCard</td>
    </tr>
    <tr>
      <td>15</td>
      <td>CardExpired</td>
    </tr>
    <tr>
      <td>16</td>
      <td>AbortedByFraud</td>
    </tr>
    <tr>
      <td>17</td>
      <td>CouldNotAntifraud</td>
    </tr>
    <tr>
      <td>18</td>
      <td>TryAgain</td>
    </tr>
    <tr>
      <td>19</td>
      <td>InvalidAmount</td>
    </tr>
    <tr>
      <td>20</td>
      <td>ProblemsWithIssuer</td>
    </tr>
    <tr>
      <td>21</td>
      <td>InvalidCardNumber</td>
    </tr>
    <tr>
      <td>22</td>
      <td>TimeOut</td>
    </tr>
    <tr>
      <td>23</td>
      <td>CartaoProtegidoIsNotEnabled</td>
    </tr>
    <tr>
      <td>24</td>
      <td>PaymentMethodIsNotEnabled</td>
    </tr>
    <tr>
      <td>98</td>
      <td>InvalidRequest</td>
    </tr>
    <tr>
      <td>99</td>
      <td>InternalError</td>
    </tr>
  </tbody>
</table>

<h2 id="códigos-de-erros-da-api">Códigos de Erros da API</h2>

<p>Códigos retornados em caso de erro, identificando o motivo do erro e suas respectivas mensagens.</p>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Mensagem</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Internal error</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>100</td>
      <td>RequestId is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>101</td>
      <td>MerchantId is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>102</td>
      <td>Payment Type is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>103</td>
      <td>Payment Type can only contain letters</td>
      <td>Caracteres especiais não permitidos</td>
    </tr>
    <tr>
      <td>104</td>
      <td>Customer Identity is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>105</td>
      <td>Customer Name is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>106</td>
      <td>Transaction ID is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>107</td>
      <td>OrderId is invalid or does not exists</td>
      <td>Campo enviado excede o tamanho ou contem caracteres especiais</td>
    </tr>
    <tr>
      <td>108</td>
      <td>Amount must be greater or equal to zero</td>
      <td>Valor da transação deve ser maior que “0”</td>
    </tr>
    <tr>
      <td>109</td>
      <td>Payment Currency is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>110</td>
      <td>Invalid Payment Currency</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>111</td>
      <td>Payment Country is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>112</td>
      <td>Invalid Payment Country</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>113</td>
      <td>Invalid Payment Code</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>114</td>
      <td>The provided MerchantId is not in correct format</td>
      <td>O MerchantId enviado não é um GUID</td>
    </tr>
    <tr>
      <td>115</td>
      <td>The provided MerchantId was not found</td>
      <td>O MerchantID não existe ou pertence a outro ambiente (EX: Sandbox)</td>
    </tr>
    <tr>
      <td>116</td>
      <td>The provided MerchantId is blocked</td>
      <td>Loja bloqueada, entre em contato com o suporte Braspag</td>
    </tr>
    <tr>
      <td>117</td>
      <td>Credit Card Holder is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>118</td>
      <td>Credit Card Number is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>119</td>
      <td>At least one Payment is required</td>
      <td>Nó “Payment” não enviado</td>
    </tr>
    <tr>
      <td>120</td>
      <td>Request IP not allowed. Check your IP White List</td>
      <td>IP bloqueado por questões de segurança</td>
    </tr>
    <tr>
      <td>121</td>
      <td>Customer is required</td>
      <td>Nó “Customer” não enviado</td>
    </tr>
    <tr>
      <td>122</td>
      <td>MerchantOrderId is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>123</td>
      <td>Installments must be greater or equal to one</td>
      <td>Numero de parcelas deve ser superior a 1</td>
    </tr>
    <tr>
      <td>124</td>
      <td>Credit Card is Required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>125</td>
      <td>Credit Card Expiration Date is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>126</td>
      <td>Credit Card Expiration Date is invalid</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>127</td>
      <td>You must provide CreditCard Number</td>
      <td>Numero do cartão de crédito é obrigatório</td>
    </tr>
    <tr>
      <td>128</td>
      <td>Card Number length exceeded</td>
      <td>Numero do cartão superiro a 16 digitos</td>
    </tr>
    <tr>
      <td>129</td>
      <td>Affiliation not found</td>
      <td>Meio de pagamento não vinculado a loja ou Provider invalido</td>
    </tr>
    <tr>
      <td>130</td>
      <td>Could not get Credit Card</td>
      <td>—</td>
    </tr>
    <tr>
      <td>131</td>
      <td>MerchantKey is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>132</td>
      <td>MerchantKey is invalid</td>
      <td>O Merchantkey enviado não é um válido</td>
    </tr>
    <tr>
      <td>133</td>
      <td>Provider is not supported for this Payment Type</td>
      <td>Provider enviado não existe</td>
    </tr>
    <tr>
      <td>134</td>
      <td>FingerPrint length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>135</td>
      <td>MerchantDefinedFieldValue length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>136</td>
      <td>ItemDataName length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>137</td>
      <td>ItemDataSKU length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>138</td>
      <td>PassengerDataName length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>139</td>
      <td>PassengerDataStatus length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>140</td>
      <td>PassengerDataEmail length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>141</td>
      <td>PassengerDataPhone length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>142</td>
      <td>TravelDataRoute length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>143</td>
      <td>TravelDataJourneyType length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>144</td>
      <td>TravelLegDataDestination length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>145</td>
      <td>TravelLegDataOrigin length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>146</td>
      <td>SecurityCode length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>147</td>
      <td>Address Street length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>148</td>
      <td>Address Number length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>149</td>
      <td>Address Complement length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>150</td>
      <td>Address ZipCode length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>151</td>
      <td>Address City length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>152</td>
      <td>Address State length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>153</td>
      <td>Address Country length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>154</td>
      <td>Address District length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>155</td>
      <td>Customer Name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>156</td>
      <td>Customer Identity length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>157</td>
      <td>Customer IdentityType length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>158</td>
      <td>Customer Email length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>159</td>
      <td>ExtraData Name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>160</td>
      <td>ExtraData Value length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>161</td>
      <td>Boleto Instructions length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>162</td>
      <td>Boleto Demostrative length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>163</td>
      <td>Return Url is required</td>
      <td>URL de retorno não é valida - Não é aceito paginação ou extenções (EX .PHP) na URL de retorno</td>
    </tr>
    <tr>
      <td>166</td>
      <td>AuthorizeNow is required</td>
      <td>—</td>
    </tr>
    <tr>
      <td>167</td>
      <td>Antifraud not configured</td>
      <td>Antifraude não vinculado ao cadastro do lojista</td>
    </tr>
    <tr>
      <td>168</td>
      <td>Recurrent Payment not found</td>
      <td>Recorrencia não encontrada</td>
    </tr>
    <tr>
      <td>169</td>
      <td>Recurrent Payment is not active</td>
      <td>Recorrencia não está ativa. Execução paralizada</td>
    </tr>
    <tr>
      <td>170</td>
      <td>Cartão Protegido not configured</td>
      <td>Cartão protegido não vinculado ao cadastro do lojista</td>
    </tr>
    <tr>
      <td>171</td>
      <td>Affiliation data not sent</td>
      <td>Falha no processamento do pedido - Entre em contato com o suporte Braspag</td>
    </tr>
    <tr>
      <td>172</td>
      <td>Credential Code is required</td>
      <td>Falha na validação das credenciadas enviadas</td>
    </tr>
    <tr>
      <td>173</td>
      <td>Payment method is not enabled</td>
      <td>Meio de pagamento não vinculado ao cadastro do lojista</td>
    </tr>
    <tr>
      <td>174</td>
      <td>Card Number is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>175</td>
      <td>EAN is required</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>176</td>
      <td>Payment Currency is not supported</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>177</td>
      <td>Card Number is invalid</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>178</td>
      <td>EAN is invalid</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>179</td>
      <td>The max number of installments allowed for recurring payment is 1</td>
      <td>Campo enviado está vazio ou invalido</td>
    </tr>
    <tr>
      <td>180</td>
      <td>The provided Card PaymentToken was not found</td>
      <td>Token do Cartão protegido não encontrado</td>
    </tr>
    <tr>
      <td>181</td>
      <td>The MerchantIdJustClick is not configured</td>
      <td>Token do Cartão protegido bloqueado</td>
    </tr>
    <tr>
      <td>182</td>
      <td>Brand is required</td>
      <td>Bandeira do cartão não enviado</td>
    </tr>
    <tr>
      <td>183</td>
      <td>Invalid customer bithdate</td>
      <td>Data de nascimento invalida ou futura</td>
    </tr>
    <tr>
      <td>184</td>
      <td>Request could not be empty</td>
      <td>Falha no formado ta requisição. Verifique o código enviado</td>
    </tr>
    <tr>
      <td>185</td>
      <td>Brand is not supported by selected provider</td>
      <td>Bandeira não suportada pela API Braspag</td>
    </tr>
    <tr>
      <td>186</td>
      <td>The selected provider does not support the options provided (Capture, Authenticate, Recurrent or Installments)</td>
      <td>Meio de pagamento não suporta o comando enviado</td>
    </tr>
    <tr>
      <td>187</td>
      <td>ExtraData Collection contains one or more duplicated names</td>
      <td>—</td>
    </tr>
    <tr>
      <td>188</td>
      <td>Avs with CPF invalid</td>
      <td>—</td>
    </tr>
    <tr>
      <td>189</td>
      <td>Avs with length of street exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>190</td>
      <td>Avs with length of number exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>190</td>
      <td>Avs with length of complement exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>191</td>
      <td>Avs with length of district exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>192</td>
      <td>Avs with zip code invalid</td>
      <td>CEP enviado é invalido</td>
    </tr>
    <tr>
      <td>193</td>
      <td>Split Amount must be greater than zero</td>
      <td>Valor para realização do SPLIT deve ser superior a 0</td>
    </tr>
    <tr>
      <td>194</td>
      <td>Split Establishment is Required</td>
      <td>SPLIT não habilitado para o cadastro da loja</td>
    </tr>
    <tr>
      <td>195</td>
      <td>The PlataformId is required</td>
      <td>Validados de plataformas não enviado</td>
    </tr>
    <tr>
      <td>196</td>
      <td>DeliveryAddress is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>197</td>
      <td>Street is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>198</td>
      <td>Number is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>199</td>
      <td>ZipCode is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>200</td>
      <td>City is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>201</td>
      <td>State is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>202</td>
      <td>District is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>203</td>
      <td>Cart item Name is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>204</td>
      <td>Cart item Quantity is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>205</td>
      <td>Cart item type is required</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>206</td>
      <td>Cart item name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>207</td>
      <td>Cart item description length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>208</td>
      <td>Cart item sku length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>209</td>
      <td>Shipping addressee sku length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
    </tr>
    <tr>
      <td>210</td>
      <td>Shipping data cannot be null</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>211</td>
      <td>WalletKey is invalid</td>
      <td>Dados da Visa Checkout invalidos</td>
    </tr>
    <tr>
      <td>212</td>
      <td>Merchant Wallet Configuration not found</td>
      <td>Visa Checkout não vinculado a conta do lojista</td>
    </tr>
    <tr>
      <td>213</td>
      <td>Credit Card Number is invalid</td>
      <td>Cartão de crédito enviado é invalido</td>
    </tr>
    <tr>
      <td>214</td>
      <td>Credit Card Holder Must Have Only Letters</td>
      <td>Portador do cartão não deve conter caracteres especiais</td>
    </tr>
    <tr>
      <td>215</td>
      <td>Agency is required in Boleto Credential</td>
      <td>Campo obrigatório não enviado</td>
    </tr>
    <tr>
      <td>216</td>
      <td>Customer IP address is invalid</td>
      <td>IP bloqueado por questões de segurança</td>
    </tr>
    <tr>
      <td>300</td>
      <td>MerchantId was not found</td>
      <td>—</td>
    </tr>
    <tr>
      <td>301</td>
      <td>Request IP is not allowed</td>
      <td>—</td>
    </tr>
    <tr>
      <td>302</td>
      <td>Sent MerchantOrderId is duplicated</td>
      <td>—</td>
    </tr>
    <tr>
      <td>303</td>
      <td>Sent OrderId does not exist</td>
      <td>—</td>
    </tr>
    <tr>
      <td>304</td>
      <td>Customer Identity is required</td>
      <td>—</td>
    </tr>
    <tr>
      <td>306</td>
      <td>Merchant is blocked</td>
      <td>—</td>
    </tr>
    <tr>
      <td>307</td>
      <td>Transaction not found</td>
      <td>Transação não encontrada ou não existente no ambiente</td>
    </tr>
    <tr>
      <td>308</td>
      <td>Transaction not available to capture</td>
      <td>Transação não pode ser capturada - Entre em contato com o suporte Braspag</td>
    </tr>
    <tr>
      <td>309</td>
      <td>Transaction not available to void</td>
      <td>Transação não pode ser Cancelada - Entre em contato com o suporte Braspag</td>
    </tr>
    <tr>
      <td>310</td>
      <td>Payment method doest not support this operation</td>
      <td>Comando enviado não suportado pelo meio de pagamento</td>
    </tr>
    <tr>
      <td>311</td>
      <td>Refund is not enabled for this merchant</td>
      <td>Cancelamento após 24 horas não liberado para o lojista</td>
    </tr>
    <tr>
      <td>312</td>
      <td>Transaction not available to refund</td>
      <td>Transação não permite cancelamento após 24 horas</td>
    </tr>
    <tr>
      <td>313</td>
      <td>Recurrent Payment not found</td>
      <td>Transação recorrente não encontrada ou não disponivel no ambiente</td>
    </tr>
    <tr>
      <td>314</td>
      <td>Invalid Integration</td>
      <td>—</td>
    </tr>
    <tr>
      <td>315</td>
      <td>Cannot change NextRecurrency with pending payment</td>
      <td>—</td>
    </tr>
    <tr>
      <td>316</td>
      <td>Cannot set NextRecurrency to past date</td>
      <td>Não é permitido alterada dada da recorrencia para uma data passada</td>
    </tr>
    <tr>
      <td>317</td>
      <td>Invalid Recurrency Day</td>
      <td>—</td>
    </tr>
    <tr>
      <td>318</td>
      <td>No transaction found</td>
      <td>—</td>
    </tr>
    <tr>
      <td>319</td>
      <td>Smart recurrency is not enabled</td>
      <td>Recorrencia não vinculada ao cadastro do lojista</td>
    </tr>
    <tr>
      <td>320</td>
      <td>Can not Update Affiliation Because this Recurrency not Affiliation saved</td>
      <td>—</td>
    </tr>
    <tr>
      <td>321</td>
      <td>Can not set EndDate to before next recurrency</td>
      <td>—</td>
    </tr>
    <tr>
      <td>322</td>
      <td>Zero Dollar Auth is not enabled</td>
      <td>Zero Dollar não vinculado ao cadastro do lojista</td>
    </tr>
    <tr>
      <td>323</td>
      <td>Bin Query is not enabled</td>
      <td>Consulta de Bins não vinculada ao cadastro do lojista</td>
    </tr>
  </tbody>
</table>

<h2 id="cartões-para-teste-simulado">Cartões para Teste (Simulado)</h2>

<p>O Simulado é um meio de pagamento que emula a utilizaçao de pagamentos com Cartão de Crétido. Com esse meio de pagamento é possivel simular todos os fluxos de Autorização, Captura e Cancelamento.</p>

<p>Para melhor utilização do Meio de Pagamento Simulado, estamos disponibilizando cartões de testes na tabela abaixo.</p>

<p>Os status das transações serão conforme a utilização de cada cartão.</p>

<table>
  <thead>
    <tr>
      <th>Status da Transação</th>
      <th>Cartões para realização dos testes</th>
      <th>Código de Retorno</th>
      <th>Mensagem de Retorno</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autorizado</td>
      <td>0000.0000.0000.0001 / 0000.0000.0000.0004</td>
      <td>4</td>
      <td>Operação realizada com sucesso</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0002</td>
      <td>05</td>
      <td>Não Autorizada</td>
    </tr>
    <tr>
      <td>Autorização Aleatória</td>
      <td>0000.0000.0000.0009</td>
      <td>4 / 99</td>
      <td>Operation Successful / Time Out</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0007</td>
      <td>77</td>
      <td>Cartão Cancelado</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0008</td>
      <td>70</td>
      <td>Problemas com o Cartão de Crédito</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0005</td>
      <td>78</td>
      <td>Cartão Bloqueado</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0003</td>
      <td>57</td>
      <td>Cartão Expirado</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0006</td>
      <td>99</td>
      <td>Time Out</td>
    </tr>
  </tbody>
</table>

<p>As informações de Cód.Segurança (CVV) e validade podem ser aleatórias, mantendo o formato - CVV (3 dígitos) Validade (MM/YYYY).</p>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsngiftcategory">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].GiftCategory</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">Em caso de divergência entre endereços de cobrança e entrega, atribui risco baixo ao pedido</td>
    </tr>
    <tr>
      <td style="text-align: left">No</td>
      <td style="text-align: left">Em caso de divergência entre endereços de cobrança e entrega, atribui risco alto ao pedido (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Diferenças entre os endereços de cobrança e entrega não afetam a pontuação</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsnhosthedge">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].HostHedge</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Low</td>
      <td style="text-align: left">Baixa</td>
    </tr>
    <tr>
      <td style="text-align: left">Normal</td>
      <td style="text-align: left">Normal (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">High</td>
      <td style="text-align: left">Alta</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Não irá afetar o score da análise de fraude</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsnnonsensicalhedge">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].NonSensicalHedge</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Low</td>
      <td style="text-align: left">Baixa</td>
    </tr>
    <tr>
      <td style="text-align: left">Normal</td>
      <td style="text-align: left">Normal (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">High</td>
      <td style="text-align: left">Alta</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Não irá afetar o score da análise de fraude</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsnobscenitieshedge">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].ObscenitiesHedge</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Low</td>
      <td style="text-align: left">Baixa</td>
    </tr>
    <tr>
      <td style="text-align: left">Normal</td>
      <td style="text-align: left">Normal (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">High</td>
      <td style="text-align: left">Alta</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Não irá afetar o score da análise de fraude</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsntimehedge">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].TimeHedge</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Low</td>
      <td style="text-align: left">Baixa</td>
    </tr>
    <tr>
      <td style="text-align: left">Normal</td>
      <td style="text-align: left">Normal (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">High</td>
      <td style="text-align: left">Alta</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Não irá afetar o score da análise de fraude</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsnphonehedge">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].PhoneHedge</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Low</td>
      <td style="text-align: left">Baixa</td>
    </tr>
    <tr>
      <td style="text-align: left">Normal</td>
      <td style="text-align: left">Normal (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">High</td>
      <td style="text-align: left">Alta</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Não irá afetar o score da análise de fraude</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsnvelocityhedge">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].VelocityHedge</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Low</td>
      <td style="text-align: left">Baixa</td>
    </tr>
    <tr>
      <td style="text-align: left">Normal</td>
      <td style="text-align: left">Normal (default)</td>
    </tr>
    <tr>
      <td style="text-align: left">High</td>
      <td style="text-align: left">Alta</td>
    </tr>
    <tr>
      <td style="text-align: left">Off</td>
      <td style="text-align: left">Não irá afetar o score da análise de fraude</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysiscartitemsntype">Lista de Valores - Payment.FraudAnalysis.Cart.Items[n].Type</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">AdultContent</td>
      <td style="text-align: left">Conteúdo adulto</td>
    </tr>
    <tr>
      <td style="text-align: left">Coupon</td>
      <td style="text-align: left">Cupom aplicado para todo o pedido</td>
    </tr>
    <tr>
      <td style="text-align: left">Default</td>
      <td style="text-align: left">Valor default para o tipo do produto. Quando não enviado nenhum outro valor, assume-se o tipo sendo este</td>
    </tr>
    <tr>
      <td style="text-align: left">EletronicGood</td>
      <td style="text-align: left">Produto eletônico diferente de software</td>
    </tr>
    <tr>
      <td style="text-align: left">EletronicSoftware</td>
      <td style="text-align: left">Softwares distribuídos eletronicamente via download</td>
    </tr>
    <tr>
      <td style="text-align: left">GiftCertificate</td>
      <td style="text-align: left">Vale presente</td>
    </tr>
    <tr>
      <td style="text-align: left">HandlingOnly</td>
      <td style="text-align: left">Taxa que você cobra do seu cliente para cobrir os seus custos administrativos de venda. Ex.: Taxa de conveniência / Taxa de instalação</td>
    </tr>
    <tr>
      <td style="text-align: left">Service</td>
      <td style="text-align: left">Serviço que será realizado para o cliente</td>
    </tr>
    <tr>
      <td style="text-align: left">ShippingAndHandling</td>
      <td style="text-align: left">Valor do frete e e taxa que você cobra do seu cliente para cobrir os seus custos administrativos de venda</td>
    </tr>
    <tr>
      <td style="text-align: left">ShippingOnly</td>
      <td style="text-align: left">Valor do frete</td>
    </tr>
    <tr>
      <td style="text-align: left">Subscription</td>
      <td style="text-align: left">Assinatura. Ex.: Streaming de vídeos / Assinatura de notícias</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisshippingmethod">Lista de Valores - Payment.FraudAnalysis.Shipping.Method</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">SameDay</td>
      <td style="text-align: left">Meio de entrega no mesmo dia</td>
    </tr>
    <tr>
      <td style="text-align: left">OneDay</td>
      <td style="text-align: left">Meio de entrega no próximo dia</td>
    </tr>
    <tr>
      <td style="text-align: left">TwoDay</td>
      <td style="text-align: left">Meio de entrega em dois dias</td>
    </tr>
    <tr>
      <td style="text-align: left">ThreeDay</td>
      <td style="text-align: left">Meio de entrega em três dias</td>
    </tr>
    <tr>
      <td style="text-align: left">LowCost</td>
      <td style="text-align: left">Meio de entrega de baixo custo</td>
    </tr>
    <tr>
      <td style="text-align: left">Pickup</td>
      <td style="text-align: left">Retirada na loja</td>
    </tr>
    <tr>
      <td style="text-align: left">Other</td>
      <td style="text-align: left">Outro meio de entrega</td>
    </tr>
    <tr>
      <td style="text-align: left">None</td>
      <td style="text-align: left">Sem meio de entrega, pois é um serviço ou assinatura</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysistraveljourneytype">Lista de Valores - Payment.FraudAnalysis.Travel.JourneyType</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">OneWayTrip</td>
      <td style="text-align: left">Viagem somente de ida</td>
    </tr>
    <tr>
      <td style="text-align: left">RoundTrip</td>
      <td style="text-align: left">Viagem de ida e volta</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysistravelpassengersnrating">Lista de Valores - Payment.FraudAnalysis.Travel.Passengers[n].Rating</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Adult</td>
      <td style="text-align: left">Adulto</td>
    </tr>
    <tr>
      <td style="text-align: left">Child</td>
      <td style="text-align: left">Criança</td>
    </tr>
    <tr>
      <td style="text-align: left">Infant</td>
      <td style="text-align: left">Infantil</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysistravelpassengersnstatus">Lista de Valores - Payment.FraudAnalysis.Travel.Passengers[n].Status</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Standard</td>
    </tr>
    <tr>
      <td style="text-align: left">Gold</td>
    </tr>
    <tr>
      <td style="text-align: left">Platinum</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisstatus">Lista de Valores - Payment.FraudAnalysis.Status</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Accept</td>
      <td style="text-align: left">Transação aceita após análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left">Review</td>
      <td style="text-align: left">Transação em revisão após análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left">Reject</td>
      <td style="text-align: left">Transação rejeitada após análise de fraude</td>
    </tr>
    <tr>
      <td style="text-align: left">Pendent</td>
      <td style="text-align: left">Transação pendente, pois ao enviar a mesma para análise de fraude ocorreu um timeout na resposta entre Braspag e Cybersource</td>
    </tr>
    <tr>
      <td style="text-align: left">Unfinished</td>
      <td style="text-align: left">Transação não finalizada por algum motivo de validação de contrato ou erro interno</td>
    </tr>
    <tr>
      <td style="text-align: left">ProviderError</td>
      <td style="text-align: left">Transação com erro no provedor ao ser enviada para análise</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisfraudanalysisreasoncode">Lista de Valores - Payment.FraudAnalysis.FraudAnalysisReasonCode</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">100</td>
      <td style="text-align: left">Operação realizada com sucesso</td>
    </tr>
    <tr>
      <td style="text-align: left">101</td>
      <td style="text-align: left">A transação enviada para análise de fraude está faltando um ou mais campos necessários <br /> Verificar no response o campo <code class="highlighter-rouge">ProviderAnalysisResult.Missing</code> <br /> Possível ação: Reenviar a transação com a informação completa</td>
    </tr>
    <tr>
      <td style="text-align: left">102</td>
      <td style="text-align: left">A transação enviada para análise de fraude possui um ou mais campos com valores inválidos <br /> Verificar no response o campo <code class="highlighter-rouge">ProviderAnalysisResult.Invalid</code> <br /> Possível ação: Reenviar a transação com as informações corretas</td>
    </tr>
    <tr>
      <td style="text-align: left">150</td>
      <td style="text-align: left">Erro interno <br /> Possível ação: Aguarde alguns minutos e tente reenviar a transação</td>
    </tr>
    <tr>
      <td style="text-align: left">151</td>
      <td style="text-align: left">A transação foi recebida, mas ocorreu time-out no servidor. Este erro não inclui time-out entre o cliente e o servidor <br /> Possível ação: Aguarde alguns minutos e tente reenviar a transação</td>
    </tr>
    <tr>
      <td style="text-align: left">152</td>
      <td style="text-align: left">O pedido foi recebido, mas ocorreu time-out <br /> Possível ação: Aguarde alguns minutos e tente reenviar a transação</td>
    </tr>
    <tr>
      <td style="text-align: left">202</td>
      <td style="text-align: left">Transação recusada pois o cartão expirou ou a data de validade não coincide com a correta <br /> Possível ação: Solicite outro cartão ou outra forma de pagamento</td>
    </tr>
    <tr>
      <td style="text-align: left">231</td>
      <td style="text-align: left">Transação recusada pois o cartão é inválido <br /> Possível ação: Solicite outro cartão ou outra forma de pagamento</td>
    </tr>
    <tr>
      <td style="text-align: left">234</td>
      <td style="text-align: left">Problema com a configuração da loja na Cybersource <br /> Possível ação: Entre em contato com o suporte para corrigir o problema de configuração</td>
    </tr>
    <tr>
      <td style="text-align: left">400</td>
      <td style="text-align: left">A pontuação de fraude ultrapassa o seu limite <br /> Possível ação: Reveja a transação do comprador</td>
    </tr>
    <tr>
      <td style="text-align: left">480</td>
      <td style="text-align: left">A transação foi marcada como revisão pelo DM (Decision Manager)</td>
    </tr>
    <tr>
      <td style="text-align: left">481</td>
      <td style="text-align: left">A transação foi rejeitada pelo DM (Decision Manager)</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisreplydataaddressinfocode">Lista de Valores - Payment.FraudAnalysis.ReplyData.AddressInfoCode</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">COR-BA</td>
      <td style="text-align: left">O endereço de cobrança pode ser normalizado</td>
    </tr>
    <tr>
      <td style="text-align: left">COR-SA</td>
      <td style="text-align: left">O endereço de entrega pode ser normalizado</td>
    </tr>
    <tr>
      <td style="text-align: left">INTL-BA</td>
      <td style="text-align: left">O país do endereço de cobrança está fora dos EUA</td>
    </tr>
    <tr>
      <td style="text-align: left">INTL-SA</td>
      <td style="text-align: left">O país do endereço de entrega está fora dos EUA</td>
    </tr>
    <tr>
      <td style="text-align: left">MIL-USA</td>
      <td style="text-align: left">Endereço militar nos EUA</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-A</td>
      <td style="text-align: left">Os endereços de cobrança e entrega usam nomes de ruas diferentes</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-BIN</td>
      <td style="text-align: left">O BIN do cartão (os seis primeiros dígitos do número do cartão) não corresponde ao país</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-C</td>
      <td style="text-align: left">Os endereços de cobrança e entrega usam cidades diferentes</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-CO</td>
      <td style="text-align: left">Os endereços de cobrança e entrega usam países diferentes</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-ST</td>
      <td style="text-align: left">Os endereços de cobrança e entrega usam estados diferentes</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-Z</td>
      <td style="text-align: left">Os endereços de cobrança e entrega usam códidos postais diferentes</td>
    </tr>
    <tr>
      <td style="text-align: left">UNV-ADDR</td>
      <td style="text-align: left">O endereço é inverificável</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisreplydatafactorcode">Lista de Valores - Payment.FraudAnalysis.ReplyData.FactorCode</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">A</td>
      <td style="text-align: left">Mudança de endereço excessiva. O comprador mudou o endereço de cobrança duas ou mais vezes nos últimos seis meses</td>
    </tr>
    <tr>
      <td style="text-align: left">B</td>
      <td style="text-align: left">BIN do cartão ou autorização de risco. Os fatores de risco estão relacionados com BIN de cartão de crédito e/ou verificações de autorização do cartão</td>
    </tr>
    <tr>
      <td style="text-align: left">C</td>
      <td style="text-align: left">Elevado números de cartões de créditos. O comprador tem usado mais de seis números de cartões de créditos nos últimos seis meses</td>
    </tr>
    <tr>
      <td style="text-align: left">D</td>
      <td style="text-align: left">Impacto do endereço de e-mail. O comprador usa um provedor de e-mail gratuito ou o endereço de email é arriscado</td>
    </tr>
    <tr>
      <td style="text-align: left">E</td>
      <td style="text-align: left">Lista positiva. O comprador está na sua lista positiva</td>
    </tr>
    <tr>
      <td style="text-align: left">F</td>
      <td style="text-align: left">Lista negativa. O número da conta, endereço, endereço de e-mail ou endereço IP para este fim aparece sua lista negativa</td>
    </tr>
    <tr>
      <td style="text-align: left">G</td>
      <td style="text-align: left">Inconsistências de geolocalização. O domínio do comprador de e-mail, número de telefone, endereço de cobrança, endereço de envio ou endereço IP é suspeito</td>
    </tr>
    <tr>
      <td style="text-align: left">H</td>
      <td style="text-align: left">Excessivas mudanças de nome. O comprador mudou o nome duas ou mais vezes nos últimos seis meses</td>
    </tr>
    <tr>
      <td style="text-align: left">I</td>
      <td style="text-align: left">Inconsistências de internet. O endereço IP e de domínio de e-mail não são consistentes com o endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left">N</td>
      <td style="text-align: left">Entrada sem sentido. O nome do comprador e os campos de endereço contém palavras sem sentido ou idioma</td>
    </tr>
    <tr>
      <td style="text-align: left">O</td>
      <td style="text-align: left">Obscenidades. Dados do comprador contém palavras obscenas</td>
    </tr>
    <tr>
      <td style="text-align: left">P</td>
      <td style="text-align: left">Identidade morphing. Vários valores de um elemento de identidade estão ligados a um valor de um elemento de identidade diferentes. Por exemplo, vários números de telefones estão ligados a um número de conta única</td>
    </tr>
    <tr>
      <td style="text-align: left">Q</td>
      <td style="text-align: left">Inconsistências do telefone. O número de telefone do comprador é suspeito</td>
    </tr>
    <tr>
      <td style="text-align: left">R</td>
      <td style="text-align: left">Ordem arriscada. A transação, o comprador e o lojista mostram informações correlacionadas de alto risco</td>
    </tr>
    <tr>
      <td style="text-align: left">T</td>
      <td style="text-align: left">Cobertura Time. O comprador está a tentar uma compra fora do horário esperado</td>
    </tr>
    <tr>
      <td style="text-align: left">U</td>
      <td style="text-align: left">Endereço não verificável. O endereço de cobrança ou de entrega não pode ser verificado</td>
    </tr>
    <tr>
      <td style="text-align: left">V</td>
      <td style="text-align: left">O cartão foi usado muitas vezes nos últimos 15 minutos</td>
    </tr>
    <tr>
      <td style="text-align: left">W</td>
      <td style="text-align: left">Marcado como suspeito. O endereço de cobrança ou de entrega é semelhante a um endereço previamente marcado como suspeito</td>
    </tr>
    <tr>
      <td style="text-align: left">Y</td>
      <td style="text-align: left">O endereço, cidade, estado ou país dos endereços de cobrança e entrega não se correlacionam</td>
    </tr>
    <tr>
      <td style="text-align: left">Z</td>
      <td style="text-align: left">Valor inválido. Como a solicitação contém um valor inesperado, um valor padrão foi substituído. Embora a transação ainda possa ser processada, examinar o pedido com cuidado para detectar anomalias</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisreplydatainternetinfocode">Lista de Valores - Payment.FraudAnalysis.ReplyData.InternetInfoCode</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">FREE-EM</td>
      <td style="text-align: left">O endereço de e-mail do comprador é de um provedor de e-mail gratuito</td>
    </tr>
    <tr>
      <td style="text-align: left">INTL-IPCO</td>
      <td style="text-align: left">O país do endereço de e-mail do comprador está fora dos EUA</td>
    </tr>
    <tr>
      <td style="text-align: left">INV-EM</td>
      <td style="text-align: left">O endereço de e-mail do comprador é inválido</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-EMBCO</td>
      <td style="text-align: left">O domínio do endereço de e-mail do comprador não é consistente com o país do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-IPBC</td>
      <td style="text-align: left">O endereço de e-mail do comprador não é consistente com a cidade do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-IPBCO</td>
      <td style="text-align: left">O endereço de e-mail do comprador não é consistente com o país do endereço de cobrança</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-IPBST</td>
      <td style="text-align: left">O endereço IP do comprador não é consistente com o estado no endereço de cobrança. No entanto, este código de informação não pode ser devolvido quando a inconsistência é entre estados imediatamente  adjacentes</td>
    </tr>
    <tr>
      <td style="text-align: left">MM-IPEM</td>
      <td style="text-align: left">O endereço de e-mail do comprador não é consistente com o endereço IP</td>
    </tr>
    <tr>
      <td style="text-align: left">RISK-EM</td>
      <td style="text-align: left">O domínio do e-mail do comprador (por exemplo, mail.example.com) está associado com alto risco</td>
    </tr>
    <tr>
      <td style="text-align: left">UNV-NID</td>
      <td style="text-align: left">O endereço IP do comprador é de um proxy anônimo. Estas entidades escondem completamente informações sobre o endereço de IP</td>
    </tr>
    <tr>
      <td style="text-align: left">UNV-RISK</td>
      <td style="text-align: left">O endereço IP é de origem de risco</td>
    </tr>
    <tr>
      <td style="text-align: left">UNV-EMBCO</td>
      <td style="text-align: left">O país do endereço de e-mail não corresponde ao país do endereço de cobrança</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentfraudanalysisreplydataiproutingmethod">Lista de Valores - Payment.FraudAnalysis.ReplyData.IpRoutingMethod</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Anonymizer</td>
      <td style="text-align: left">Endereços de IP estão escondidos porque o comprador é extremamente cauteloso, quer privacidade absoluta ou é fraudulento</td>
    </tr>
    <tr>
      <td style="text-align: left">AOL, AOL dialup, AOL POP and AOL proxy</td>
      <td style="text-align: left">Membros da AOL. Na maioria dos casos, o país pode ser identificado, mas o estado e cidade não podem</td>
    </tr>
    <tr>
      <td style="text-align: left">Cache proxy</td>
      <td style="text-align: left">Proxy usado através de um acelerador da Internet ou de uma distribuição de conteúdo de serviço. O comprador pode estar localizado em um país diferente do indicado pelo endereço de IP</td>
    </tr>
    <tr>
      <td style="text-align: left">Fixed</td>
      <td style="text-align: left">O endereço de IP está próximo ou no mesmo local que o comprador</td>
    </tr>
    <tr>
      <td style="text-align: left">International proxy</td>
      <td style="text-align: left">Proxy que contém tráfego de vários países. O comprador pode estar localizado em um país diferente do indicado pelo endereço de IP. Em muitos casos, redes corporativas estão roteando o tráfego de escritórios internacionais através de um ponto central, muitas vezes a sede corporativa</td>
    </tr>
    <tr>
      <td style="text-align: left">Mobile gateway</td>
      <td style="text-align: left">Gateway para conectar dispositivos móveis à internet. Muitas operadoras, especialmente na Europa, atendem mais do que um país e tráfego ocorre através de hubs de rede centralizados. O comprador pode estar localizado em um país diferente do indicado pelo endereço de IP</td>
    </tr>
    <tr>
      <td style="text-align: left">POP</td>
      <td style="text-align: left">Discagem do comprador em um ISP regional provavelmente perto da localização do endereço de IP, mas possivelmente através de limites geográficos</td>
    </tr>
    <tr>
      <td style="text-align: left">Regional proxy</td>
      <td style="text-align: left">Proxy que contém tráfego de vários estados dentro de um único país. O comprador pode estar localizado em um estado diferente do indicado pelo endereço de IP. Em muitos casos, redes corporativas estão roteando o tráfego de escritórios internacionais através de um ponto central, muitas vezes a sede corporativa</td>
    </tr>
    <tr>
      <td style="text-align: left">Satellite</td>
      <td style="text-align: left">Conexões por satélite. Se o uplink e o downlink estiverem cadastrados, o método roteamento é considerado padrão porque o remetente é conhecido. No entanto, se o downlink não está registrado, o comprador pode estar em qualquer lugar dentro do feixe padrão do satélite, que pode abranger um continente ou mais</td>
    </tr>
    <tr>
      <td style="text-align: left">SuperPOP</td>
      <td style="text-align: left">O comprador está discando em um ISP multi-estatal ou multinacional que provavelmente não é provável a localização do endereço de IP. O comprador pode estar discando através de limites geográficos</td>
    </tr>
    <tr>
      <td style="text-align: left">No value returned</td>
      <td style="text-align: left">O tipo de roteamento é desconhecido</td>
    </tr>
  </tbody>
</table>

<h2 id="lista-de-valores---paymentchargebacksnstatus">Lista de Valores - Payment.Chargebacks[n].Status</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Valor</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Received</td>
      <td style="text-align: left">Chargeback recebido da adquirente</td>
    </tr>
    <tr>
      <td style="text-align: left">AcceptedByMerchant</td>
      <td style="text-align: left">Chargeback aceito pela loja. Neste caso a loja entende que sofreu de fato um chargeback e não irá realizar a contestação</td>
    </tr>
    <tr>
      <td style="text-align: left">ContestedByMerchant</td>
      <td style="text-align: left">Chargeback contestado pela loja. Neste caso a loja enviou os documentos necessários para tentar reverter o chargeback</td>
    </tr>
  </tbody>
</table>

<p>2017-07-27-braspag-pagador</p>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://braspag.github.io//assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="http://www.braspag.com.br/fale-conosco/">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://braspag.github.io/">
        <img src="https://braspag.github.io//assets/images/logo.png" alt="Documentações e tutoriais">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="http://www.braspag.com.br/fale-conosco/">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/braspag">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://braspag.github.io//assets/js/jquery.min.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="https://braspag.github.io//assets/js/bootstrap.js"></script>
        <script src="https://braspag.github.io//assets/js/jquery.tocify.js"></script>
        <script src="https://braspag.github.io//assets/js/prettify.js"></script>
        <script>
        $(function() {
            var openedHeader = null;

            $("#toc").tocify({
                
                selectors: "h1,h2,h3,h4,h5,h6",
                
                hashGenerator: "pretty",
                ignoreSelector: ".no-toc",
                scrollTo: 100,
                smoothScroll: false,
                showEffect: "none"
            }).data("toc-tocify");

            $('ul').prev('li').addClass('has-subitens');
            $(window).scroll(function () {
                if ($('li.active').closest('.tocify-header') !== openedHeader) {
                    $('li.is-open').removeClass('is-open');

                    openedHeader = $('li.active').closest('.tocify-header');
                }

                openedHeader.find('ul:visible').prev('li').addClass('is-open');
            });

            $('.hamburger').click(function() {
                $('body').toggleClass('sidebar-closed');
            });

            $('.code-menu').click(function() {
                $('body').toggleClass('code-menu-closed');
            });

            prettyPrint();
        });
        </script>

        
        <script src="https://braspag.github.io//assets/js/jquery.highlight.js"></script>
        <script src="https://braspag.github.io//assets/js/lunr.js"></script>
        <script src="https://braspag.github.io//assets/js/search.js"></script>
        

        
        <script>
        let langs = '';

        $('div.highlighter-rouge').prepend( '<a class="fa expand-btn" title="Comutar"><i class="fa fa-expand" aria-hidden=true></i></a>' );
        $('div.highlighter-rouge').each(function (index) {
            if(!$(this).parent().hasClass('language-group')) {
                $(this).first().next('div.highlighter-rouge').andSelf().wrapAll('<div class="code-fullscreen"><div class="language-group"></div></div>');
            }
        });

        $('.content-container:not(.no-dark-box) div.highlighter-rouge').each(function (index) {
            let height = $(this).outerHeight();

            $(this).parent().parent().next('table').wrapAll('<div class="table-wrap" style="min-height:' + height + 'px;"></div> ');
        });

        $('.hide-btn').click(function() {
            $('.content-container').toggleClass('no-dark-box');
            $('.dark-box').toggle();

            $('.overlay').removeClass('opened');
            $('.code-fullscreen').removeClass('opened');
        });

        $('.expand-btn').click(function() {
            $('.overlay').toggleClass('opened');
            $(this).parent().parent().parent().toggleClass('opened');
            $(this).children('i.fa').toggleClass('fa-compress');
        });

        
        langs += "<a data-language-name='json'>JSON</a>";
        
        langs += "<a data-language-name='shell'>cURL</a>";
        
        langs += "<a data-language-name='html'>HTML</a>";
        

        $('.language-group').prepend('<div class="language-buttons">' + langs + '</div>');
        </script>

        <script src="https://braspag.github.io//assets/js/lang.js"></script>
        <script>
            $(function() {
                setupLanguages([  "json",  "shell",  "html", ]);
            });
        </script>
        

        <!-- Hotjar Tracking Code for https://braspag.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:715256,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
