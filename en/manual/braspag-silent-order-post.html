<!DOCTYPE html>
<html lang="en">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="en">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Integration Manual Silent Order Post &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://braspag.github.io//en/assets/favicon.png">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <script src="https://use.fontawesome.com/3ae06f1030.js"></script>
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/poole.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/syntax.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/hyde.css">

    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/bootstrap.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/jquery.tocify.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/jquery-ui.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/prettify.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/custom.css">
    <link rel="stylesheet" href="https://braspag.github.io//en/assets/css/braspag.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://braspag.github.io//en/manual/braspag-silent-order-post" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://braspag.github.io//en/en/manual/braspag-silent-order-post" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://braspag.github.io//en/atom.xml">
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Toggle"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="http://www.braspag.com.br/suporte/" class="help">Help</a>

                            
                            <div class="lang">
                                <span>Languages</span>

                                
                                    
                                    <a href="https://braspag.github.io//manual/braspag-silent-order-post">
                                    

                                        <img alt="Português" src="https://braspag.github.io//en/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://braspag.github.io//en/manual/braspag-silent-order-post">
                                    

                                        <img alt="English" src="https://braspag.github.io//en/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="https://braspag.github.io//en/">Home</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://braspag.github.io//en/manual/braspag-silent-order-post">Integration Manual Silent Order Post</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="silent-order-post">Silent Order Post</h1>

<p>The main objective of this document is to guide your implementation with the PagadorButton, for Pagador platform.</p>

<p>The PagadorButton is another way to implement the Authorization process with Pagador platform. Using the JavaScript© as a script to do this and show a button in your checkout, you only needs to set-up the next steps in your checkout.</p>

<h1 id="how-to">How To</h1>

<p>Follow below the way to implement the Silent Order Post:</p>

<p><img src="https://braspag.github.io//images/fluxo-silent-order-post-en.jpg" alt="Fluxo Silent Order Post" /></p>

<p><strong>STEP 1</strong></p>

<p>The customer finishes to checkout, and go to payment process.</p>

<p><strong>STEP 2</strong></p>

<p>a) The merchant must request a ticket (server to server) sending a POST to the following URL:</p>

<p><strong>https://transactionsandbox.pagador.com.br/post/api/public/v1/accesstoken?merchantid={mid_loja}</strong></p>

<p>For example: https://transactionsandbox.pagador.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000</p>

<h2 id="request">Request</h2>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v1/accesstoken?merchantid={mid_loja}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://transactionsandbox.pagador.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>MANDATORY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mid_loja</code></td>
      <td>API store identifier</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h2 id="response">Response</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantId"</span>: <span class="s2">"{5ed36d2f-65f2-e411-9408-000af7120b62}"</span>,
    <span class="s2">"AccessToken"</span>: <span class="s2">"NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ=="</span>,
    <span class="s2">"Issued"</span>: <span class="s2">"2018-07-23T11:09:32"</span>,
    <span class="s2">"ExpiresIn"</span>: <span class="s2">"2018-07-23T11:29:32"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>MANDATORY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>API store identifier</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AccessToken</code></td>
      <td>Access Token</td>
      <td>Text</td>
      <td>–</td>
      <td>NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ==</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Issued</code></td>
      <td>Date and time of the generation</td>
      <td>Text</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ExpiresIn</code></td>
      <td>Date and time of the expiration</td>
      <td>Text</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
  </tbody>
</table>

<p>b) In order to use this resource, for security reasons, it will be mandatory for Braspag to require, <strong>at least a valid IP of the establishment</strong>. Otherwise the requisition will not be authorized (<strong>HTTP 401 NotAuthorized</strong>).</p>

<p><strong>STEP 3</strong></p>

<p>a) As answer the establishment will receive a json (HTTP 201 Created) having among other information the ticket (AccessToken), as for example:</p>

<p><img src="https://braspag.github.io//images/response-ticket.jpg" alt="Response Ticket" /></p>

<p>For matters of safety, this ticket will give permissions to the establishment to save only 1 card in the deadline already established on the answer, through the attribute Expiresln (for default 20 minutes). What happens first will invalidate this same ticket for future usage.</p>

<p><strong>STEPS 4 ao 6</strong></p>

<p>a) The establishment will have to download a script provided by Braspag and attach it on the checkout page. This script will allow Braspag to process all of the card information without the establishment intervention</p>

<p>The download may be made from the following URL: <strong>https://www.pagador.com.br/post/scripts/silentorderpost-1.0.min.js</strong></p>

<p>b) The establishment will have to decorate the inputs from the form with the following classes:</p>

<ul>
  <li>For the credit/debit card holder: <strong>bp-sop-cardholdername</strong></li>
  <li>For credit/debit card number: <strong>bp-sop-cardnumber</strong></li>
  <li>For credit/debit card expiration date: <strong>bp-sop-cardexpirationdate</strong></li>
  <li>For the credit/debit card security code: <strong>bp-sop-cardcvvc</strong></li>
</ul>

<p>c) The script provided by Braspag present three events for the establishment’s manipulation and treatment which are: <strong>onSuccess</strong> (where will be returned the <strong>PaymentToken</strong> after the card data is processed), <strong>onError</strong> (in case there is any error in the consumption of Braspag services) and <strong>onInvalid</strong> (where the result of the validation of the inputs will be returned).</p>

<ul>
  <li>
    <p>On the input validation, the establishment may use the entire card data validation layer realized by Braspag in order to simplify the treatment on the checkout form. The returned messages on the validation result are available on the following languages: Portuguese (default) English and Spanish.</p>
  </li>
  <li>
    <p>The <strong>PaymentToken</strong> will be the token that will represent every card data provided by the buyer. It will be utilized by the establishment so there will not be the necessity of treating and processing the card data on your side. This token may be used both in transactions using Hosted Page or SOAP / REST implementations of Pagador.</p>
  </li>
</ul>

<p><strong>For matters of safety this PaymentToken may be used for only 1 authorization on Braspag. After the token processing, it will be invalid.</strong></p>

<p>Example of setup to be carried out by the establishment on the checkout page:</p>

<p><img src="https://braspag.github.io//images/pagina-checkout.jpg" alt="Pagina Checkout" /></p>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://braspag.github.io//en/assets/images/icon-doubt.svg" width="55px" height="53px" alt="Need Help?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Need Help?</h2>
        <p>If you didn't find your answer, <a href="http://www.braspag.com.br/fale-conosco/">send us a message</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Toggle left column" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://braspag.github.io//en/">
        <img src="https://braspag.github.io//en/assets/images/logo.png" alt="Documentações e tutoriais">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contact" href="http://www.braspag.com.br/fale-conosco/">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contact</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/braspag">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://braspag.github.io//en/assets/js/jquery.min.js"></script>
        <script src="https://braspag.github.io//en/assets/js/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="https://braspag.github.io//en/assets/js/bootstrap.js"></script>
        <script src="https://braspag.github.io//en/assets/js/jquery.tocify.js"></script>
        <script src="https://braspag.github.io//en/assets/js/prettify.js"></script>
        <script>
        $(function() {
            var openedHeader = null;

            $("#toc").tocify({
                
                selectors: "h1,h2,h3,h4,h5,h6",
                
                hashGenerator: "pretty",
                ignoreSelector: ".no-toc",
                scrollTo: 100,
                smoothScroll: false,
                showEffect: "none"
            }).data("toc-tocify");

            $('ul').prev('li').addClass('has-subitens');
            $(window).scroll(function () {
                if ($('li.active').closest('.tocify-header') !== openedHeader) {
                    $('li.is-open').removeClass('is-open');

                    openedHeader = $('li.active').closest('.tocify-header');
                }

                openedHeader.find('ul:visible').prev('li').addClass('is-open');
            });

            $('.hamburger').click(function() {
                $('body').toggleClass('sidebar-closed');
            });

            $('.code-menu').click(function() {
                $('body').toggleClass('code-menu-closed');
            });

            prettyPrint();
        });
        </script>

        
        <script src="https://braspag.github.io//en/assets/js/jquery.highlight.js"></script>
        <script src="https://braspag.github.io//en/assets/js/lunr.js"></script>
        <script src="https://braspag.github.io//en/assets/js/search.js"></script>
        

        
        <script>
        let langs = '';

        $('div.highlighter-rouge').prepend( '<a class="fa expand-btn" title="Toggle"><i class="fa fa-expand" aria-hidden=true></i></a>' );
        $('div.highlighter-rouge').each(function (index) {
            if(!$(this).parent().hasClass('language-group')) {
                $(this).first().next('div.highlighter-rouge').andSelf().wrapAll('<div class="code-fullscreen"><div class="language-group"></div></div>');
            }
        });

        $('.content-container:not(.no-dark-box) div.highlighter-rouge').each(function (index) {
            let height = $(this).outerHeight();

            $(this).parent().parent().next('table').wrapAll('<div class="table-wrap" style="min-height:' + height + 'px;"></div> ');
        });

        $('.hide-btn').click(function() {
            $('.content-container').toggleClass('no-dark-box');
            $('.dark-box').toggle();

            $('.overlay').removeClass('opened');
            $('.code-fullscreen').removeClass('opened');
        });

        $('.expand-btn').click(function() {
            $('.overlay').toggleClass('opened');
            $(this).parent().parent().parent().toggleClass('opened');
            $(this).children('i.fa').toggleClass('fa-compress');
        });

        
        langs += "<a data-language-name='shell'>cURL</a>";
        

        $('.language-group').prepend('<div class="language-buttons">' + langs + '</div>');
        </script>

        <script src="https://braspag.github.io//en/assets/js/lang.js"></script>
        <script>
            $(function() {
                setupLanguages([  "shell", ]);
            });
        </script>
        

        <!-- Hotjar Tracking Code for https://braspag.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:715256,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
